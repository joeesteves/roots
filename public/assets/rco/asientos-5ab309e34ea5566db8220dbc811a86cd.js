(function(){var e,a,t,n,r,i,o,c,u;r=function(){return"true"===$("#con_arbol").val()&&$.fn.arbolInit(),$.fn.gridRequest(),"index"!==$("#action_name").val()?(u(),e(),a(),i(!1)):$.fn.agregarFiltros([["desde","date"],["hasta","date"],["rco/cuentas","select"]]),$("#rco_asiento_moneda_id").change(function(){var e;return e=$("#rco_asiento_moneda_id option:selected").data("cot"),$("#rco_asiento_cotizacion").val(e)}),$("input, textarea").change(function(){return t()}),$(".agregar_campos").click(function(){var e,a,t,n,r,i,o,c,u;return u=(new Date).getTime(),c=new RegExp($(this).data("id"),"g"),$("#container").append($(this).data("fields").replace(c,u)),$.fn.activarCalcular(),$.fn.initChosen(),$(".chosen-single:visible").last().focus(),e=$(".cuenta"),a=e.length,a>1&&e.last().val(e[a-2].value).trigger("chosen:updated"),o=new RegExp("[0-9]"),r=$(".fecha"),i=r.length,i>1&&-1===["","0"].indexOf($("#vtos").val())&&o.test($("#vtos").val())?(t=new Date(r[i-2].value),t.setDate(t.getDate()+parseInt($("#vtos").val())),n=$.fn.armaFechas(t.getDate()+1,t.getMonth()+1,t.getFullYear()),r.last().val(n)):void 0}),$("form").on("click",".simil_agrega_campos",function(){return $(".agregar_campos").click()}),$("form").on("click",".quitar_campos",function(){return $(this).parent().prev("input[type=hidden]").val("1"),$(this).closest(".row").hide(),u(),t(),$(".chosen-single:visible")[1].focus()})},$.fn.gridRequest=function(e){var a,t;return a=["id","fecha","desc","importe","moneda","cotizacion"],t=[["Fecha","auto"],["desc","auto","Descripcion"],["Importe","auto"],["Moneda","auto"],["Cotizacion","auto"]],$.fn.gridPrepDatos(a,t,e)},u=function(){return o(),c(),n()},e=function(){return $("form").on("change",".debe",function(){return t(),o(),n()})},a=function(){return $("form").on("change",".haber",function(){return t(),c(),n()})},o=function(){return $("#debe").val(0),$(".debe:visible").each(function(){return $("#debe").val(parseFloat($("#debe").val())+parseFloat($(this).val()))})},c=function(){return $("#haber").val(0),$(".haber:visible").each(function(){return $("#haber").val(parseFloat($("#haber").val())+parseFloat($(this).val()))})},n=function(){return $("#diferencia").val($("#debe").val()-$("#haber").val())},i=function(e){return e===!0?$("input[type=submit]").removeAttr("disabled"):$("input[type=submit]").attr("disabled","disabled")},t=function(){return i($("#debe").val()===$("#haber").val()&&-1===["0",""].indexOf($("#debe").val())?!0:!1)},$(document).on("page:load",r),$(document).ready(r)}).call(this);