(function(){var e,n,a,t,r,i,o,c,u;r=function(){return"true"===$("#con_arbol").val()&&$.fn.arbolInit(),$.fn.gridRequest(),u(),e(),n(),i(!1),$("#rco_asiento_moneda_id").change(function(){var e;return e=$("#rco_asiento_moneda_id option:selected").data("cot"),$("#rco_asiento_cotizacion").val(e)}),$("input, textarea").change(function(){return a()}),$(".agregar_campos").click(function(){var e,n;return n=(new Date).getTime(),e=new RegExp($(this).data("id"),"g"),$("#container").append($(this).data("fields").replace(e,n)),$.fn.activarCalcular(),$.fn.initChosen(),$(".chosen-single:visible").last().focus()}),$("form").on("click",".simil_agrega_campos",function(){return $(".agregar_campos").click()}),$("form").on("click",".quitar_campos",function(){return $(this).parent().prev("input[type=hidden]").val("1"),$(this).closest(".row").hide(),u(),a(),$(".chosen-single:visible")[1].focus()})},$.fn.gridRequest=function(e){var n,a;return n=["id","fecha","desc","importe","moneda","cotizacion"],a=[["Fecha","auto"],["desc","auto","Descripcion"],["Importe","auto"],["Moneda","auto"],["Cotizacion","auto"]],$.fn.gridPrepDatos(n,a,e)},u=function(){return o(),c(),t()},e=function(){return $("form").on("change",".debe",function(){return a(),o(),t()})},n=function(){return $("form").on("change",".haber",function(){return a(),c(),t()})},o=function(){return $("#debe").val(0),$(".debe:visible").each(function(){return $("#debe").val(parseFloat($("#debe").val())+parseFloat($(this).val()))})},c=function(){return $("#haber").val(0),$(".haber:visible").each(function(){return $("#haber").val(parseFloat($("#haber").val())+parseFloat($(this).val()))})},t=function(){return $("#diferencia").val($("#debe").val()-$("#haber").val())},i=function(e){return e===!0?$("input[type=submit]").removeAttr("disabled"):$("input[type=submit]").attr("disabled","disabled")},a=function(){return i($("#debe").val()===$("#haber").val()&&""!==$("#debe").val()?!0:!1)},$(document).on("page:load",r),$(document).ready(r)}).call(this);