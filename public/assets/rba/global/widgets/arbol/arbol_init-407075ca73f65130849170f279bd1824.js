(function(){$.fn.arbolInit=function(e){var a;return void 0===e&&(e=$("#controller_path").val()),$("#arbol_actual").val(e),a=$.getJSON($("#root_path").val()+"rba/nodos.json?modelo="+e,function(e){var a,r,t;return t={datatype:"json",datafields:[{name:"id"},{name:"padre_id"},{name:"nombre"}],id:"id",localdata:e},a=new $.jqx.dataAdapter(t),a.dataBind(),r=a.getRecordsHierarchy("id","padre_id","items",[{name:"nombre",map:"label"}]),$("#jqxTree").jqxTree({source:r,width:"100%"}),$("#jqxTree").jqxTree("expandAll")}),$("#jqxTree").on("dragEnd",function(e){var a,r;return a=e.args.id,r=e.args.value,$.ajax({type:"PATCH",url:$("#root_path").val()+"rba/nodos/"+$("#jqxTree").jqxTree("getSelectedItem").id,data:{rba_nodo:{padre_id:$("#jqxTree").jqxTree("getSelectedItem").parentElement.id},es_drop:!0},dataType:"json"}),$("#jqxgrid").jqxGrid("updatebounddata")}),$("#jqxTree").on("select",function(e){var a,r,t;return a=e.args,r=$("#jqxTree").jqxTree("getItem",a.element),t=r.label,$.fn.gridRequest(r.id),$("#nodo_actual").val(r.id)})}}).call(this);