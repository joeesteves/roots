!function(e){e.jqx.jqxWidget("jqxMenu","",{}),e.extend(e.jqx._jqxMenu.prototype,{defineInstance:function(){this.items=new Array,this.mode="horizontal",this.width=null,this.height=null,this.minimizeWidth="auto",this.easing="easeInOutSine",this.animationShowDuration=200,this.animationHideDuration=200,this.autoCloseInterval=0,this.animationHideDelay=100,this.animationShowDelay=100,this.menuElements=new Array,this.autoSizeMainItems=!1,this.autoCloseOnClick=!0,this.autoCloseOnMouseLeave=!0,this.enableRoundedCorners=!0,this.disabled=!1,this.autoOpenPopup=!0,this.enableHover=!0,this.autoOpen=!0,this.autoGenerate=!0,this.clickToOpen=!1,this.showTopLevelArrows=!1,this.touchMode="auto",this.source=null,this.popupZIndex=17e3,this.rtl=!1,this.title="",this.events=["shown","closed","itemclick","initialized"]},createInstance:function(){var t=this;if(this.host.attr("role","menubar"),e.jqx.utilities.resize(this.host,function(){t.refresh()},!1,"popup"!=this.mode),this.host.css("outline","none"),this.source&&null!=this.source){var i=this.loadItems(this.source);this.element.innerHTML=i}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this.host.data("autoclose",{}),this._render(),this.setSize(),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{this.host.focus()}catch(e){}},loadItems:function(t,i){if(null!=t){if(0==t.length)return"";var s=this;this.items=new Array;var o="<ul>";return i&&(o='<ul style="width:'+i+';">'),e.map(t,function(e){return void 0==e?null:void(o+=s._parseItem(e))}),o+="</ul>"}},_parseItem:function(e){var t="";if(void 0==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);var s=!1;void 0!=e.selected&&e.selected&&(s=!0);var o=!1;return void 0!=e.disabled&&e.disabled&&(o=!0),t+="<li",o&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),void 0!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(t+=e.subMenuWidth?this.loadItems(e.items,e.subMenuWidth):this.loadItems(e.items)),t+="</li>"},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth){var t=e(window).width();if(!e.jqx.response){var i=!1;if(navigator.userAgent.match(/Windows|Linux|MacOS/)){var s=navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0;s||(i=!0)}var o=this.minimizeWidth;if(i&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&e.jqx.response){var n=new e.jqx.response;("Phone"==n.device.type||"Tablet"==n.device.type)&&(this.minimized||this.minimize())}else o>t&&!this.minimized?this.minimize():this.minimized&&t>=o&&this.restore()}},minimize:function(){if(!this.minimized){var t=this;this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple";var i=this.host.closest("div.jqx-menu-wrapper");if(i.remove(),e("#menuWrapper"+this.element.id).remove(),e.each(this.items,function(){var t=this,i=(e(t.element),e(t.subMenuElement)),s=i.closest("div.jqx-menu-popup");s.remove()}),this.source){var s=this.loadItems(this.source);this.element.innerHTML=s}else if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var o=this.host.find("ul:first");o.length>0&&this._createMenu(o[0])}this._render();var n=this.host.find("ul:first");n.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var i=n.closest("div.jqx-menu-wrapper");i[0].id="menuWrapper"+this.element.id,i.detach(),i.appendTo(e(document.body)),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-menu")),i.addClass(this.toThemeProperty("jqx-menu-minimized")),i.addClass(this.toThemeProperty("jqx-widget-header")),n.children().hide(),i.hide(),i.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=e("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=e("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),e("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),t.minimizedHidden=!0;var r=function(){t.minimizedHidden=!0,t.minimizedItem.show();var e=!1;"right"==t.minimizedItem.css("float")&&(e=!0),i.animate({left:e?t.host.coord().left+t.host.width()+i.width():-i.outerWidth(),opacity:0},t.animationHideDuration,function(){i.find("ul:first").children().hide(),i.hide()})},a=function(e){if(t.minimizedHidden){i.find("ul:first").children().show(),t.minimizedHidden=!1,i.show(),i.css("opacity",0),i.css("left",-i.outerWidth());var s=!1,o=i.width();"right"==t.minimizedItem.css("float")&&(i.css("left",t.host.coord().left+t.host.width()+o),s=!0),i.css("top",t.host.coord().top+t.host.height()),i.animate({left:s?t.host.coord().left+t.host.width()-o:t.host.coord().left,opacity:.95},t.animationShowDuration,function(){})}else r(e);t._raiseEvent("2",{item:t.minimizedItem[0],event:e}),t.setSize()};this.addHandler(e(window),"orientationchange.jqxmenu"+this.element.id,function(){setTimeout(function(){if(!t.minimizedHidden){var e=i.width(),s=!1,e=i.width();"right"==t.minimizedItem.css("float")&&(s=!0),i.css("top",t.host.coord().top+t.host.height()),i.css({left:s?t.host.coord().left+t.host.width()-e:t.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(e){a(e)})}},restore:function(){if(this.minimized){this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove();var t=e("#menuWrapper"+this.element.id);if(t.remove(),this.source){var i=this.loadItems(this.source);this.element.innerHTML=i}else if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this.setSize(),this._render()}},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),e(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(e){e||this.setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(t){var i=null!=t?t.data:this,s=i.items;if(e.each(s,function(){var e=this;1==e.hasItems&&e.isOpen&&i._closeItem(i,e)}),"popup"==i.mode&&null!=t){var o=i._isRightClick(t);o||i.close()}},closeItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),o=this;return e.each(o.items,function(){var e=this;1==e.isOpen&&e.element==s&&(o._closeItem(o,e),e.parentId&&o.closeItem(e.parentId))}),!0},openItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),o=this;return e.each(o.items,function(){var e=this;0==e.isOpen&&e.element==s&&(o._openItem(o,e),e.parentId&&o.openItem(e.parentId))}),!0},_getClosedSubMenuOffset:function(t){var i=e(t.subMenuElement),s=-i.outerHeight(),o=-i.outerWidth(),n=0==t.level&&"horizontal"==this.mode;switch(n?o=0:s=0,t.openVerticalDirection){case"up":case"center":s=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):o=n?0:i.outerWidth();break;case"center":o=n?0:i.outerWidth()}return{left:o,top:s}},_closeItem:function(t,i,s,o){if(null==t||null==i)return!1;var n=e(i.subMenuElement),r=0==i.level&&"horizontal"==this.mode,a=this._getClosedSubMenuOffset(i),l=a.top,h=a.left,d=(e(i.element),n.closest("div.jqx-menu-popup"));if(null!=d){var m=t.animationHideDelay;1==o&&(m=0),null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null);var u=function(){i.isOpen=!1,r?n.stop().animate({top:l},t.animationHideDuration,function(){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),e(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),d.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var s=e(i.arrow);s.length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),e.jqx.aria(e(i.element),"aria-expanded",!1),d.css({display:"none"}),0==t.animationHideDuration&&n.css({top:l}),t._raiseEvent("1",i)}):(!e.jqx.browser.msie,n.stop().animate({left:h},t.animationHideDuration,function(){if(0==t.animationHideDuration&&n.css({left:h}),i.level>0){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}else{e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}e.jqx.aria(e(i.element),"aria-expanded",!1),d.css({display:"none"}),t._raiseEvent("1",i)}))};if(m>0?n.data("timer").hide=setTimeout(function(){u()},m):u(),void 0!=s&&s){var p=n.children();e.each(p,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){{e(t.menuElements[this.id].subMenuElement)}t._closeItem(t,t.menuElements[this.id],!0,!0)}})}}},getSubItems:function(t,i){if(null==t)return!1;var s=this,o=new Array;null!=i&&e.extend(o,i);var n=t,r=this.menuElements[n],a=e(r.subMenuElement),l=a.find(".jqx-menu-item");return e.each(l,function(){o[this.id]=s.menuElements[this.id];var t=s.getSubItems(this.id,o);e.extend(o,t)}),o},disable:function(t,i){if(null!=t){var s=t,o=this;if(this.menuElements[s]){var n=this.menuElements[s];n.disabled=i;var r=e(n.element);n.element.disabled=i,e.each(r.children(),function(){this.disabled=i}),i?(r.addClass(o.toThemeProperty("jqx-menu-item-disabled")),r.addClass(o.toThemeProperty("jqx-fill-state-disabled"))):(r.removeClass(o.toThemeProperty("jqx-menu-item-disabled")),r.removeClass(o.toThemeProperty("jqx-fill-state-disabled")))}}},_setItemProperty:function(e,t,i){if(null!=e){var s=e;if(this.menuElements[s]){var o=this.menuElements[s];o[t]&&(o[t]=i)}}},setItemOpenDirection:function(t,i,s){if(null!=t){var o=t,n=this,r=e.jqx.browser.msie&&e.jqx.browser.version<8;if(this.menuElements[o]){var a=this.menuElements[o];if(null!=i&&(a.openHorizontalDirection=i,a.hasItems&&a.level>0)){var l=e(a.element);if(void 0!=l){var h=e(a.arrow);null==a.arrow&&(h=e('<span id="arrow'+l[0].id+'"></span>'),r?h.appendTo(l):h.prependTo(l),a.arrow=h[0]),h.removeClass(),"left"==a.openHorizontalDirection?(h.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("left"))),h.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("left")))):(h.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("right"))),h.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("right")))),h.css("visibility","visible"),r?(h.css("display","inline-block"),h.css("float","none")):(h.css("display","block"),h.css("float","right"))}}if(null!=s){a.openVerticalDirection=s;var h=e(a.arrow),l=e(a.element);if(!n.showTopLevelArrows)return;void 0!=l&&(null==a.arrow&&(h=e('<span id="arrow'+l[0].id+'"></span>'),r?h.appendTo(l):h.prependTo(l),a.arrow=h[0]),h.removeClass(),"down"==a.openVerticalDirection?(h.addClass(n.toThemeProperty("jqx-menu-item-arrow-down")),h.addClass(n.toThemeProperty("jqx-icon-arrow-down"))):(h.addClass(n.toThemeProperty("jqx-menu-item-arrow-up")),h.addClass(n.toThemeProperty("jqx-icon-arrow-up"))),h.css("visibility","visible"),r?(h.css("display","inline-block"),h.css("float","none")):(h.css("display","block"),h.css("float","right")))}}}},_getSiblings:function(e){var t=new Array,s=0;for(i=0;i<this.items.length;i++)this.items[i]!=e&&this.items[i].parentId==e.parentId&&this.items[i].hasItems&&(t[s++]=this.items[i]);return t},_openItem:function(t,i,s){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var o=t.popupZIndex;void 0!=s&&(o=s);var n=t.animationHideDuration;t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=n,this.host.focus();var r=[5,5],a=e(i.subMenuElement);null!=a&&a.stop(),null!=a.data("timer").hide&&clearTimeout(a.data("timer").hide);var l=a.closest("div.jqx-menu-popup"),h=e(i.element),d=0==i.level?this._getOffset(i.element):h.position();if(i.level>0&&this.hasTransform){var m=parseInt(h.coord().top)-parseInt(this._getOffset(i.element).top);d.top+=m}0==i.level&&"popup"==this.mode&&(d=h.coord());var u=0==i.level&&"horizontal"==this.mode,p=u?d.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(e(e(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-r[0]:parseInt(a.outerWidth());if(l.css({visibility:"visible",display:"block",left:p,top:u?d.top+h.outerHeight():d.top,zIndex:o}),a.css("display","block"),"horizontal"!=this.mode&&0==i.level){var c=this._getOffset(this.element);l.css("left",-1+c.left+this.host.outerWidth()),a.css("left",-a.outerWidth())}else{var v=this._getClosedSubMenuOffset(i);a.css("left",v.left),a.css("top",v.top)}l.css({height:parseInt(a.outerHeight())+parseInt(r[1])+"px"});var f=0,g=0;switch(i.openVerticalDirection){case"up":if(u){a.css("top",a.outerHeight()),f=r[1];var x=parseInt(a.parent().css("padding-bottom"));isNaN(x)&&(x=0),x>0&&l.addClass(this.toThemeProperty("jqx-menu-popup-clear")),a.css("top",a.outerHeight()-x),l.css({display:"block",top:d.top-l.outerHeight(),zIndex:o})}else f=r[1],a.css("top",a.outerHeight()),l.css({display:"block",top:d.top-l.outerHeight()+r[1]+h.outerHeight(),zIndex:o});break;case"center":u?(a.css("top",0),l.css({display:"block",top:d.top-l.outerHeight()/2+r[1],zIndex:o})):(a.css("top",0),l.css({display:"block",top:d.top+h.outerHeight()/2-l.outerHeight()/2+r[1],zIndex:o}))}switch(i.openHorizontalDirection){case this._getDir("left"):u?l.css({left:d.left-(l.outerWidth()-h.outerWidth()-r[0])}):(g=0,a.css("left",l.outerWidth()),l.css({left:d.left-l.outerWidth()+2*i.level}));break;case"center":u?l.css({left:d.left-(l.outerWidth()/2-h.outerWidth()/2-r[0]/2)}):(l.css({left:d.left-(l.outerWidth()/2-h.outerWidth()/2-r[0]/2)}),a.css("left",l.outerWidth()))}if(u){if(parseInt(a.css("top"))==f)return void(i.isOpen=!0)}else if(parseInt(a.css("left"))==g)return void(1==i.isOpen);e.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});var w=e.data(t.element,"animationHideDelay");t.animationHideDelay=w,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),a.data("timer").show=setTimeout(function(){if(null!=l)if(u){a.stop(),a.css("left",g),!e.jqx.browser.msie,h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(e(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(e(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("jqx-rc-b-expanded")));var s=e(i.arrow);s.length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(a.css({top:f}),i.isOpen=!0,t._raiseEvent("0",i),e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({top:f},t.animationShowDuration,t.easing,function(){i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0),t._raiseEvent("0",i)})}else{if(a.stop(),a.css("top",f),!e.jqx.browser.msie,i.level>0){h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}else{h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-top-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}!e.jqx.browser.msie,0==t.animationShowDuration?(a.css({left:g}),t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({left:g},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)})}},this.animationShowDelay)},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var s=this,o=0;if(this.host.removeClass(s.toThemeProperty("jqx-menu-horizontal")),this.host.removeClass(s.toThemeProperty("jqx-menu-vertical")),this.host.removeClass(s.toThemeProperty("jqx-menu")),this.host.removeClass(s.toThemeProperty("jqx-widget")),this.host.addClass(s.toThemeProperty("jqx-widget")),this.host.addClass(s.toThemeProperty("jqx-menu")),void 0!=t&&void 0!=i&&"popup"==i){if(this.host.parent().length>0&&this.host.parent().parent().length>0&&this.host.parent().parent()[0]==document.body){var n=e.data(document.body,"jqxMenuOldHost"+this.element.id);if(null!=n){var r=this.host.closest("div.jqx-menu-wrapper");r.remove(),r.appendTo(n),this.host.css("display","block"),this.host.css("visibility","visible"),r.css("display","block"),r.css("visibility","visible")}}}else void 0==t&&void 0==i&&e.data(document.body,"jqxMenuOldHost"+this.element.id,this.host.parent()[0]);switch(this.autoOpenPopup&&"popup"==this.mode?(this.addHandler(e(document),"contextmenu."+this.element.id,function(){return!1}),this.addHandler(e(document),"mousedown.menu"+this.element.id,function(e){s._openContextMenu(e)})):(this.removeHandler(e(document),"contextmenu."+this.element.id),this.removeHandler(e(document),"mousedown.menu"+this.element.id)),this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),this.mode){case"horizontal":this.host.addClass(s.toThemeProperty("jqx-widget-header")),this.host.addClass(s.toThemeProperty("jqx-menu-horizontal")),e.each(this.items,function(){var t=this;$element=e(t.element);var i=e(t.arrow);if(i.removeClass(),t.hasItems&&t.level>0){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float",s._getDir("right")),i.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right"))),t.arrow=i[0]}if(0==t.level){if(e(t.element).css("float",s._getDir("left")),!t.ignoretheme&&t.hasItems&&s.showTopLevelArrows){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),n=e.jqx.browser.msie&&e.jqx.browser.version<8;null==t.arrow?n?i.appendTo($element):i.prependTo($element):i=e(t.arrow),"down"==t.openVerticalDirection?(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-down")),i.addClass(s.toThemeProperty("jqx-icon-arrow-down"))):(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-up")),i.addClass(s.toThemeProperty("jqx-icon-arrow-up"))),i.css("visibility","visible"),n?i.css("display","inline-block"):(i.css("display","block"),i.css("float","right")),t.arrow=i[0]}else if(!t.ignoretheme&&t.hasItems&&!s.showTopLevelArrows&&null!=t.arrow){var i=e(t.arrow);i.remove(),t.arrow=null}o=Math.max(o,$element.height())}});break;case"vertical":case"popup":case"simple":if(this.host.addClass(s.toThemeProperty("jqx-menu-vertical")),e.each(this.items,function(){var t=this;if($element=e(t.element),t.hasItems&&!t.ignoretheme){if(t.arrow&&e(t.arrow).remove(),"simple"==s.mode)return!0;var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float","right"),0==t.level?(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-top-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))):(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))),t.arrow=i[0]}$element.css("float","none")}),"popup"==this.mode){this.host.addClass(s.toThemeProperty("jqx-widget-content")),this.host.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var r=this.host.closest("div.jqx-menu-wrapper");this.host.addClass(s.toThemeProperty("jqx-popup")),r[0].id="menuWrapper"+this.element.id,r.appendTo(e(document.body))}else this.host.addClass(s.toThemeProperty("jqx-widget-header"));if("popup"==this.mode){var a=this.host.height();this.host.css("position","absolute"),this.host.css("top","0"),this.host.css("left","0"),"simple"!=this.mode&&(this.host.height(a),this.host.css("display","none"))}}var l=this.isTouchDevice();this.autoCloseOnClick&&(this.removeHandler(e(document),"mousedown.menu"+this.element.id,s._closeAfterClick),this.addHandler(e(document),"mousedown.menu"+this.element.id,s._closeAfterClick,s),l&&(this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,s._closeAfterClick,s),this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,s._closeAfterClick,s)))},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var i=e.jqx.mobile.isSafariMobileBrowser(),s=e(t).coord(!0),o=s.top,n=s.left;"0px"!=e("body").css("border-top-width")&&(o=parseInt(o)+this._getBodyOffset().top),"0px"!=e("body").css("border-left-width")&&(n=parseInt(n)+this._getBodyOffset().left);var r=e.jqx.mobile.isWindowsPhone();if(this.hasTransform||null!=i&&i||r){var a={left:e.jqx.mobile.getLeftPos(t),top:e.jqx.mobile.getTopPos(t)};return a}return{left:n,top:o}},_isRightClick:function(e){var t;if(!e)var e=window.event;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){var t=this,i=t._isRightClick(e);i&&t.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var t=this,i=e.data(this.element,"contextMenuOpened"+this.element.id);if(i){{this.host}e.each(t.items,function(){var e=this;e.hasItems&&t._closeItem(t,e)}),e.each(t.items,function(){var t=this;if(1==t.isOpen){$submenu=e(t.subMenuElement);var i=$submenu.closest("div.jqx-menu-popup");i.hide(this.animationHideDuration)}}),this.host.hide(this.animationHideDuration),e.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t)}},open:function(t,i){if("popup"==this.mode){var s=0;"block"==this.host.css("display")&&(this.close(),s=this.animationHideDuration);var o=this;(void 0==t||null==t)&&(t=0),(void 0==i||null==i)&&(i=0),setTimeout(function(){o.host.show(o.animationShowDuration),o.host.css("visibility","visible"),e.data(o.element,"contextMenuOpened"+o.element.id,!0),o._raiseEvent("0",o),o.host.css("z-index",9999),void 0!=t&&void 0!=i&&o.host.css({left:t,top:i})},s)}},_renderHover:function(e,t){var i=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){t.disabled||t.separator||!i.enableHover||i.disabled||(t.level>0?(e.addClass(i.toThemeProperty("jqx-fill-state-hover")),e.addClass(i.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(i.toThemeProperty("jqx-fill-state-hover")),e.addClass(i.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!i.enableHover||i.disabled||(t.level>0?(e.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.removeClass(i.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.removeClass(i.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(t){var i=null!=t?t.data:this,s=!1;i.autoCloseOnClick&&(e.each(e(t.target).parents(),function(){return this.className.indexOf&&-1!=this.className.indexOf("jqx-menu")?(s=!0,!1):void 0}),s||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var t=this;if(t.autoSizeMainItems&&"horizontal"==this.mode){var i=this.maxHeight;parseInt(i)>parseInt(this.host.height())&&(i=parseInt(this.host.height())),i=parseInt(this.host.height()),e.each(this.items,function(){var s=this;if($element=e(s.element),0==s.level&&i>0){var o=$element.children().length>0?parseInt($element.children().height()):$element.height(),n=t.host.find("ul:first"),r=parseInt(n.css("padding-top")),a=parseInt(n.css("margin-top")),l=i-2*(a+r),h=parseInt(l)/2-o/2,d=parseInt(h),m=parseInt(h);if($element.css("padding-top",d),$element.css("padding-bottom",m),parseInt($element.outerHeight())>l){var u=1;$element.css("padding-top",d-u),d-=u}}})}e.each(this.items,function(){var t=this;if($element=e(t.element),t.hasItems&&t.level>0&&t.arrow){var i=e(t.arrow),s=e(t.element).height();s>15&&i.css("margin-top",(s-15)/2)}})},_render:function(t,i){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled")));var s=this.popupZIndex,o=[5,5],n=this;e.data(n.element,"animationHideDelay",n.animationHideDelay);var r=this.isTouchDevice(),a=r&&(e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0),l=!1;if(-1!=navigator.platform.toLowerCase().indexOf("win"))if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0)this.touchDevice=!0;else if(navigator.userAgent.indexOf("Touch")>=0){var h="MSPointerDown"in window;(h||e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(l=!0,a=!0,n.clickToOpen=!0,n.autoCloseOnClick=!1,n.enableHover=!1)}e.data(document.body,"menuel",this),this.hasTransform=e.jqx.utilities.hasTransform(this.host),this._applyOrientation(t,i),n.enableRoundedCorners&&this.host.addClass(n.toThemeProperty("jqx-rc-all")),e.each(this.items,function(){var t=this,i=e(t.element);if(i.attr("role","menuitem"),n.enableRoundedCorners&&i.addClass(n.toThemeProperty("jqx-rc-all")),n.removeHandler(i,"click"),n.addHandler(i,"click",function(i){if(!t.disabled&&!n.disabled&&(n._raiseEvent("2",{item:t.element,event:i}),n.autoOpen?!n.autoCloseOnClick||r||n.clickToOpen||t.closeOnClick&&(i.data=n,n._closeAll(i)):t.level>0&&(!n.autoCloseOnClick||r||n.clickToOpen||(i.data=n,n._closeAll(i))),r&&n.autoCloseOnClick&&(i.data=n,t.hasItems||n._closeAll(i)),"A"!=i.target.tagName&&"a"!=i.target.tagName)){var s=null!=t.anchor?e(t.anchor):null;if(null!=s&&s.length>0){var o=s.attr("href"),a=s.attr("target");null!=o&&(null!=a?window.open(o,a):window.location=o)}}}),n.removeHandler(i,"mouseenter"),n.removeHandler(i,"mouseleave"),a||"simple"==n.mode||n._renderHover(i,t,r),null!=t.subMenuElement){var l=e(t.subMenuElement);if("simple"==n.mode)return l.show(),!0;l.wrap('<div class="jqx-menu-popup '+n.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+s+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),l.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-l.outerHeight()}),l.data("timer",{}),t.level>0?l.css("left",-l.outerWidth()):"horizontal"==n.mode&&l.css("left",0),s++;var h=e(t.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(e(t.subMenuElement).outerWidth())+parseInt(o[0])+"px",height:parseInt(e(t.subMenuElement).outerHeight())+parseInt(o[1])+"px"}),d=i.closest("div.jqx-menu-popup");if(d.length>0){var m=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),c=l.css("padding-right");h.appendTo(d),l.css("margin-left",m),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",c)}else{var m=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),c=l.css("padding-right");h.appendTo(e(document.body)),l.css("margin-left",m),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",c)}n.clickToOpen?(n.removeHandler(i,"mousedown"),n.addHandler(i,"mousedown",function(e){clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t)})):((r||a)&&(n.removeHandler(i,e.jqx.mobile.getTouchEventName("touchstart")),n.addHandler(i,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||"popup"==n.mode||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t),!1})),a||(n.addHandler(i,"mouseenter",function(){if((n.autoOpen||t.level>0&&!n.autoOpen)&&clearTimeout(l.data("timer").hide),t.parentId&&0!=t.parentId&&n.menuElements[t.parentId]){var e=n.menuElements[t.parentId].isOpen;if(!e)return}return(n.autoOpen||t.level>0&&!n.autoOpen)&&n._openItem(n,t),!1}),n.addHandler(i,"mousedown",function(){n.autoOpen||0!=t.level||(clearTimeout(l.data("timer").hide),null!=l&&l.stop(),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t))}),n.addHandler(i,"mouseleave",function(i){if(n.autoCloseOnMouseLeave){clearTimeout(l.data("timer").hide);var s=e(t.subMenuElement),o={left:parseInt(i.pageX),top:parseInt(i.pageY)},r={left:parseInt(s.coord().left),top:parseInt(s.coord().top),width:parseInt(s.outerWidth()),height:parseInt(s.outerHeight())},a=!0;r.left-5<=o.left&&o.left<=r.left+r.width+5&&r.top<=o.top&&o.top<=r.top+r.height&&(a=!1),a&&n._closeItem(n,t,!0)}}),n.removeHandler(h,"mouseenter"),n.addHandler(h,"mouseenter",function(){clearTimeout(l.data("timer").hide)}),n.removeHandler(h,"mouseleave"),n.addHandler(h,"mouseleave",function(){n.autoCloseOnMouseLeave&&(clearTimeout(l.data("timer").hide),clearTimeout(l.data("timer").show),null!=l&&l.stop(),n._closeItem(n,t,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)
},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e=e.replace(".",""),e="99"+e,e/=1;this.items[e];)e=Math.random()+"",e=e.replace(".",""),e/=1;return"menuItem"+e},_createMenu:function(t,i){if(null!=t){void 0==i&&(i=!0),null==i&&(i=!0);for(var s=e(t).find("li"),o=0,n=0;n<s.length;n++){var r=s[n],a=e(r);if(-1!=r.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=r.id;l||(l=this.createID()),i&&(r.id=l,this.items[o]=new e.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[o]),o+=1;var h=0,d=this,m=a.children();m.each(function(){return i||(this.className="",d.autoGenerate&&(e(d.items[o-1].subMenuElement)[0].className="",d.minimized||e(d.items[o-1].subMenuElement).addClass(d.toThemeProperty("jqx-widget-content")),e(d.items[o-1].subMenuElement).addClass(d.toThemeProperty("jqx-menu-dropdown")),e(d.items[o-1].subMenuElement).addClass(d.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(i&&(d.items[o-1].subMenuElement=this),!1):!d.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(i&&(d.items[o-1].subMenuElement=this),this.className="",d.minimized||e(this).addClass(d.toThemeProperty("jqx-widget-content")),e(this).addClass(d.toThemeProperty("jqx-menu-dropdown")),e(this).addClass(d.toThemeProperty("jqx-popup")),e(this).attr("role","menu"),e(this).addClass(d.rtl?d.toThemeProperty("jqx-rc-l"):d.toThemeProperty("jqx-rc-r")),e(this).addClass(d.toThemeProperty("jqx-rc-b")),!1)});var u=a.parents();u.each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(h=this.id,!1):!d.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(h=this.id,!1)});var p=!1,c=r.getAttribute("type"),v=r.getAttribute("ignoretheme")||r.getAttribute("data-ignoretheme");if(v?("true"==v||1==v)&&(v=!0):v=!1,c){if("separator"==c)var p=!0}else c=r.type;p||(c=h?"sub":"top");var f=this.items[o-1];if(i){f.id=l,f.parentId=h,f.type=c,f.separator=p,f.element=s[n];var g=a.children("a");f.level=a.parents("li").length,f.anchor=g.length>0?g:null}f.ignoretheme=v;var x=this.menuElements[h];null!=x&&x.ignoretheme&&(f.ignoretheme=x.ignoretheme,v=x.ignoretheme),this.autoGenerate&&("separator"==c?(a.removeClass(),a.addClass(this.toThemeProperty("jqx-menu-item-separator")),a.attr("role","separator")):v||(a[0].className="",this.rtl&&a.addClass(this.toThemeProperty("jqx-rtl")),f.level>0&&!d.minimized?(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item"))):(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item-top"))))),i&&!v&&(f.hasItems=a.find("li").length>0,f.hasItems&&f.element&&(e.jqx.aria(e(f.element),"aria-haspopup",!0),f.subMenuElement.id||(f.subMenuElement.id=e.jqx.utilities.createId()),e.jqx.aria(e(f.element),"aria-owns",f.subMenuElement.id)))}}}},destroy:function(){e.jqx.utilities.resize(this.host,null,!0);var t=this.host.closest("div.jqx-menu-wrapper");t.remove(),e("#menuWrapper"+this.element.id).remove();var i=this;this.removeHandler(e(document),"mousedown.menu"+this.element.id,i._closeAfterClick),this.removeHandler(e(document),"mouseup.menu"+this.element.id,i._closeAfterClick),e.data(document.body,"jqxMenuOldHost"+this.element.id,null),this.isTouchDevice()&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,this._closeAfterClick,this),e(window).off&&e(window).off("resize.menu"+i.element.id),e.each(this.items,function(){var t=this,s=e(t.element);i.removeHandler(s,"click"),i.removeHandler(s,"selectstart"),i.removeHandler(s,"mouseenter"),i.removeHandler(s,"mouseleave"),i.removeHandler(s,"mousedown"),i.removeHandler(s,"mouseleave");var o=e(t.subMenuElement),n=o.closest("div.jqx-menu-popup");n.remove(),delete this.subMenuElement,delete this.element}),e.data(document.body,"menuel",null),delete this.menuElements,this.items=new Array,delete this.items;var s=e.data(this.element,"jqxMenu");s&&delete s.instance,this.host.removeClass(),this.host.remove(),delete this.host,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var o=new jQuery.Event(s);"2"==t&&(args=i.item,args.owner=this,e.extend(o,i.event),o.type="itemclick"),o.owner=this,o.args=args;var n=this.host.trigger(o);return n},propertyChangedHandler:function(t,i,s,o){if(void 0!=this.isInitialized&&0!=this.isInitialized&&("disabled"==i&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),o!=s)){if("touchMode"==i&&(this._isTouchDevice=null,t._render(o,s)),"source"==i&&null!=t.source){var n=t.loadItems(t.source);t.element.innerHTML=n;var r=t.host.find("ul:first");r.length>0&&(t.refresh(),t._createMenu(r[0]),t._render())}"autoCloseOnClick"==i?0==o?t.removeHandler(e(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(e(document),"mousedown.menu"+this.element.id,t,t._closeAll):"mode"==i||"width"==i||"height"==i||"showTopLevelArrows"==i?(t.refresh(),"mode"==i?t._render(o,s):t._applyOrientation()):"theme"==i&&e.jqx.utilities.setTheme(s,o,t.host)}}})}(jQuery),function(e){e.jqx._jqxMenu.jqxMenuItem=function(e,t,i){var s={id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0};return s}}(jQuery);