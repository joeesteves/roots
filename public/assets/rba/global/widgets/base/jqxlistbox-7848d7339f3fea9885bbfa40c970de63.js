!function(e){e.jqx.jqxWidget("jqxListBox","",{}),e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){this.disabled=!1,this.width=null,this.height=null,this.items=new Array,this.multiple=!1,this.selectedIndex=-1,this.selectedIndexes=new Array,this.source=null,this.scrollBarSize=e.jqx.utilities.scrollBarSize,this.enableHover=!0,this.enableSelection=!0,this.visualItems=new Array,this.groups=new Array,this.equalItemsWidth=!0,this.itemHeight=-1,this.visibleItems=new Array,this.emptyGroupText="Group",this.checkboxes=!1,this.hasThreeStates=!1,this.autoHeight=!1,this.autoItemsHeight=!1,this.roundedcorners=!0,this.touchMode="auto",this.displayMember="",this.valueMember="",this.searchMode="startswithignorecase",this.incrementalSearch=!0,this.incrementalSearchDelay=1e3,this.incrementalSearchKeyDownDelay=300,this.allowDrag=!1,this.allowDrop=!0,this.dropAction="default",this.touchModeStyle="auto",this.keyboardNavigation=!0,this.enableMouseWheel=!0,this.multipleextended=!1,this.emptyString="null",this.rtl=!1,this.rendered=null,this.renderer=null,this.dragStart=null,this.dragEnd=null,this.ready=null,this._checkForHiddenParent=!0,this.aria={"aria-disabled":{name:"disabled",type:"boolean"}},this.events=["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]},createInstance:function(){15!=e.jqx.utilities.scrollBarSize&&(this.scrollBarSize=e.jqx.utilities.scrollBarSize),null==this.width&&(this.width=200),null==this.height&&(this.height=200),this.render();var t=this;e.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,this._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){this.element.innerHTML="";var t=this.element.className;t+=" "+this.toThemeProperty("jqx-listbox"),t+=" "+this.toThemeProperty("jqx-reset"),t+=" "+this.toThemeProperty("jqx-rc-all"),t+=" "+this.toThemeProperty("jqx-widget"),t+=" "+this.toThemeProperty("jqx-widget-content"),this.element.className=t;var i=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),i=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),0==this.host.height()&&this.host.height(200),i=!0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)+"px"),this.multiple||this.multipleextended||this.checkboxes?e.jqx.aria(this,"aria-multiselectable",!0):e.jqx.aria(this,"aria-multiselectable",!1);var s=e("<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+this.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+this.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>");this._checkForHiddenParent&&(this._addInput(),this.host.attr("tabIndex")||this.host.attr("tabIndex",1)),this.host.attr("role","listbox"),this.host.append(s);var l=this.host.find("#verticalScrollBar"+this.element.id);if(!this.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!l.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var r=parseInt(this.host.height())/2;0==r&&(r=10),this.vScrollBar=l.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:this.rtl,theme:this.theme,touchMode:this.touchMode,largestep:r});var h=this.host.find("#horizontalScrollBar"+this.element.id);if(this.hScrollBar=h.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme}),this.content=this.host.find("#listBoxContent"),this.content[0].id="listBoxContent"+this.element.id,this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-listbox-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),this.bottomRight[0].id="bottomRight"+this.element.id,this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.isTouchDevice()&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var n=e("<div class='overlay' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");this.content.parent().append(n),this.overlayContent=this.host.find(".overlay")}this._updateTouchScrolling(),this.host.addClass("jqx-disableselect"),this.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var t=this.host.attr("name");t?this.host.attr("name",""):t=this.element.id,this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this;if(this.isTouchDevice()){t.enableHover=!1;var i=this.overlayContent?this.overlayContent:this.content;this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(e(i),"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(i,t.vScrollInstance.max,function(e,i){if("hidden"!=t.vScrollBar.css("visibility")){var s=t.vScrollInstance.value;t.vScrollInstance.setPosition(s+i),t._lastScroll=new Date}if("hidden"!=t.hScrollBar.css("visibility")){var s=t.hScrollInstance.value;t.hScrollInstance.setPosition(s+e),t._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(e.jqx.browser.msie&&e.jqx.browser.version<9)return!1;this.touchDevice=!0,t=!0,e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertyChangedHandler:function(t,i,s,l){if(void 0!=this.isInitialized&&0!=this.isInitialized){if("renderer"==i&&(t._cachedItemHtml=new Array,t.refresh()),"itemHeight"==i&&t.refresh(),("source"==i||"checkboxes"==i)&&(null==l&&s&&s.unbindBindingUpdate&&(s.unbindBindingUpdate(t.element.id),s.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),("scrollBarSize"==i||"equalItemsWidth"==i)&&l!=s&&t._updatescrollbars(),"disabled"==i&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:l}),t.hScrollBar.jqxScrollBar({disabled:l})),"touchMode"==i||"rtl"==i){if(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:l}),t.hScrollBar.jqxScrollBar({touchMode:l}),"touchMode"==i&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var r=e("<div class='overlay' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(r),t.overlayContent=t.host.find(".overlay")}t._updateTouchScrolling(),t._addHandlers(),t._render(!1)}if(this.updating||("width"==i||"height"==i)&&t._updateSize(),"theme"==i&&s!=l&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),"selectedIndex"==i&&(t.clearSelection(),t.selectIndex(l,!0)),"displayMember"==i||"valueMember"==i){if(s!=l){var h=t.selectedIndex;t.refresh(),t.selectedIndex=h,t.selectedIndexes[h]=h}t._renderItems()}"autoHeight"==i&&(s!=l?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&e.jqx.isHidden(t.host)&&e.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,t._checkForHiddenParent)}},loadFromSelect:function(t){if(null!=t){var i="#"+t,s=e(i);if(s.length>0){var l=s.find("option"),r=s.find("optgroup"),h=0,n=-1,a=new Array;e.each(l,function(){var t=r.find(this).length>0,i=null;this.text==this.value||null!=this.label&&""!=this.label||(this.label=this.text);var s={disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this},l=e.jqx.browser.msie&&e.jqx.browser.version<8;l&&""==s.value&&null!=this.text&&this.text.length>0&&(s.value=this.text),t&&(i=r.find(this).parent()[0].label,s.group=i),this.selected&&(n=h),a[h]=s,h++}),this.source=a,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=n,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(t){var i=this;if(void 0!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var s=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex;i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),e.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source),void s(t);this.items=this.loadItems(this.source),this._raiseEvent("6"),this._render(!1,1==t),s(t)}},_render:function(e){return this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(void 0==e||e)&&void 0!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready()))},_hitTest:function(e,t){var i=parseInt(this.vScrollInstance.value),s=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[s]&&this.renderedVisibleItems[s].isGroup)return null;if(this.renderedVisibleItems.length>0){var l=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(l.height+l.top<t+i)return null}return s=this._searchFirstVisibleIndex(t+i),this.visibleItems[s]},_searchFirstVisibleIndex:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;(void 0==t||null==t)&&(t=this.visibleItems);for(var s=t.length;s>=i;){mid=parseInt((i+s)/2);var l=t[mid];if(void 0==l)break;if(l.initialTop>e&&l.initialTop+l.height>e)s=mid-1;else{if(!(l.initialTop<e&&l.initialTop+l.height<=e))return mid;i=mid+1}}return 0},_renderItems:function(){if(void 0==this.items||0==this.items.length)return void(this.visibleItems=new Array);if(1!=this.updatingListBox){var t=this.isTouchDevice(),i=this.vScrollInstance,s=this.hScrollInstance,l=parseInt(i.value),r=parseInt(s.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(r=s.max-r);var h=(this.items.length,this.host.width(),parseInt(this.content[0].style.width)),n=h+parseInt(s.max),a=parseInt(this.vScrollBar[0].style.width)+2;"hidden"==this.vScrollBar[0].style.visibility&&(a=0),"visible"!=this.hScrollBar[0].style.visibility&&(n=h);var o=(this._getVirtualItemsCount(),new Array),d=0,c=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(c=this.host.outerHeight()),isNaN(c)&&(c=0);var u=0,m=0,v=0;if(0==i.value||0==this.visibleItems.length)for(var p=0;p<this.items.length;p++){var g=this.items[p];if(g.visible){g.top=-l,g.initialTop=-l,!g.isGroup&&g.visible&&(this.visibleItems[m++]=g,g.visibleIndex=m-1),this.renderedVisibleItems[v++]=g,g.left=-r;var x=g.top+g.height;x>=0&&g.top-g.height<=c&&(o[d++]={index:p,item:g}),l-=g.height}}var f=l>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,b=0;d=0;for(var I=this.vScrollInstance.value,y=0;100+c>b;){var g=this.renderedVisibleItems[f];if(void 0==g)break;if(g.visible){g.left=-r;var x=g.top+g.height-I;x>=0&&g.initialTop-I-g.height<=2*c&&(o[d++]={index:f,item:g})}if(f++,g.visible&&(b+=g.initialTop-I+g.height-b),y++,y>this.items.length-1)break}for(var S=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),_=this.toThemeProperty("jqx-listitem-state-group"),w=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),B=0,j=this,p=0;p<this.visualItems.length;p++){var q=this.visualItems[p],k=function(){var e=q[0].firstChild;if(j.checkboxes&&(e=q[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),j.checkboxes){var t=q.find(".chkbox");t.css({visibility:"hidden"})}};if(p<o.length){var g=o[p].item;if(g.initialTop-I>=c){k();continue}var T=e(q[0].firstChild);if(this.checkboxes&&(T=e(q[0].lastChild)),0==T.length)continue;if(null==T[0])continue;T[0].className="",T[0].style.display="block",T[0].style.visibility="inherit";var H="";if(H=!g.isGroup&&!this.selectedIndexes[g.index]>=0?S:_,(g.disabled||this.disabled)&&(H+=" "+w),this.roundedcorners&&(H+=" "+this.toThemeProperty("jqx-rc-all")),t&&(H+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),T[0].className=H,this.renderer)if(g.key||(g.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[g.key])T[0].innerHTML!=this._cachedItemHtml[g.key]&&(T[0].innerHTML=this._cachedItemHtml[g.key]);else{var P=this.renderer(g.index,g.label,g.value);T[0].innerHTML=P,this._cachedItemHtml[g.key]=T[0].innerHTML}else{if(-1!==this.itemHeight){var C=2+2*parseInt(T.css("padding-top"));T[0].style.lineHeight=g.height-C+"px",T.css("vertical-align","middle")}null!=g.html&&g.html.toString().length>0?T[0].innerHTML=g.html:null!=g.label||null!=g.value?null!=g.label?(T[0].innerHTML!==g.label&&(T[0].innerHTML=g.label),""==e.trim(g.label)&&(T[0].innerHTML=this.emptyString,""==this.emptyString&&(T[0].style.height=g.height-8+"px")),this.incrementalSearch||g.disabled||void 0!=this.searchString&&""!=this.searchString&&(T[0].innerHTML=this._highlight(g.label,this.searchString))):null===g.label?(T[0].innerHTML=this.emptyString,""==this.emptyString&&(T[0].style.height=g.height-8+"px")):T[0].innerHTML!==g.value?T[0].innerHTML=g.value:""==g.label&&(T[0].innerHTML=" "):(""==g.label||null==g.label)&&(T[0].innerHTML="",T[0].style.height=g.height-8+"px")}if(q[0].style.left=g.left+"px",q[0].style.top=g.initialTop-I+"px",g.element=T[0],g.title&&(T[0].title=g.title),this.equalItemsWidth&&!g.isGroup){if(0==u){var D=parseInt(n),M=parseInt(T.outerWidth())-parseInt(T.width());D-=M;var V=1;V=null!=V?parseInt(V):0,D-=2*V,u=D,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(u-=18)}h>this.virtualSize.width?(T[0].style.width=u+"px",g.width=u):(T[0].style.width=-4+this.virtualSize.width+"px",g.width=this.virtualSize.width-4)}else T.width()<this.host.width()&&T.width(this.host.width()-2);if(this.rtl&&(T[0].style.textAlign="right"),this.autoItemsHeight&&(T[0].style.whiteSpace="normal",T.width(u),g.width=u),B=0,this.checkboxes&&!g.isGroup){0==B&&(B=(g.height-16)/2,B++);var A=e(q.children()[0]);A[0].item=g,this.rtl?"0px"!=T[0].style.left&&(T[0].style.left="0px"):"18px"!=T[0].style.left&&(T[0].style.left="18px"),this.rtl&&A.css("left",8+g.width+"px"),A[0].style.top=B+"px",A[0].style.display="block",A[0].style.visibility="inherit";var E=g.checked,z=g.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";E?A[0].firstChild.firstChild.firstChild.className=z:E===!1?A[0].firstChild.firstChild.firstChild.className="":null===E&&(A[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate")),e.jqx.ariaEnabled&&(E?q[0].setAttribute("aria-selected",!0):q[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var A=e(q.children()[0]);A.css({display:"none",visibility:"inherit"})}this.selectedIndexes[g.visibleIndex]>=0&&!g.disabled?(T.addClass(this.toThemeProperty("jqx-listitem-state-selected")),T.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(q[0].setAttribute("aria-selected",!0),this._activeElement=q[0])):this.checkboxes||e.jqx.ariaEnabled&&q[0].removeAttribute("aria-selected")}else k()}}},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(){var t=0,i=2,s=0,l=e("<span></span>");this.equalItemsWidth&&l.css("float","left");var r=0,h=this.host.outerHeight();e(document.body).append(l);var n=this.items.length,a=this.host.width();if(this.autoItemsHeight&&(a-=10,"hidden"!=this.vScrollBar.css("visibility")&&(a-=20)),this.autoItemsHeight||this.renderer||this.groups.length>1||n>0&&null!=this.items[0].html&&""!=this.items[0].html)for(var s=0;n>s;s++){var o=this.items[s];if((!o.isGroup||""!=o.label||""!=o.html)&&o.visible){var d="";if(d+=this.toThemeProperty(o.isGroup?"jqx-listitem-state-group jqx-rc-all":"jqx-listitem-state-normal jqx-rc-all"),d+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(d+=" "+this.toThemeProperty("jqx-touch")),l[0].className=d,this.autoItemsHeight){l[0].style.whiteSpace="normal";var c=this.checkboxes?-20:0;l[0].style.width=c+a+"px"}if(this.renderer){var u=this.renderer(o.index,o.label,o.value);l[0].innerHTML=u}else null!=o.html&&o.html.toString().length>0?l[0].innerHTML=o.html:(null!=o.label||null!=o.value)&&(null!=o.label?(l[0].innerHTML=o.label,""==o.label&&(l[0].innerHTML="Empty")):l[0].innerHTML=o.value);var m=l.outerHeight(),v=l.outerWidth();this.itemHeight>-1&&(m=this.itemHeight),o.height=m,o.width=v,i+=m,t=Math.max(t,v),h>=i&&r++}}else{for(var i=0,p=0,g="",x=0,f=0,b=-1,s=0;n>s;s++){var o=this.items[s];if((!o.isGroup||""!=o.label||""!=o.html)&&o.visible){b++;var d="";if(0==b){if(d+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),d+=" "+this.toThemeProperty("jqx-fill-state-normal"),d+=" "+this.toThemeProperty("jqx-widget"),d+=" "+this.toThemeProperty("jqx-listbox"),d+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(d+=" "+this.toThemeProperty("jqx-touch"),d+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),l[0].className=d,this.autoItemsHeight){l[0].style.whiteSpace="normal";var c=this.checkboxes?-20:0;l[0].style.width=c+a+"px"}null==o.html||""==o.label||null==o.label?l[0].innerHTML="Item":null!=o.html&&o.html.toString().length>0?l[0].innerHTML=o.html:(null!=o.label||null!=o.value)&&(l[0].innerHTML=null!=o.label?null!=o.label.toString().match(new RegExp("\\w"))||null!=o.label.toString().match(new RegExp("\\d"))?o.label:"Item":o.value);var m=1+l.outerHeight();this.itemHeight>-1&&(m=this.itemHeight),p=m}void 0!=x&&(f=x),null!=o.html&&o.html.toString().length>0?(x=Math.max(x,o.html.toString().length),f!=x&&(g=o.html)):null!=o.label?(x=Math.max(x,o.label.length),f!=x&&(g=o.label)):null!=o.value&&(x=Math.max(x,o.value.length),f!=x&&(g=o.value)),o.height=p,i+=p,h>=i&&r++}}l[0].innerHTML=g,t=l.outerWidth()}return i+=2,10>r&&(r=10),l.remove(),{width:t,height:i,itemsPerPage:r}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(t){if(1!=this.updatingListBox){if(void 0==this.items||0==this.items.length)return this.virtualSize={width:0,height:0,itemsPerPage:0},this._updatescrollbars(),this.renderedVisibleItems=new Array,void(this.itemswrapper&&this.itemswrapper.children().remove());if(0==t){var i=this._calculateVirtualSize(),s=2*i.itemsPerPage;this.autoHeight&&(s=this.items.length),this.virtualItemsCount=Math.min(s,this.items.length);{i.width}return this.virtualSize=i,void this._updatescrollbars()}var l=this,r=0;this.visibleItems=new Array,this.renderedVisibleItems=new Array,this._removeHandlers(),this.allowDrag&&this._enableDragDrop&&(this.itemswrapper=null),null==this.itemswrapper&&(this.content[0].innerHTML="",this.itemswrapper=e('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),this.itemswrapper.height(2*this.host.height()),this.content.append(this.itemswrapper));var i=this._calculateVirtualSize(),s=2*i.itemsPerPage;this.autoHeight&&(s=this.items.length),this.virtualItemsCount=Math.min(s,this.items.length);{i.width}this.virtualSize=i,this.itemswrapper.width(Math.max(this.host.width(),17+i.width));for(var h=0,n="",a=h;a<this.virtualItemsCount;a++){var o=this.items[a],d="listitem"+a+this.element.id;if(n+="<div role='option' id='"+d+"' class='jqx-listitem-element'>",this.checkboxes){n+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var c='<div class="'+this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">',u=o.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";c+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+u+'"></span>',c+="</div></div>",n+=c,n+="</div>"}n+="<span style='-ms-touch-action: none;'></span></div>"}l.WinJS?this.itemswrapper.html(n):this.itemswrapper[0].innerHTML=n;for(var m=this.itemswrapper.children(),a=h;a<this.virtualItemsCount;a++){var o=this.items[a],v=e(m[a]);if(this.allowDrag&&this._enableDragDrop&&v.addClass("draggable"),this.checkboxes){{e(v.children()[0])}v.css("float","left");var p=e(v[0].firstChild);p.css("float","left")}v[0].style.height=o.height+"px",v[0].style.top=r+"px",r+=o.height,this.visualItems[a]=v}if(this._addHandlers(),this._updatescrollbars(),this.autoItemsHeight){var i=this._calculateVirtualSize(),s=2*i.itemsPerPage;this.autoHeight&&(s=this.items.length),this.virtualItemsCount=Math.min(s,this.items.length);{i.width}this.virtualSize=i,this._updatescrollbars()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){if(this.virtualSize){var t=this.virtualSize.height,i=this.virtualSize.width,s=this.vScrollInstance,l=this.hScrollInstance;this._arrange(!1);var r=!1,h=this.host.outerWidth(),n=this.host.outerHeight();if(t>n){var a=0;i>h&&(a=this.hScrollBar.outerHeight()+2);var o=s.max;s.max=2+parseInt(t)+a-parseInt(n-2),"inherit"!=this.vScrollBar[0].style.visibility&&(this.vScrollBar[0].style.visibility="inherit",r=!0),o!=s.max&&s._arrange()}else"hidden"!=this.vScrollBar[0].style.visibility&&(this.vScrollBar[0].style.visibility="hidden",r=!0,s.setPosition(0));var d=0;"hidden"!=this.vScrollBar[0].style.visibility&&(d=this.scrollBarSize+6);var c=this.checkboxes?20:0;if(this.autoItemsHeight)this.hScrollBar[0].style.visibility="hidden";else if(i>=h-d-c){var u=l.max;l.max="inherit"==this.vScrollBar[0].style.visibility?c+d+parseInt(i)-this.host.width()+4:c+parseInt(i)-this.host.width()+6,"inherit"!=this.hScrollBar[0].style.visibility&&(this.hScrollBar[0].style.visibility="inherit",r=!0),u!=l.max&&l._arrange(),"inherit"==this.vScrollBar[0].style.visibility&&(s.max=2+parseInt(t)+this.hScrollBar.outerHeight()+2-parseInt(this.host.height()))}else"hidden"!=this.hScrollBar[0].style.visibility&&(this.hScrollBar[0].style.visibility="hidden",r=!0);l.setPosition(0),r&&this._arrange(),this.itemswrapper&&(this.itemswrapper[0].style.width=Math.max(0,Math.max(h-2,17+i))+"px",this.itemswrapper[0].style.height=Math.max(0,2*n)+"px");var m=this.isTouchDevice();m&&("visible"!=this.vScrollBar.css("visibility")&&"visible"!=this.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1;for(var i=!1,s=0;s<this.selectedIndexes.length;s++){var e=this.selectedIndexes[s];-1!=e&&void 0!=e&&(i=!0)}i||(this.selectedValue=null,this.selectedIndex=-1),(void 0==t||1==t)&&(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getItem:function(t){if(-1==t||isNaN(t)||"string"==typeof t)return-1===t?null:this.getItemByValue(t);{var i=null;e.each(this.items,function(){return this.index==t?(i=this,!1):void 0})}return i},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var l=this.getItem(t);if(this.groups.length>0)var l=this.getVisibleItem(t);if(null!=l){{e(l.checkBoxElement)}l.checked=!0,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==s||1==s)&&this._raiseEvent(3,{label:l.label,value:l.value,checked:!0,item:l})}},getCheckedItems:function(){if(!this.checkboxes)return null;var t=new Array;if(void 0!=this.items)return e.each(this.items,function(){this.checked&&(t[t.length]=this)}),t},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;t!==!1&&e.checked!==!0&&i._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;t!==!1&&e.checked!==!1&&(this.checked=!1,i._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var l=this.getItem(t);if(this.groups.length>0)var l=this.getVisibleItem(t);if(null!=l){{e(l.checkBoxElement)}l.checked=!1,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==s||1==s)&&this._raiseEvent(3,{label:l.label,value:l.value,checked:!1,item:l})}},indeterminateIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var l=this.getItem(t);if(this.groups.length>0)var l=this.getVisibleItem(t);if(null!=l){{e(l.checkBoxElement)}l.checked=null,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==s||1==s)&&this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[];for(var s in t)-1!=t[s]&&(i[i.length]=e[s]);return i},getSelectedItem:function(){return this.getItem(this.selectedIndex)},_updateCheckedItems:function(){var t=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=t,this._renderItems();var i=e.data(this.element,"hoveredItem");null!=i&&(e(i).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(i).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(t){if(null!=this.visibleItems){if(this.itemsByValue)return this.itemsByValue[e.trim(t).split(" ").join("")];for(var i=this.visibleItems,s=0;s<i.length;s++)if(i[s].value==t)return i[s]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.index,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.index,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.index,!0)}return!1},val:function(e){if(this.input&&0==arguments.length)return this.input.val();var t=this.getItemByValue(e);return null!=t&&this.selectItem(t),this.input?this.input.val():void 0},selectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return!1},unselectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,s,l,r){if(!isNaN(e)&&!(-1>e||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(!this.multiple&&!this.multipleextended&&this.selectedIndex==e&&!s)return void(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(a=this.getVisibleItem(e),a&&(this.selectedValue=a.value)));if(this.checkboxes)return void this._updateCheckedItems();this.focused=!0;var h=!1;this.selectedIndex!=e&&(h=!0);var n=this.selectedIndex;this.selectedIndex!=e||this.multiple||(n=-1),void 0==l&&(l="none");var a=this.getItem(e),o=this.getItem(n);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(a=this.getVisibleItem(e),o=this.getVisibleItem(n)),void 0!=s&&s)this._raiseEvent("1",{index:n,type:l,item:o,originalEvent:r}),this.selectedIndex=e,this.selectedIndexes[n]=-1,this.selectedIndexes[e]=e,a&&(this.selectedValue=a.value),this._raiseEvent("0",{index:e,type:l,item:a,originalEvent:r});else{var d=this,c=function(e,t,i,s,l,r){d._raiseEvent("1",{index:t,type:i,item:s,originalEvent:r}),d.selectedIndex=e,d.selectedIndexes[t]=-1,t=e,d.selectedIndexes[e]=e,d._raiseEvent("0",{index:e,type:i,item:l,originalEvent:r})},u=function(e,t,i,s,l,r){void 0==d.selectedIndexes[e]||-1==d.selectedIndexes[e]?(d.selectedIndexes[e]=e,d.selectedIndex=e,d._raiseEvent("0",{index:e,type:i,item:l,originalEvent:r})):(t=d.selectedIndexes[e],s=d.getVisibleItem(t),d.selectedIndexes[e]=-1,d.selectedIndex=-1,d._raiseEvent("1",{index:t,type:i,item:s,originalEvent:r}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==l&&(this.clearSelection(!1),d._clickedIndex=e),u(e,n,l,o,a,r);else if(this._shiftKey){void 0==d._clickedIndex&&(d._clickedIndex=n);var m=Math.min(d._clickedIndex,e),v=Math.max(d._clickedIndex,e);this.clearSelection(!1);for(var p=m;v>=p;p++)d.selectedIndexes[p]=p,d._raiseEvent("0",{index:p,type:l,item:this.getVisibleItem(p),originalEvent:r});d.selectedIndex="keyboard"!=l?d._clickedIndex:e}}else"keyboard"!=l&&"mouse"!=l?(u(e,n,l,o,a,r),d._clickedIndex=e):(this.clearSelection(!1),d._clickedIndex=e,c(e,n,l,o,a,r));else this.multiple?u(e,n,l,o,a,r):(a&&(this.selectedValue=a.value),c(e,n,l,o,a,r))}return(void 0==i||1==i)&&this._renderItems(),void 0!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:a,oldItem:o,type:l}),this._updateInputSelection(),h}},_updateInputSelection:function(){if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&void 0!=this.items[this.selectedIndex]&&this.input.val(this.items[this.selectedIndex].value),this.multiple||this.multipleextended||this.checkboxes)){var e=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),t="";
if(e){for(var i=0;i<e.length;i++)void 0!=e[i]&&(t+=i==e.length-1?e[i].value:e[i].value+",");this.input.val(t)}}},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(0>e||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=this.visibleItems[e];if(void 0==i)return!0;var s=i.initialTop,l=i.height;return 0>s-t||s-t+l>=this.host.outerHeight()?!1:!0},_itemsInPage:function(){var t=0,i=this;return this.items&&e.each(this.items,function(){return this.initialTop+this.height>=i.content.height()?!1:void t++}),t},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(indx=e+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(e){for(indx=e-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;void 0==i&&(i=0);var s=this.getItems(),l=this,r=-1;return e.each(s,function(){var s="";if(!this.isGroup){s=this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var h=!1;switch(l.searchMode){case"containsignorecase":h=e.jqx.string.containsIgnoreCase(s,t);break;case"contains":h=e.jqx.string.contains(s,t);break;case"equals":h=e.jqx.string.equals(s,t);break;case"equalsignorecase":h=e.jqx.string.equalsIgnoreCase(s,t);break;case"startswith":h=e.jqx.string.startsWith(s,t);break;case"startswithignorecase":h=e.jqx.string.startsWithIgnoreCase(s,t);break;case"endswith":h=e.jqx.string.endsWith(s,t);break;case"endswithignorecase":h=e.jqx.string.endsWithIgnoreCase(s,t)}if(h&&this.visibleIndex>=i)return r=this.visibleIndex,!1}}),r},findItems:function(t){var i=this.getItems(),s=this,l=0,r=new Array;return e.each(i,function(){var i="";if(!this.isGroup){i=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var h=!1;switch(s.searchMode){case"containsignorecase":h=e.jqx.string.containsIgnoreCase(i,t);break;case"contains":h=e.jqx.string.contains(i,t);break;case"equals":h=e.jqx.string.equals(i,t);break;case"equalsignorecase":h=e.jqx.string.equalsIgnoreCase(i,t);break;case"startswith":h=e.jqx.string.startsWith(i,t);break;case"startswithignorecase":h=e.jqx.string.startsWithIgnoreCase(i,t);break;case"endswith":h=e.jqx.string.endsWith(i,t);break;case"endswithignorecase":h=e.jqx.string.endsWithIgnoreCase(i,t)}h&&(r[l++]=this)}}),r},_handleKeyDown:function(e){var t=e.keyCode,i=this,s=i.selectedIndex,l=i.selectedIndex;if(this.keyboardNavigation&&this.enableSelection){var r=function(){i.multiple&&i.clearSelection(!1)};if(e.altKey&&(t=-1),i.incrementalSearch){var h=-1;i._searchString||(i._searchString=""),(8==t||46==t)&&i._searchString.length>=1&&(i._searchString=i._searchString.substr(0,i._searchString.length-1));var n=String.fromCharCode(t),a=!isNaN(parseInt(n)),o=!1;if(t>=65&&97>=t||a||8==t||32==t||46==t){e.shiftKey||(n=n.toLocaleLowerCase());var d=1+i.selectedIndex;8!=t&&32!=t&&46!=t&&(i._searchString.length>0&&i._searchString.substr(0,1)==n?d=1+i.selectedIndex:i._searchString+=n),32==t&&(i._searchString+=" ");var c=this._getMatches(i._searchString,d);if(h=c,h==i._lastMatchIndex||-1==h){var c=this._getMatches(i._searchString,0);h=c}if(i._lastMatchIndex=h,h>=0){var u=function(){r(),i.selectIndex(h,!1,!1,!1,"keyboard",e);var t=i.isIndexInView(h);t?i._renderItems():i.ensureVisible(h)};i._toSelectTimer&&clearTimeout(i._toSelectTimer),i._toSelectTimer=setTimeout(function(){u()},i.incrementalSearchKeyDownDelay)}o=!0}if(void 0!=i._searchTimer&&clearTimeout(i._searchTimer),(27==t||13==t)&&(i._searchString=""),i._searchTimer=setTimeout(function(){i._searchString="",i._renderItems()},i.incrementalSearchDelay),h>=0)return;if(o)return!1}if(this.checkboxes)return!0;if(33==t){var m=i._itemsInPage();i.selectedIndex-m>=0?(r(),i.selectIndex(l-m,!1,!1,!1,"keyboard",e)):(r(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(32==t&&this.checkboxes){var v=this.getItem(s);null!=v&&(i._updateItemCheck(v,s),e.preventDefault()),i._searchString=""}if(36==t&&(r(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),35==t&&(r(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),34==t){var m=i._itemsInPage();i.selectedIndex+m<i.visibleItems.length?(r(),i.selectIndex(l+m,!1,!1,!1,"keyboard",e)):(r(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(38==t){if(i._searchString="",!(i.selectedIndex>0))return!1;var p=i._prevItemIndex(i.selectedIndex);if(p==i.selectedIndex||-1==p)return!0;r(),i.selectIndex(p,!1,!1,!1,"keyboard",e)}else if(40==t){if(i._searchString="",!(i.selectedIndex+1<i.visibleItems.length))return!1;var p=i._nextItemIndex(i.selectedIndex);if(p==i.selectedIndex||-1==p)return!0;r(),i.selectIndex(p,!1,!1,!1,"keyboard",e)}if(35==t||36==t||38==t||40==t||34==t||33==t){var g=i.isIndexInView(i.selectedIndex);return g?i._renderItems():i.ensureVisible(i.selectedIndex),!1}return!0}},_updateItemCheck:function(e,t){switch(e.checked=1==e.checked?e.hasThreeStates&&this.hasThreeStates?null:!1:null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),s?(s=!1,e.returnValue=s,s):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;return t!=i?!0:!1},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout(function(){e.host.focus()},10)}catch(t){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id),this.removeHandler(e(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valuechanged"),this.removeHandler(this.hScrollBar,"valuechanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var e=this;if(e._arrange(),e.host.height()!=e._oldheight||e.host.width()!=e._oldwidth){{e.host.width()!=e._oldwidth}if(e.autoItemsHeight)e._render(!1);else if(e.items)if(e.items.length>0&&e.virtualItemsCount*e.items[0].height<e._oldheight-2)e._render(!1);else{var t=e.vScrollInstance.value;e._updatescrollbars(),e._renderItems(),e.vScrollInstance.setPosition(t<e.vScrollInstance.max?t:e.vScrollInstance.max)}e._oldwidth=e.host.width(),e._oldheight=e.host.height()}},_addHandlers:function(){var t=this;this.focused=!1;var i=(new Date,this.isTouchDevice());this.addHandler(this.vScrollBar,"valuechanged",function(){e.jqx.browser.msie&&e.jqx.browser.version>9?setTimeout(function(){t._renderItems()},1):t._renderItems()}),this.addHandler(this.hScrollBar,"valuechanged",function(){t._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){t.wheel(e,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(e(document),"keydown.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey,t._shiftKey=e.shiftKey}),this.addHandler(e(document),"keyup.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey,t._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return t._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(){t.focused=!1;var i=e.data(t.element,"hoveredItem");null!=i&&(e(i).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(i).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.data(t.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.content,"blur",function(){t.focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.host,"blur",function(){e.jqx.browser.msie&&e.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)}),this.addHandler(this.content,"mouseenter",function(){t.focused=!0});var s=e.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var l=t.isTouchDevice()&&this.touchMode!==!0,r=l?"touchend":"mousedown";this.overlayContent?this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),function(i){if(!t.enableSelection)return!0;if(l&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0;var s=e.jqx.mobile.getTouches(i),r=s[0];if(void 0!=r){var h=t.host.offset(),n=parseInt(r.pageX),a=parseInt(r.pageY);1==t.touchMode&&(n=parseInt(r._pageX),a=parseInt(r._pageY)),n-=h.left,a-=h.top;var o=t._hitTest(n,a);if(null!=o&&!o.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(t.checkboxes)return void t._updateItemCheck(o,o.visibleIndex);if(-1==o.html.indexOf("href"))return t.selectIndex(o.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1;setTimeout(function(){return t.selectIndex(o.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1},100)}}}):this.addHandler(this.content,r,function(i){if(!t.enableSelection)return!0;if(l&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1;if(t.focused=!0,t.isTouchDevice()||t.host.focus(),i.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=i.target){var h=i.target,n=e(h).offset(),a=t.host.offset();if(s){var o=e.jqx.mobile.getLeftPos(h),d=e.jqx.mobile.getTopPos(h);n.left=o,n.top=d,o=e.jqx.mobile.getLeftPos(t.element),d=e.jqx.mobile.getTopPos(t.element),a.left=o,a.top=d}var c=parseInt(n.top)-parseInt(a.top),u=parseInt(n.left)-parseInt(a.left),m=t._hitTest(u,c);if(null!=m&&!m.isGroup){var v=function(e,i){if(t._shiftKey||(t._clickedIndex=e.visibleIndex),t.checkboxes)if(t.selectedIndex=e.visibleIndex,u=20+i.pageX-n.left,t.rtl){{"hidden"!=t.hScrollBar.css("visibility")?t.hScrollInstance.max:t.host.width()}u<=t.host.width()-20&&t._updateItemCheck(e,e.visibleIndex)}else u+t.hScrollInstance.value>=20&&t._updateItemCheck(e,e.visibleIndex);else t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)};m.disabled||(-1!=m.html.indexOf("href")?setTimeout(function(){v(m,i)},100):v(m,i))}if("mousedown"==r){var p=!1;return i.which?p=3==i.which:i.button&&(p=2==i.button),p?!0:!1}}return!0}),this.addHandler(this.content,"mouseup",function(e){t.vScrollInstance.handlemouseup(t,e)}),e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(){return!1})}var i=this.isTouchDevice();this.enableHover&&!i&&(this._mousemovefunc=function(l){if(i)return!0;if(!t.enableHover)return!0;1==e.jqx.browser.msie&&e.jqx.browser.version<9?0:1;if(null==l.target)return!0;if(t.disabled)return!0;t.focused=!0;var r=t.vScrollInstance.isScrolling();if(!r&&l.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=l.target){var h=l.target,n=e(h).offset(),a=t.host.offset();if(s){var o=e.jqx.mobile.getLeftPos(h),d=e.jqx.mobile.getTopPos(h);n.left=o,n.top=d,o=e.jqx.mobile.getLeftPos(t.element),d=e.jqx.mobile.getTopPos(t.element),a.left=o,a.top=d}var c=parseInt(n.top)-parseInt(a.top),u=parseInt(n.left)-parseInt(a.left),m=t._hitTest(u,c);if(null!=m&&!m.isGroup&&!m.disabled){var v=e.data(t.element,"hoveredItem");null!=v&&(e(v).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(v).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),e.data(t.element,"hoveredItem",m.element);var p=e(m.element);p.addClass(t.toThemeProperty("jqx-listitem-state-hover")),p.addClass(t.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){void 0==e&&(e=!0);var t=null,i=null,s=this,l=function(e){return e=s.host.height(),0==e&&(e=200,s.host.height(e)),e};null!=this.width&&-1!=this.width.toString().indexOf("px")?t=this.width:void 0==this.width||isNaN(this.width)||(t=this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?i=this.height:void 0==this.height||isNaN(this.height)||(i=this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.css("width",this.width),t=this.host.width()),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.css("height",this.height),i=l(i)),null!=t&&(t=parseInt(t),parseInt(this.element.style.width)!=parseInt(this.width)&&this.host.width(this.width)),this.autoHeight?this.virtualSize&&("hidden"!=this.hScrollBar.css("visibility")?(this.host.height(this.virtualSize.height+parseInt(this.scrollBarSize)+3),this.height=this.virtualSize.height+parseInt(this.scrollBarSize)+3,i=this.height):(this.host.height(this.virtualSize.height),this.height=this.virtualSize.height,i=this.virtualSize.height)):null!=i&&(i=parseInt(i),parseInt(this.element.style.height)!=parseInt(this.height)&&(this.host.height(this.height),l(i)));var r=this.scrollBarSize;isNaN(r)&&(r=parseInt(r),isNaN(r)?r="17px":r+="px"),r=parseInt(r);var h=4,n=2,a=0;if(this.vScrollBar&&("hidden"!=this.vScrollBar[0].style.visibility?a=r+h:this.vScrollInstance.setPosition(0),this.hScrollBar)){"hidden"!=this.hScrollBar[0].style.visibility?n=r+h:this.hScrollInstance.setPosition(0),this.autoItemsHeight&&(this.hScrollBar[0].style.visibility="hidden",n=0),null==i&&(i=0);var o=parseInt(i)-h-r;0>o&&(o=0),parseInt(this.hScrollBar[0].style.height)!=r&&(parseInt(r)<0&&(r=0),this.hScrollBar[0].style.height=parseInt(r)+"px"),this.hScrollBar[0].style.top!=o+"px"&&(this.hScrollBar[0].style.top=o+"px",this.hScrollBar[0].style.left="0px");var d=t-r-h;0>d&&(d=0);var c=d+"px";if(this.hScrollBar[0].style.width!=c&&(this.hScrollBar[0].style.width=c),0==a&&t>=2&&(this.hScrollBar[0].style.width=parseInt(t-2)+"px"),r!=parseInt(this.vScrollBar[0].style.width)&&(this.vScrollBar[0].style.width=parseInt(r)+"px"),parseInt(i)-n!=parseInt(this.vScrollBar[0].style.height)){var u=parseInt(i)-n;0>u&&(u=0),this.vScrollBar[0].style.height=u+"px"}null==t&&(t=0);var m=parseInt(t)-parseInt(r)-h+"px";m!=this.vScrollBar[0].style.left&&(parseInt(m)>=0&&(this.vScrollBar[0].style.left=m),this.vScrollBar[0].style.top="0px");var v=this.vScrollInstance;v.disabled=this.disabled,e&&v._arrange();var p=this.hScrollInstance;if(p.disabled=this.disabled,e&&p._arrange(),"hidden"!=this.vScrollBar[0].style.visibility&&"hidden"!=this.hScrollBar[0].style.visibility?(this.bottomRight[0].style.visibility="inherit",this.bottomRight[0].style.left=1+parseInt(this.vScrollBar[0].style.left)+"px",this.bottomRight[0].style.top=1+parseInt(this.hScrollBar[0].style.top)+"px",this.rtl&&this.bottomRight.css({left:0}),this.bottomRight[0].style.width=parseInt(r)+3+"px",this.bottomRight[0].style.height=parseInt(r)+3+"px"):this.bottomRight[0].style.visibility="hidden",parseInt(this.content[0].style.width)!=parseInt(t)-a){var g=parseInt(t)-a;0>g&&(g=0),this.content[0].style.width=g+"px"}if(this.rtl&&(this.vScrollBar.css({left:"0px",top:"0px"}),this.hScrollBar.css({left:this.vScrollBar.width()+2+"px"}),"hidden"!=this.vScrollBar[0].style.visibility?this.content.css("margin-left",4+this.vScrollBar.width()):(this.content.css("margin-left",0),this.hScrollBar.css({left:"0px"}))),parseInt(this.content[0].style.height)!=parseInt(i)-n){var x=parseInt(i)-n;0>x&&(x=0),this.content[0].style.height=x+"px"}this.overlayContent&&(this.overlayContent.width(parseInt(t)-a),this.overlayContent.height(parseInt(i)-n))}},ensureVisible:function(t){if(isNaN(t)){var i=this.getItemByValue(t);i&&(t=i.index)}var s=this.isIndexInView(t);if(!s){if(0>t)return;if(this.autoHeight){var l=e.data(this.vScrollBar[0],"jqxScrollBar").instance;l.setPosition(0)}else for(indx=0;indx<this.visibleItems.length;indx++){var i=this.visibleItems[indx];if(i.visibleIndex==t&&!i.isGroup){var l=e.data(this.vScrollBar[0],"jqxScrollBar").instance,r=l.value,h="hidden"===this.hScrollBar.css("visibility"),n=h?0:this.scrollBarSize+4;i.initialTop<r?l.setPosition(i.initialTop):i.initialTop+i.height>r+this.host.height()&&l.setPosition(i.initialTop+i.height+2-this.host.height()+n);break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min?(e.setPosition(e.min),!0):!1},databind:function(t){this.records=new Array;var i=t._source?!0:!1,s=new e.jqx.dataAdapter(t,{autoBind:!1});i&&(s=t,t=t._source);var l=function(){void 0!=t.type&&(s._options.type=t.type),void 0!=t.formatdata&&(s._options.formatData=t.formatdata),void 0!=t.contenttype&&(s._options.contentType=t.contenttype),void 0!=t.async&&(s._options.async=t.async)},r=function(t,i){var l=function(i){if("string"==typeof i)var s=i,l=i;else var l=i[t.valueMember],s=i[t.displayMember];var r=new e.jqx._jqxListBox.item;return r.label=s,r.value=l,r.html="",r.visible=!0,r.originalItem=i,r.group="",r.groupHtml="",r.disabled=!1,r.hasThreeStates=!0,r};if(void 0!=i){var r=s._changedrecords[0];if(r)return void e.each(s._changedrecords,function(){var e=this.index,s=this.record;if("remove"!=i)var r=l(s);switch(i){case"update":t.updateAt(r,e);break;case"add":t.insertAt(r,e);break;case"remove":t.removeAt(e)}})}t.records=s.records;var h=t.records.length;t.items=new Array,t.itemsByValue=new Array;for(var n=0;h>n;n++){var a=t.records[n],o=l(a);o.index=n,t.items[n]=o;var d=o.value;(""==o.value||null==o.value)&&(d=n),t.itemsByValue[e.trim(d).split(" ").join("")]=o}t._render(),t._raiseEvent("6")};l(this);var h=this;switch(t.datatype){case"local":case"array":default:null!=t.localdata&&(s.unbindBindingUpdate(this.element.id),s.dataBind(),r(this),s.bindBindingUpdate(this.element.id,function(e){r(h,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return s.unbindBindingUpdate(this.element.id),s.dataBind(),r(this),void s.bindBindingUpdate(this.element.id,function(){r(h)});var n={};s._options.data?e.extend(s._options.data,n):(t.data&&e.extend(n,t.data),s._options.data=n);var a=function(){r(h)};s.unbindDownloadComplete(h.element.id),s.bindDownloadComplete(h.element.id,a),s.dataBind()}},loadItems:function(t){if(null==t)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var i=this,s=0,l=0,r=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var h=new Array;this.itemsByValue=new Array,e.map(t,function(t){if(void 0==t)return null;var n=new e.jqx._jqxListBox.item,a=t.group,o=t.groupHtml,d=t.title;if((null==d||void 0==d)&&(d=""),(null==a||void 0==a)&&(a=""),(null==o||void 0==o)&&(o=""),!i.groups[a]){i.groups[a]={items:new Array,index:-1,caption:a,captionHtml:o},s++;var c=s+"jqxGroup";i.groups[c]=i.groups[a],l++,i.groups.length=l}var u=i.groups[a];return u.index++,u.items[u.index]=n,"string"==typeof t?(n.label=t,n.value=t):null==t.label&&null==t.value&&null==t.html&&null==t.group&&null==t.groupHtml?(n.label=t.toString(),n.value=t.toString()):(n.label=t.label||t.value,n.value=t.value||t.label),"string"!=typeof t&&(""!=i.displayMember&&void 0!=t[i.displayMember]&&(n.label=t[i.displayMember]),""!=i.valueMember&&(n.value=t[i.valueMember])),n.hasThreeStates=void 0!=t.hasThreeStates?t.hasThreeStates:!0,n.originalItem=t,n.title=d,n.html=t.html||"",t.html&&""!=t.html,n.group=a,n.checked=t.checked||!1,n.groupHtml=t.groupHtml||"",n.disabled=t.disabled||!1,n.visible=void 0!=t.visible?t.visible:!0,n.index=r,h[r]=n,r++,n});var n=new Array,a=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var o=0;l>o;o++){var s=o+1,d=s+"jqxGroup",c=this.groups[d];if(void 0==c||null==c)break;if(0==o&&""==c.caption&&""==c.captionHtml&&1>=l){for(var u=0;u<c.items.length;u++){var m=c.items[u].value;(""==c.items[u].value||null==c.items[u].value)&&(m=u),this.itemsByValue[e.trim(m).split(" ").join("")]=c.items[u]}return c.items}var v=new e.jqx._jqxListBox.item;v.isGroup=!0,v.label=c.caption,""==c.caption&&""==c.captionHtml&&(c.caption=this.emptyGroupText,v.label=c.caption),v.html=c.captionHtml,n[a]=v,a++;for(var p=0;p<c.items.length;p++){n[a]=c.items[p];var m=c.items[p].value;(""==c.items[p].value||null==c.items[p].value)&&(m=a),i.itemsByValue[e.trim(m).split(" ").join("")]=c.items[p],a++}}else{var a=0,g=new Array;e.each(h,function(){if(!g[this.group]&&""!=this.group){var t=new e.jqx._jqxListBox.item;t.isGroup=!0,t.label=this.group,n[a]=t,a++,g[this.group]=!0}n[a]=this;var s=this.value;(""==this.value||null==this.value)&&(s=a-1),i.itemsByValue[e.trim(s).split(" ").join("")]=this,a++})}return n},_mapItem:function(t){var i=new e.jqx._jqxListBox.item;return this.displayMember&&(void 0==t.label&&(t.label=t[this.displayMember]),void 0==t.value&&(t.value=t[this.valueMember])),"string"==typeof t?(i.label=t,i.value=t):"number"==typeof t?(i.label=t.toString(),i.value=t.toString()):(i.label=t.label||t.value,i.value=t.value||t.label),void 0==i.label&&void 0==i.value&&void 0==i.html&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return i&&void 0!=i.index?this.updateAt(e,i.index):!1},updateAt:function(t,i){if(null!=t){var s=this._mapItem(t);this.itemsByValue[e.trim(s.value).split(" ").join("")]=this.items[i],this.items[i].value=s.value,this.items[i].label=s.label,this.items[i].html=s.html,this.items[i].disabled=s.disabled}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(t,i){if(null==t)return!1;if(this._cachedItemHtml=[],void 0==this.items||0==this.items.length){this.source=new Array,this.refresh();var s=this._mapItem(t);s.index=0,this.items[this.items.length]=s,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var l=s.value;return(""==s.value||null==s.value)&&(l=i),this.itemsByValue[e.trim(l).split(" ").join("")]=s,!1}var s=this._mapItem(t);if(-1==i||void 0==i||null==i||i>=this.items.length)s.index=this.items.length,this.items[this.items.length]=s;else{for(var r=new Array,h=0,n=!1,a=0,o=0;o<this.items.length;o++)0==this.items[o].isGroup&&a>=i&&!n&&(r[h++]=s,s.index=i,a++,n=!0),r[h]=this.items[o],this.items[o].isGroup||(r[h].index=a,a++),h++;this.items=r}var l=s.value;(""==s.value||null==s.value)&&(l=i),this.itemsByValue[e.trim(l).split(" ").join("")]=s,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=d.value;return d.setPosition(0),this._addItems(this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?!0:!1),this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),d.setPosition(c),this.rendered&&this.rendered(),!0},removeAt:function(t){if(0>t||t>this.items.length-1)return!1;if(void 0==t)return!1;var i=this.items[t].height,s=this.items[t].value;(""==s||null==s)&&(s=t),this.itemsByValue[e.trim(s).split(" ").join("")]=null,this.items.splice(t,1);for(var l=new Array,r=0,h=0,n=0;n<this.items.length;n++)l[r]=this.items[n],this.items[n].isGroup||(l[r].index=h,h++),r++;this.items=l;var a=e.data(this.vScrollBar[0],"jqxScrollBar").instance,a=e.data(this.vScrollBar[0],"jqxScrollBar").instance,o=a.value;if(a.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=i;var d=2*this.virtualSize.itemsPerPage;this.autoHeight&&(d=this.items.length),this.virtualItemsCount=Math.min(d,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),a.setPosition("hidden"!=this.vScrollBar.css("visibility")?o:0),this.itemsByValue=new Array;for(var c=0;c<this.items.length;c++){var s=this.items[c].value;(""==this.items[c].value||null==this.items[c].value)&&(s=c),this.itemsByValue[e.trim(s).split(" ").join("")]=this.items[c]}return this.rendered&&this.rendered(),!0},removeItem:function(e){var t=this._getItemByParam(e);this.removeAt(t.index)},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return this.items?0>e||e>this.items.length-1?!1:(this.items[e].disabled=!0,this._renderItems(),!0):!1},enableAt:function(e){return this.items?0>e||e>this.items.length-1?!1:(this.items[e].disabled=!1,this._renderItems(),!0):!1},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),e.jqx.utilities.resize(this.host,null,!0);var t=e.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),t&&delete t.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(e,t){if(1==this._stopEvents)return!0;void 0==t&&(t={owner:null});var i=this.events[e];args=t,args.owner=this,this._updateInputSelection();var s=new jQuery.Event(i);if(s.owner=this,s.args=args,null!=this.host)var l=this.host.trigger(s);return l}})}(jQuery),function(e){e.jqx._jqxListBox.item=function(){var e={group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1};return e}}(jQuery);