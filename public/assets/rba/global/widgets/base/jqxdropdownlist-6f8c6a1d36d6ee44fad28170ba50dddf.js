!function(t){t.jqx.jqxWidget("jqxDropDownList","",{}),t.extend(t.jqx._jqxDropDownList.prototype,{defineInstance:function(){var e={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};return t.extend(!0,this,e),e},createInstance:function(){this.render()},render:function(){var e=this;e.width||(e.width=200),e.height||(e.height=25);var i=e.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){e.field=e.element,e.field.className&&(e._className=e.field.className);var s={title:e.field.title};s.id=e.field.id.length?e.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":t.jqx.utilities.createId()+"_jqxDropDownList";var o=t("<div></div>",s);e.width||(e.width=t(e.field).width()),e.height||(e.height=t(e.field).outerHeight()),t(e.field).hide().after(o);var n=e.host.data();if(e.host=o,e.host.data(n),e.element=o[0],e.element.id=e.field.id,e.field.id=s.id,e.field.tabIndex){var r=e.field.tabIndex;e.field.tabIndex=-1,e.element.tabIndex=r}var d=t.jqx.parseSourceTag(e.field);e.source=d.items,-1==e.selectedIndex&&(e.selectedIndex=d.index)}e.element.innerHTML="",e.isanimating=!1,e.id=e.element.id||t.jqx.utilities.createId(),e.host.attr("role","combobox"),t.jqx.aria(e,"aria-autocomplete","both"),t.jqx.aria(e,"aria-readonly",!1);var l=t("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");if(e._addInput(),null==t.jqx._jqxListBox||void 0==t.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");e.host.attr("tabindex")?(l.attr("tabindex",e.host.attr("tabindex")),e.host.removeAttr("tabindex")):l.attr("tabindex",0);e.touch=t.jqx.mobile.isTouchDevice(),e.comboStructure=l,e.host.append(l),e.dropdownlistWrapper=e.host.find("#dropdownlistWrapper"),e.dropdownlistArrow=e.host.find("#dropdownlistArrow"),e.arrow=t(e.dropdownlistArrow.children()[0]),e.dropdownlistContent=e.host.find("#dropdownlistContent"),e.dropdownlistContent.addClass(e.toThemeProperty("jqx-dropdownlist-content")),e.dropdownlistWrapper.addClass(e.toThemeProperty("jqx-disableselect")),e.rtl&&(e.dropdownlistContent.addClass(e.toThemeProperty("jqx-rtl")),e.dropdownlistContent.addClass(e.toThemeProperty("jqx-dropdownlist-content-rtl"))),e.addHandler(e.dropdownlistWrapper,"selectstart",function(){return!1}),e.dropdownlistWrapper[0].id="dropdownlistWrapper"+e.element.id,e.dropdownlistArrow[0].id="dropdownlistArrow"+e.element.id,e.dropdownlistContent[0].id="dropdownlistContent"+e.element.id,"Please Choose:"!=e.promptText&&(e.placeHolder=e.promptText);var a=e.toThemeProperty("jqx-widget")+" "+e.toThemeProperty("jqx-dropdownlist-state-normal")+" "+e.toThemeProperty("jqx-rc-all")+" "+e.toThemeProperty("jqx-fill-state-normal");e.element.className+=" "+a,e._firstDiv=e.host.find("div:first");try{var h="listBox"+e.id,c=t(t.find("#"+h));c.length>0&&c.remove(),t.jqx.aria(e,"aria-owns",h),t.jqx.aria(e,"aria-haspopup",!0);var p=t("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+e.id+"'><div id='innerListBox"+e.id+"'></div></div>");p.hide(),p.appendTo(document.body),e.container=p,e.listBoxContainer=t(t.find("#innerListBox"+e.id));var x=e.width;"auto"!=e.dropDownWidth&&(x=e.dropDownWidth),null==x&&(x=e.host.width(),0==x&&(x=e.dropDownWidth)),null==e.dropDownHeight&&(e.dropDownHeight=200);e.container.width(parseInt(x)+25),e.container.height(parseInt(e.dropDownHeight)+25),e.addHandler(e.listBoxContainer,"bindingComplete",function(){e._raiseEvent("6")}),e.listBoxContainer.jqxListBox({filterHeight:e.filterHeight,filterPlaceHolder:e.filterPlaceHolder,filterDelay:e.filterDelay,filterable:e.filterable,allowDrop:!1,allowDrag:!1,autoBind:e.autoBind,_checkForHiddenParent:!1,focusable:e.focusable,touchMode:e.touchMode,checkboxes:e.checkboxes,rtl:e.rtl,emptyString:e.emptyString,itemHeight:e.itemHeight,width:x,searchMode:e.searchMode,incrementalSearch:e.incrementalSearch,incrementalSearchDelay:e.incrementalSearchDelay,groupMember:e.groupMember,searchMember:e.searchMember,displayMember:e.displayMember,valueMember:e.valueMember,height:e.dropDownHeight,autoHeight:e.autoDropDownHeight,scrollBarSize:e.scrollBarSize,selectedIndex:e.selectedIndex,source:e.source,theme:e.theme,rendered:function(){e.selectedIndex!=e.listBoxContainer.jqxListBox("selectedIndex")?(e.listBox=t.data(e.listBoxContainer[0],"jqxListBox").instance,e.listBoxContainer.jqxListBox({selectedIndex:e.selectedIndex}),e.renderSelection("mouse")):e.renderSelection("mouse")},renderer:e.renderer}),e.listBoxContainer.css({position:"absolute",zIndex:e.popupZIndex,top:0,left:0}),e.listBox=t.data(e.listBoxContainer[0],"jqxListBox").instance,e.listBox.enableSelection=e.enableSelection,e.listBox.enableHover=e.enableHover,e.listBox.equalItemsWidth=e.equalItemsWidth,e.listBox.selectIndex(e.selectedIndex),e.listBox._arrange(),e.listBoxContainer.addClass(e.toThemeProperty("jqx-popup")),t.jqx.browser.msie&&e.listBoxContainer.addClass(e.toThemeProperty("jqx-noshadow")),e.addHandler(e.listBoxContainer,"unselect",function(t){e._raiseEvent("3",{index:t.args.index,type:t.args.type,item:t.args.item})}),e.addHandler(e.listBoxContainer,"change",function(t){t.args&&("keyboard"!=t.args.type?e._raiseEvent("4",{index:t.args.index,type:t.args.type,item:t.args.item}):"keyboard"==t.args.type&&(e.isOpened()||e._raiseEvent("4",{index:e.selectedIndex,type:"keyboard",item:e.getItem(e.selectedIndex)})))}),"none"==e.animationType?e.container.css("display","none"):e.container.hide()}catch(u){}var e=e;if(e.propertyChangeMap.disabled=function(i,s,o,n){n?(i.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.addClass(e.toThemeProperty("jqx-dropdownlist-content-disabled"))):(i.host.removeClass(e.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.removeClass(e.toThemeProperty("jqx-dropdownlist-content-disabled"))),t.jqx.aria(i,"aria-disabled",i.disabled)},e.disabled&&(e.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-disabled")),e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.addClass(e.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down")),e.arrow.addClass(e.toThemeProperty("jqx-icon")),"simple"===e.renderMode&&(e.arrow.remove(),e.host.removeClass(e.toThemeProperty("jqx-fill-state-normal")),e.host.removeClass(e.toThemeProperty("jqx-rc-all"))),e._updateHandlers(),e._setSize(),e._arrange(),e.listBox&&e.renderSelection(),t.jqx.browser.msie&&t.jqx.browser.version<8&&e.host.parents(".jqx-window").length>0){var m=e.host.parents(".jqx-window").css("z-index");p.css("z-index",m+10),e.listBoxContainer.css("z-index",m+10)}},resize:function(t,e){this.width=t,this.height=e,this._setSize(),this._arrange()},val:function(t){if(!this.dropdownlistContent)return"";var e=function(e){for(var i in e)if(e.hasOwnProperty(i))return!1;return"number"==typeof t?!1:"date"==typeof t?!1:"boolean"==typeof t?!1:"string"==typeof t?!1:!0};if(this.input&&(e(t)||0==arguments.length))return this.input.val();var i=this.getItemByValue(t);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0},focus:function(){try{var t=this,e=function(){t.host.focus(),t._firstDiv&&t._firstDiv.focus()};e(),setTimeout(function(){e()},10)}catch(i){}},_addInput:function(){var e=this.host.attr("name");this.input=t("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var e=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(e=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(e=!0,this.host.height(this.height));var i=this,s=function(){if(i._arrange(),"auto"==i.dropDownWidth){var t=i.host.width();i.listBoxContainer.jqxListBox({width:t}),i.container.width(parseInt(t)+25)}};if(e){var o=this.host.width();"auto"!=this.dropDownWidth&&(o=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:o}),this.container.width(parseInt(o)+25)}t.jqx.utilities.resize(this.host,function(){s()},!1,this._checkForHiddenParent)},isOpened:function(){var e=this,i=t.data(document.body,"openedJQXListBox"+this.id);return null!=i&&i==e.listBoxContainer?!0:!1},_updateHandlers:function(){var e=this,i=!1;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!e.disabled&&e.enableHover&&"simple"!==e.renderMode&&(i=!0,e.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-hover")),e.arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e.host.addClass(e.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!e.disabled&&e.enableHover&&"simple"!==e.renderMode&&(e.host.removeClass(e.toThemeProperty("jqx-dropdownlist-state-hover")),e.host.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e.arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),i=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(){var t=e.isOpened();t&&e.close()});var s="mousedown";this.touch&&(s=t.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,s,function(t){if(!e.disabled){var i="block"==e.container.css("display");if(!e.isanimating){if(i)return e.hideListBox(),!1;e.showListBox(),e.focusable?e.focus():t.preventDefault&&t.preventDefault()}}}),e.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var t=e.isOpened();!t&&e.autoOpen&&(e.open(),e.host.focus())}),t(document).on("mousemove."+e.id,function(t){var i=e.isOpened();if(i&&e.autoOpen){var s=e.host.coord(),o=s.top,n=s.left,r=e.container.coord(),d=r.left,l=r.top;canClose=!0,t.pageY>=o&&t.pageY<=o+e.host.height()&&t.pageX>=n&&t.pageX<n+e.host.width()&&(canClose=!1),t.pageY>=l&&t.pageY<=l+e.container.height()&&t.pageX>=d&&t.pageX<d+e.container.width()&&(canClose=!1),canClose&&e.close()}})),this.touch?this.addHandler(t(document),t.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,e.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(t(document),"mousedown."+this.id,e.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(t){var i="block"==e.container.css("display");if("none"==e.host.css("display"))return!0;if(("13"==t.keyCode||"9"==t.keyCode)&&!e.isanimating)return i&&(e.renderSelection(),"13"==t.keyCode&&e.focusable&&e._firstDiv.focus(),e.hideListBox(),e.keyboardSelection||e._raiseEvent("2",{index:e.selectedIndex,type:"keyboard",item:e.getItem(e.selectedIndex)}),"13"==t.keyCode&&e._raiseEvent("4",{index:e.selectedIndex,type:"keyboard",item:e.getItem(e.selectedIndex)})),i&&"9"!=t.keyCode?!1:!0;if(115==t.keyCode)return e.isanimating||(e.isOpened()?e.isOpened()&&e.hideListBox():e.showListBox()),!1;if(t.altKey&&"block"==e.host.css("display"))if(38==t.keyCode){if(e.isOpened())return e.hideListBox(),!0}else if(40==t.keyCode&&!e.isOpened())return e.showListBox(),!0;return"27"!=t.keyCode||e.ishiding?e.disabled?void 0:(e._kbnavigated=e.listBox._handleKeyDown(t),e._kbnavigated):(e.isOpened()&&(e.hideListBox(),void 0!=e.tempSelectedIndex&&e.selectIndex(e.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(t){e.renderSelection(),e._updateInputSelection(),e._raiseEvent(5,{label:t.args.label,value:t.args.value,checked:t.args.checked,item:t.args.item})}),this.addHandler(this.listBoxContainer,"select",function(t){if(!e.disabled){if(!t.args)return;"keyboard"!=t.args.type||e.isOpened()||e.renderSelection(),("keyboard"!=t.args.type||e.keyboardSelection)&&(e.renderSelection(),e._raiseEvent("2",{index:t.args.index,type:t.args.type,item:t.args.item,originalEvent:t.args.originalEvent}),"mouse"==t.args.type&&(e.checkboxes||(e.hideListBox(),e._firstDiv&&e.focusable&&e._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(t){if(!e.disabled){if(e.listBox.itemswrapper&&t.target===e.listBox.itemswrapper[0])return!0;e.renderSelection("mouse"),e.touch||e.ishiding||e.checkboxes||(e.hideListBox(),e._firstDiv&&e.focusable&&e._firstDiv.focus()),e.keyboardSelection||(e._kbnavigated===!1&&(e.tempSelectedIndex!=e.selectedIndex&&e._raiseEvent("4",{index:e.selectedIndex,type:"mouse",item:e.getItem(e.selectedIndex)}),e._kbnavigated=!0),void 0==e._oldSelectedInd&&(e._oldSelectedIndx=e.selectedIndex),e.selectedIndex!=e._oldSelectedIndx&&(e._raiseEvent("2",{index:e.selectedIndex,type:"keyboard",item:e.getItem(e.selectedIndex)}),e._oldSelectedIndx=e.selectedIndex))}}),this.addHandler(this.host,"focus",function(){"simple"!==e.renderMode&&(e.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-focus")),e.host.addClass(e.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==e.renderMode&&(e.host.removeClass(e.toThemeProperty("jqx-dropdownlist-state-focus")),e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(){"simple"!==e.renderMode&&(e.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-focus")),e.host.addClass(e.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==e.renderMode&&(e.host.removeClass(e.toThemeProperty("jqx-dropdownlist-state-focus")),e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var e=this,i="mousedown";this.touch&&(i=t.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,i),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(t(document),"mousemove."+e.id)},getItem:function(t){var e=this.listBox.getItem(t);return e},getItemByValue:function(t){var e=this.listBox.getItemByValue(t);return e},selectItem:function(t){void 0!=this.listBox&&(this.listBox.selectItem(t),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(t){void 0!=this.listBox&&(this.listBox.unselectItem(t),this.renderSelection("mouse"))},checkItem:function(t){void 0!=this.listBox&&this.listBox.checkItem(t)},uncheckItem:function(t){void 0!=this.listBox&&this.listBox.uncheckItem(t)},indeterminateItem:function(t){void 0!=this.listBox&&this.listBox.indeterminateItem(t)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var e=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var i in this.listBox.selectedValues){var s=this.listBox.selectedValues[i],o=this.listBox.getItemByValue(s);o&&(e=o)}if(this.checkboxes){var n=this.getCheckedItems();e=null!=n&&n.length>0?n[0]:null}if(null==e){var r=t('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');r.appendTo(t(document.body)),r.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-listitem-state-normal")),r.addClass(this.toThemeProperty("jqx-item")),t.jqx.utilities.html(r,this.placeHolder);var d=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");r.css("padding-top",d),r.css("padding-bottom",l);var a=r.outerHeight();r.remove(),r.removeClass(),t.jqx.utilities.html(this.dropdownlistContent,r);var h=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height));var c=parseInt((parseInt(h)-parseInt(a))/2);return c>0&&(this.dropdownlistContent.css("margin-top",c+"px"),this.dropdownlistContent.css("margin-bottom",c+"px")),this.selectionRenderer?(t.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(r,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex;var r=t('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');r.appendTo(t(document.body)),r.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-listitem-state-normal")),r.addClass(this.toThemeProperty("jqx-item"));var p=!1;try{void 0!=e.html&&null!=e.html&&e.html.toString().length>0?t.jqx.utilities.html(r,e.html):void 0!=e.label&&null!=e.label&&e.label.toString().length>0?t.jqx.utilities.html(r,e.label):null===e.label||""===e.label?(p=!0,t.jqx.utilities.html(r,"")):void 0!=e.value&&null!=e.value&&e.value.toString().length>0?t.jqx.utilities.html(r,e.value):void 0!=e.title&&null!=e.title&&e.title.toString().length>0?t.jqx.utilities.html(r,e.title):(""==e.label||null==e.label)&&(p=!0,t.jqx.utilities.html(r,""))}catch(x){}var d=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");r.css("padding-top",d),r.css("padding-bottom",l);var a=r.outerHeight();0===a&&(a=16),""!=e.label&&null!=e.label||!p||t.jqx.utilities.html(r,"");var u=this.width&&this.width.toString().indexOf("%")<=0;if(r.remove(),r.removeClass(),this.selectionRenderer)t.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(r,e.index,e.label,e.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var m=this.getCheckedItems(),f="",w=0;w<m.length;w++)f+=w==m.length-1?m[w].label:m[w].label+",";r.text(f),u&&r.css("max-width",this.host.width()-30),r.css("overflow","hidden"),r.css("display","block"),this.rtl||u&&r.css("width",this.host.width()-30),r.css("text-overflow","ellipsis"),r.css("padding-bottom",1+parseInt(l)),this.dropdownlistContent.html(r),this.focusable&&this.isOpened()&&this.focus()}else this.width&&"auto"!==this.width&&(u&&(this.rtl||r.css("max-width",this.host.width()-this.arrowSize-3)),r.css("overflow","hidden"),r.css("display","block"),r.css("padding-bottom",1+parseInt(l)),this.rtl||u&&r.css("width",this.host.width()-this.arrowSize-3),r.css("text-overflow","ellipsis")),this.dropdownlistContent.html(r),this.focusable&&this.isOpened()&&this.focus();var h=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height));var c=parseInt((parseInt(h)-parseInt(a))/2);c>0&&(this.dropdownlistContent.css("margin-top",c+"px"),this.dropdownlistContent.css("margin-bottom",c+"px")),this.selectionRenderer&&(this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px")),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&t.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var e=new Array;if(-1==this.selectedIndex)this.input.val("");else{var i=this.getSelectedItem();null!=i?(this.input.val(i.value),e.push(i.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var s=this.getCheckedItems(),o="";if(null!=s)for(var n=0;n<s.length;n++){var r=s[n].value;void 0!=r&&(o+=n==s.length-1?r:r+",",e.push(r))}this.input.val(o)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?t.each(this.field,function(){t(this).removeAttr("selected"),this.selected=e.indexOf(this.value)>=0,this.selected&&t(this).attr("selected",!0)}):t.each(this.items,function(){t(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=e.indexOf(this.value)>=0,this.selected&&t(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(e){t.jqx.utilities.html(this.dropdownlistContent,e),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||t.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(t,e){isNaN(t)||(this.listBox.unselectIndex(t,e),this.renderSelection())},selectIndex:function(t,e,i,s){this.listBox.selectIndex(t,e,i,s,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(t){this.listBox.checkIndex(t)},uncheckIndex:function(t){this.listBox.uncheckIndex(t)},indeterminateIndex:function(t){this.listBox.indeterminateIndex(t)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(t){return this.listBox.addItem(t)},insertAt:function(t,e){return null==t?!1:this.listBox.insertAt(t,e)},removeAt:function(t){var e=this.listBox.removeAt(t);return this.renderSelection("mouse"),e},removeItem:function(t){var e=this.listBox.removeItem(t);return this.renderSelection("mouse"),e},updateItem:function(t,e){var i=this.listBox.updateItem(t,e);return this.renderSelection("mouse"),i},updateAt:function(t,e){var i=this.listBox.updateAt(t,e);return this.renderSelection("mouse"),i},ensureVisible:function(t){return this.listBox.ensureVisible(t)},disableAt:function(t){return this.listBox.disableAt(t)},enableAt:function(t){return this.listBox.enableAt(t)},disableItem:function(t){return this.listBox.disableItem(t)},enableItem:function(t){return this.listBox.enableItem(t)},_findPos:function(e){for(;e&&("hidden"==e.type||1!=e.nodeType||t.expr.filters.hidden(e));)e=e.nextSibling;var i=t(e).coord(!0);return[i.left,i.top]},testOffset:function(e,i,s){var o=e.outerWidth(),n=e.outerHeight(),r=t(window).width()+t(window).scrollLeft(),d=t(window).height()+t(window).scrollTop();if(i.left+o>r&&o>this.host.width()){var l=this.host.coord().left,a=o-this.host.width();i.left=l-a+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>d&&d>n?Math.abs(n+s+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var e=0,i=0;return"0px"!=t("body").css("border-top-width")&&(e=parseInt(t("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=t("body").css("border-left-width")&&(i=parseInt(t("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:e}},showListBox:function(){if(t.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var e=this.host.width();this.listBoxContainer.jqxListBox({width:e}),this.container.width(parseInt(e)+25)}var i,s=this,o=this.listBoxContainer,n=this.listBox,r=(t(window).scrollTop(),t(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),d=parseInt(Math.round(this.host.coord(!0).left));i=d+"px";var l=t.jqx.mobile.isSafariMobileBrowser()||t.jqx.mobile.isWindowsPhone();if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),null!=l&&l&&(i=t.jqx.mobile.getLeftPos(this.element),r=t.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=t("body").css("border-top-width")&&(r=parseInt(r)-this._getBodyOffset().top+"px"),"0px"!=t("body").css("border-left-width")&&(i=parseInt(i)-this._getBodyOffset().left+"px")),o.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",r),n._arrange();var a=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var h=this.container.outerWidth(),c=Math.abs(h-this.host.width());h>this.host.width()?this.container.css("left",25+parseInt(Math.round(d))-c+"px"):this.container.css("left",25+parseInt(Math.round(d))+c+"px")}if(this.enableBrowserBoundsDetection){var p=this.testOffset(o,{left:parseInt(this.container.css("left")),top:parseInt(r)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=p.top?(a=!0,o.css("top",23),o.addClass(this.toThemeProperty("jqx-popup-up"))):o.css("top",0),this.container.css("top",p.top),parseInt(this.container.css("left"))!=p.left&&this.container.css("left",p.left)}if("none"==this.animationType)this.container.css("display","block"),t.data(document.body,"openedJQXListBoxParent",s),t.data(document.body,"openedJQXListBox"+this.id,o),o.css("margin-top",0),o.css("opacity",1),n._renderItems(),s._raiseEvent("0",n);else if(this.container.css("display","block"),s.isanimating=!0,"fade"==this.animationType)o.css("margin-top",0),o.css("opacity",0),o.animate({opacity:1},this.openDelay,function(){t.data(document.body,"openedJQXListBoxParent",s),t.data(document.body,"openedJQXListBox"+s.id,o),s.ishiding=!1,s.isanimating=!1,n._renderItems(),s._raiseEvent("0",n)});else{o.css("opacity",1);var x=o.outerHeight();a?o.css("margin-top",x):o.css("margin-top",-x),o.animate({"margin-top":0},this.openDelay,function(){t.data(document.body,"openedJQXListBoxParent",s),t.data(document.body,"openedJQXListBox"+s.id,o),s.ishiding=!1,s.isanimating=!1,n._renderItems(),s._raiseEvent("0",n)})}a?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),o.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),o.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(o.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){t.jqx.aria(this,"aria-expanded",!1);var e=this.listBoxContainer,i=this.listBox,s=this.container,o=this;if(t.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!o.ishiding){e.stop();var n=e.outerHeight();e.css("margin-top",0),o.isanimating=!0;var r=-n;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(r=n),"fade"==this.animationType?(e.css({opacity:1}),e.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),o.isanimating=!1,o.ishiding=!1})):e.animate({"margin-top":r},this.closeDelay,function(){s.css("display","none"),o.isanimating=!1,o.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),e.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),e.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),e.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(e){var i=e.data.me,s=t(e.target),o=e.data.listbox;if(null==o)return!0;if(t(e.target).ischildof(e.data.me.host))return!0;if(!i.isOpened())return!0;var n=!1;return t.each(s.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(n=!0),!1}}),null!=o&&!n&&i.isOpened()&&i.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(t){this.listBox.loadFromSelect(t)},refresh:function(t){t!==!0&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var t=parseInt(this.host.width()),e=parseInt(this.host.height()),i=(this.arrowSize,this.arrowSize),s=3,o=t-i-2*s;if(o>0&&"auto"!==this.width?this.dropdownlistContent.width(o+"px"):0>=o&&this.dropdownlistContent.width(0),"auto"===this.width&&(this.dropdownlistContent.css("width","auto"),t=this.dropdownlistContent.width()+i+2*s,this.host.width(t)),this.dropdownlistContent.height(e),this.dropdownlistContent.css("left",0),this.dropdownlistContent.css("top",0),this.dropdownlistArrow.width(i),this.width&&this.width.toString().indexOf("%")>=0){var n=100*i/t,r=100*o/t;this.dropdownlistArrow.css("width",n+"%"),this.dropdownlistContent.css("width",r+"%")}this.dropdownlistArrow.height(e),this.rtl&&(this.dropdownlistArrow.css("float","left"),this.dropdownlistContent.css("float","right"))},destroy:function(){t.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(t(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(t(document),t.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;
var e=t.data(this.element,"jqxDropDownList");e&&delete e.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(e,i){void 0==i&&(i={owner:null});var s=this.events[e];args=i,args.owner=this;var o=new t.Event(s);o.owner=this,(2==e||3==e||4==e||5==e)&&(o.args=i);var n=this.host.trigger(o);return n},propertyChangedHandler:function(e,i,s,o){if(void 0!=e.isInitialized&&0!=e.isInitialized){if("filterable"==i&&e.listBoxContainer.jqxListBox({filterable:o}),"filterHeight"==i&&e.listBoxContainer.jqxListBox({filterHeight:o}),"filterPlaceHolder"==i&&e.listBoxContainer.jqxListBox({filterPlaceHolder:o}),"filterDelay"==i&&e.listBoxContainer.jqxListBox({filterDelay:o}),"enableSelection"==i&&e.listBoxContainer.jqxListBox({enableSelection:o}),"enableHover"==i&&e.listBoxContainer.jqxListBox({enableHover:o}),"autoOpen"==i&&e._updateHandlers(),"emptyString"==i&&(e.listBox.emptyString=e.emptyString),"itemHeight"==i&&e.listBoxContainer.jqxListBox({itemHeight:o}),"renderer"==i&&e.listBoxContainer.jqxListBox({renderer:o}),"rtl"==i&&(o?(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right")):(e.dropdownlistArrow.css("float","right"),e.dropdownlistContent.css("float","left")),e.listBoxContainer.jqxListBox({rtl:e.rtl})),"source"==i&&(e.listBoxContainer.jqxListBox({source:e.source}),e.listBox.selectedIndex=-1,e.listBox.selectIndex(this.selectedIndex),e.renderSelection(),null==o&&e.clear()),("displayMember"==i||"valueMember"==i)&&(e.listBoxContainer.jqxListBox({displayMember:e.displayMember,valueMember:e.valueMember}),e.renderSelection()),"placeHolder"==i&&e.renderSelection(),"theme"==i&&null!=o&&(e.listBoxContainer.jqxListBox({theme:o}),e.listBoxContainer.addClass(e.toThemeProperty("jqx-popup")),t.jqx.utilities.setTheme(s,o,e.host)),"autoDropDownHeight"==i&&(e.listBoxContainer.jqxListBox({autoHeight:e.autoDropDownHeight}),e.autoDropDownHeight?e.container.height(e.listBoxContainer.height()+25):(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25)),e.listBox._arrange(),e.listBox._updatescrollbars()),"searchMode"==i&&e.listBoxContainer.jqxListBox({searchMode:e.searchMode}),"incrementalSearch"==i&&e.listBoxContainer.jqxListBox({incrementalSearch:e.incrementalSearch}),"incrementalSearchDelay"==i&&e.listBoxContainer.jqxListBox({incrementalSearchDelay:e.incrementalSearchDelay}),"dropDownHeight"==i&&(e.autoDropDownHeight||(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var n=e.width;"auto"!=e.dropDownWidth&&(n=e.dropDownWidth),e.listBoxContainer.jqxListBox({width:n,scrollBarSize:e.scrollBarSize}),e.container.width(parseInt(n)+25)}if(("width"==i||"height"==i)&&o!=s&&(this.refresh(),"width"==i&&"auto"==e.dropDownWidth)){var n=e.host.width();e.listBoxContainer.jqxListBox({width:n}),e.container.width(parseInt(n)+25)}"checkboxes"==i&&e.listBoxContainer.jqxListBox({checkboxes:e.checkboxes}),"selectedIndex"==i&&null!=e.listBox&&(e.listBox.selectIndex(parseInt(o)),e.renderSelection())}}})}(jqxBaseFramework);