!function(e){e.jqx.jqxWidget("jqxMenu","",{}),e.extend(e.jqx._jqxMenu.prototype,{defineInstance:function(){var t={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized"]};return e.extend(!0,this,t),t},createInstance:function(){var t=this;if(this.host.attr("role","menubar"),e.jqx.utilities.resize(this.host,function(){t.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&e(window).resize(function(){t.refresh()}),this.host.css("outline","none"),this.source&&null!=this.source){var i=this.loadItems(this.source);this.element.innerHTML=i}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this.host.data("autoclose",{}),this._render(),this.setSize(),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if(this.host.focus(),"popup"===this.mode){var t=this.host.closest("div.jqx-menu-wrapper");t.focus()}this.keyboardNavigation&&(this.activeItem||(e(this.items[0].element).addClass(this.toThemeProperty("jqx-fill-state-focus")),this.activeItem=this.items[0]))}catch(i){}},loadItems:function(t,i){if(null!=t){if(0==t.length)return"";var s=this;this.items=new Array;var o="<ul>";return i&&(o='<ul style="width:'+i+';">'),e.map(t,function(e){return void 0==e?null:void(o+=s._parseItem(e))}),o+="</ul>"}},_parseItem:function(e){var t="";if(void 0==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);var s=!1;void 0!=e.selected&&e.selected&&(s=!0);var o=!1;return void 0!=e.disabled&&e.disabled&&(o=!0),t+="<li",o&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),void 0!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(t+=e.subMenuWidth?this.loadItems(e.items,e.subMenuWidth):this.loadItems(e.items)),t+="</li>"},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var t=e(window).width();if(!e.jqx.response){var i=!1;if(navigator.userAgent.match(/Windows|Linux|MacOS/)){var s=navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0;s||(i=!0)}var o=this.minimizeWidth;if(i&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&e.jqx.response){var n=new e.jqx.response;("Phone"==n.device.type||"Tablet"==n.device.type)&&(this.minimized||this.minimize())}else o>t&&!this.minimized?this.minimize():this.minimized&&t>=o&&this.restore()}},minimize:function(){if(!this.minimized){var t=this;this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple";var i=this.host.closest("div.jqx-menu-wrapper");if(i.remove(),e("#menuWrapper"+this.element.id).remove(),e.each(this.items,function(){var t=this,i=(e(t.element),e(t.subMenuElement)),s=i.closest("div.jqx-menu-popup");s.remove()}),this.source){var s=this.loadItems(this.source);this.element.innerHTML=s,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var o=this.host.find("ul:first");o.length>0&&this._createMenu(o[0])}this._render();var n=this.host.find("ul:first");n.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var i=n.closest("div.jqx-menu-wrapper");i[0].id="menuWrapper"+this.element.id,i.detach(),i.appendTo(e(document.body)),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-menu")),i.addClass(this.toThemeProperty("jqx-menu-minimized")),i.addClass(this.toThemeProperty("jqx-widget-header")),n.children().hide(),i.hide(),i.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=e("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(i,"keydown",function(e){return t.host.trigger(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=e("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),e("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),t.minimizedHidden=!0;var r=function(){t.minimizedHidden=!0,t.minimizedItem.show();var e=!1;"right"==t.minimizedItem.css("float")&&(e=!0),i.animate({left:e?t.host.coord().left+t.host.width()+i.width():-i.outerWidth(),opacity:0},t.animationHideDuration,function(){i.find("ul:first").children().hide(),i.hide()})},a=function(e){if(t.minimizedHidden){i.find("ul:first").children().show(),t.minimizedHidden=!1,i.show(),i.css("opacity",0),i.css("left",-i.outerWidth());var s=!1,o=i.width();"right"==t.minimizedItem.css("float")&&(i.css("left",t.host.coord().left+t.host.width()+o),s=!0),i.css("top",t.host.coord().top+t.host.height()),i.animate({left:s?t.host.coord().left+t.host.width()-o:t.host.coord().left,opacity:.95},t.animationShowDuration,function(){})}else r(e);t._raiseEvent("2",{item:t.minimizedItem[0],event:e}),t.setSize()};this.addHandler(e(window),"orientationchange.jqxmenu"+this.element.id,function(){setTimeout(function(){if(!t.minimizedHidden){var e=i.width(),s=!1,e=i.width();"right"==t.minimizedItem.css("float")&&(s=!0),i.css("top",t.host.coord().top+t.host.height()),i.css({left:s?t.host.coord().left+t.host.width()-e:t.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(e){a(e)})}},restore:function(){if(this.minimized){this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove();var t=e("#menuWrapper"+this.element.id);if(t.remove(),this.source){var i=this.loadItems(this.source);this.element.innerHTML=i,this._tmpHTML=i}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this.setSize(),this._render()}},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),e(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(e){e||this.setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(t){var i=null!=t?t.data:this,s=i.items;if(e.each(s,function(){var e=this;1==e.hasItems&&e.isOpen&&i._closeItem(i,e)}),"popup"==i.mode&&null!=t){var o=i._isRightClick(t);o||i.close()}},closeItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),o=this;return e.each(o.items,function(){var e=this;1==e.isOpen&&e.element==s&&(o._closeItem(o,e),e.parentId&&o.closeItem(e.parentId))}),!0},openItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),o=this;return e.each(o.items,function(){var e=this;0==e.isOpen&&e.element==s&&(o._openItem(o,e),e.parentId&&o.openItem(e.parentId))}),!0},_getClosedSubMenuOffset:function(t){var i=e(t.subMenuElement),s=-i.outerHeight(),o=-i.outerWidth(),n=0==t.level&&"horizontal"==this.mode;switch(n?o=0:s=0,t.openVerticalDirection){case"up":case"center":s=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):o=n?0:i.outerWidth();break;case"center":o=n?0:i.outerWidth()}return{left:o,top:s}},_closeItem:function(t,i,s,o){if(null==t||null==i)return!1;var n=e(i.subMenuElement),r=0==i.level&&"horizontal"==this.mode,a=this._getClosedSubMenuOffset(i),l=a.top,d=a.left,m=(e(i.element),n.closest("div.jqx-menu-popup"));if(null!=m){var h=t.animationHideDelay;1==o&&(h=0),n.data("timer")&&null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null);var u=function(){i.isOpen=!1,r?n.stop().animate({top:l},t.animationHideDuration,function(){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),e(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),m.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var s=e(i.arrow);s.length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),e.jqx.aria(e(i.element),"aria-expanded",!1),m.css({display:"none"}),0==t.animationHideDuration&&n.css({top:l}),t._raiseEvent("1",i)}):(!e.jqx.browser.msie,n.stop().animate({left:d},t.animationHideDuration,function(){if(0==t.animationHideDuration&&n.css({left:d}),i.level>0){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}else{e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}e.jqx.aria(e(i.element),"aria-expanded",!1),m.css({display:"none"}),t._raiseEvent("1",i)}))};if(h>0?n.data("timer")&&(n.data("timer").hide=setTimeout(function(){u()},h)):u(),void 0!=s&&s){var p=n.children();e.each(p,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){{e(t.menuElements[this.id].subMenuElement)}t._closeItem(t,t.menuElements[this.id],!0,!0)}})}}},getSubItems:function(t,i){if(null==t)return!1;var s=this,o=new Array;null!=i&&e.extend(o,i);var n=t,r=this.menuElements[n],a=e(r.subMenuElement),l=a.find(".jqx-menu-item");return e.each(l,function(){o[this.id]=s.menuElements[this.id];var t=s.getSubItems(this.id,o);e.extend(o,t)}),o},disable:function(t,i){if(null!=t){var s=t,o=this;if(this.menuElements[s]){var n=this.menuElements[s];n.disabled=i;var r=e(n.element);n.element.disabled=i,e.each(r.children(),function(){this.disabled=i}),i?(r.addClass(o.toThemeProperty("jqx-menu-item-disabled")),r.addClass(o.toThemeProperty("jqx-fill-state-disabled"))):(r.removeClass(o.toThemeProperty("jqx-menu-item-disabled")),r.removeClass(o.toThemeProperty("jqx-fill-state-disabled")))}}},_setItemProperty:function(e,t,i){if(null!=e){var s=e;if(this.menuElements[s]){var o=this.menuElements[s];o[t]&&(o[t]=i)}}},setItemOpenDirection:function(t,i,s){if(null!=t){var o=t,n=this,r=e.jqx.browser.msie&&e.jqx.browser.version<8;if(this.menuElements[o]){var a=this.menuElements[o];if(null!=i&&(a.openHorizontalDirection=i,a.hasItems&&a.level>0)){var l=e(a.element);if(void 0!=l){var d=e(a.arrow);null==a.arrow&&(d=e('<span id="arrow'+l[0].id+'"></span>'),r?d.appendTo(l):d.prependTo(l),a.arrow=d[0]),d.removeClass(),"left"==a.openHorizontalDirection?(d.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("left"))),d.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("left")))):(d.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("right"))),d.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("right")))),d.css("visibility","visible"),r?(d.css("display","inline-block"),d.css("float","none")):(d.css("display","block"),d.css("float","right"))}}if(null!=s){a.openVerticalDirection=s;var d=e(a.arrow),l=e(a.element);if(!n.showTopLevelArrows)return;void 0!=l&&(null==a.arrow&&(d=e('<span id="arrow'+l[0].id+'"></span>'),r?d.appendTo(l):d.prependTo(l),a.arrow=d[0]),d.removeClass(),"down"==a.openVerticalDirection?(d.addClass(n.toThemeProperty("jqx-menu-item-arrow-down")),d.addClass(n.toThemeProperty("jqx-icon-arrow-down"))):(d.addClass(n.toThemeProperty("jqx-menu-item-arrow-up")),d.addClass(n.toThemeProperty("jqx-icon-arrow-up"))),d.css("visibility","visible"),r?(d.css("display","inline-block"),d.css("float","none")):(d.css("display","block"),d.css("float","right")))}}}},_getSiblings:function(e){for(var t=new Array,i=0,s=0;s<this.items.length;s++)this.items[s]!=e&&this.items[s].parentId==e.parentId&&this.items[s].hasItems&&(t[i++]=this.items[s]);return t},_openItem:function(t,i,s){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var o=t.popupZIndex;void 0!=s&&(o=s);var n=t.animationHideDuration;t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=n,this.host.focus();var r=[5,5],a=e(i.subMenuElement);null!=a&&a.stop(),a.data("timer")&&null!=a.data("timer").hide&&clearTimeout(a.data("timer").hide);var l=a.closest("div.jqx-menu-popup"),d=e(i.element),m=0==i.level?this._getOffset(i.element):d.position();if(i.level>0&&this.hasTransform){var h=parseInt(d.coord().top)-parseInt(this._getOffset(i.element).top);m.top+=h}0==i.level&&"popup"==this.mode&&(m=d.coord());var u=0==i.level&&"horizontal"==this.mode,p=u?m.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(e(e(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-r[0]:parseInt(a.outerWidth());if(l.css({visibility:"visible",display:"block",left:p,top:u?m.top+d.outerHeight():m.top,zIndex:o}),a.css("display","block"),"horizontal"!=this.mode&&0==i.level){var c=this._getOffset(this.element);l.css("left",-1+c.left+this.host.outerWidth()),a.css("left",-a.outerWidth())}else{var f=this._getClosedSubMenuOffset(i);a.css("left",f.left),a.css("top",f.top)}l.css({height:parseInt(a.outerHeight())+parseInt(r[1])+"px"});var v=0,x=0;switch(i.openVerticalDirection){case"up":if(u){a.css("top",a.outerHeight()),v=r[1];var g=parseInt(a.parent().css("padding-bottom"));isNaN(g)&&(g=0),g>0&&l.addClass(this.toThemeProperty("jqx-menu-popup-clear")),a.css("top",a.outerHeight()-g),l.css({display:"block",top:m.top-l.outerHeight(),zIndex:o})}else v=r[1],a.css("top",a.outerHeight()),l.css({display:"block",top:m.top-l.outerHeight()+r[1]+d.outerHeight(),zIndex:o});break;case"center":u?(a.css("top",0),l.css({display:"block",top:m.top-l.outerHeight()/2+r[1],zIndex:o})):(a.css("top",0),l.css({display:"block",top:m.top+d.outerHeight()/2-l.outerHeight()/2+r[1],zIndex:o}))}switch(i.openHorizontalDirection){case this._getDir("left"):u?l.css({left:m.left-(l.outerWidth()-d.outerWidth()-r[0])}):(x=0,a.css("left",l.outerWidth()),l.css({left:m.left-l.outerWidth()+2*i.level}));break;case"center":u?l.css({left:m.left-(l.outerWidth()/2-d.outerWidth()/2-r[0]/2)}):(l.css({left:m.left-(l.outerWidth()/2-d.outerWidth()/2-r[0]/2)}),a.css("left",l.outerWidth()))}if(u){if(parseInt(a.css("top"))==v)return void(i.isOpen=!0)}else if(parseInt(a.css("left"))==x)return void(1==i.isOpen);e.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});var y=e.data(t.element,"animationHideDelay");t.animationHideDelay=y,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),a.data("timer")&&(a.data("timer").show=setTimeout(function(){if(null!=l)if(u){a.stop(),a.css("left",x),!e.jqx.browser.msie,d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(e(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(e(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("jqx-rc-b-expanded")));var s=e(i.arrow);s.length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(a.css({top:v}),i.isOpen=!0,t._raiseEvent("0",i),e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({top:v},t.animationShowDuration,t.easing,function(){i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0),t._raiseEvent("0",i)})}else{if(a.stop(),a.css("top",v),!e.jqx.browser.msie,i.level>0){d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}else{d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-top-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}!e.jqx.browser.msie,0==t.animationShowDuration?(a.css({left:x}),t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({left:x},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)})}},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var s=this,o=0;if(s.host.removeClass(s.toThemeProperty("jqx-menu-horizontal")),s.host.removeClass(s.toThemeProperty("jqx-menu-vertical")),s.host.removeClass(s.toThemeProperty("jqx-menu")),s.host.removeClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-menu")),void 0!=t&&void 0!=i&&"popup"==i){if(s.host.parent().length>0&&s.host.parent().parent().length>0&&s.host.parent().parent()[0]==document.body){var n=e.data(document.body,"jqxMenuOldHost"+s.element.id);if(null!=n){var r=s.host.closest("div.jqx-menu-wrapper");r.remove(),r.appendTo(n),s.host.css("display","block"),s.host.css("visibility","visible"),r.css("display","block"),r.css("visibility","visible")}}}else void 0==t&&void 0==i&&e.data(document.body,"jqxMenuOldHost"+s.element.id,s.host.parent()[0]);switch(s.autoOpenPopup&&"popup"==s.mode?(s.addHandler(e(document),"contextmenu."+s.element.id,function(){return!1}),s.addHandler(e(document),"mousedown.menu"+s.element.id,function(e){s._openContextMenu(e)})):(s.removeHandler(e(document),"contextmenu."+s.element.id),s.removeHandler(e(document),"mousedown.menu"+s.element.id)),s.rtl&&s.host.addClass(s.toThemeProperty("jqx-rtl")),s.mode){case"horizontal":s.host.addClass(s.toThemeProperty("jqx-widget-header")),s.host.addClass(s.toThemeProperty("jqx-menu-horizontal")),e.each(s.items,function(){var t=this;$element=e(t.element);var i=e(t.arrow);if(i.removeClass(),t.hasItems&&t.level>0){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float",s._getDir("right")),i.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right"))),t.arrow=i[0]}if(0==t.level){if(e(t.element).css("float",s._getDir("left")),!t.ignoretheme&&t.hasItems&&s.showTopLevelArrows){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),n=e.jqx.browser.msie&&e.jqx.browser.version<8;null==t.arrow?n?i.appendTo($element):i.prependTo($element):i=e(t.arrow),"down"==t.openVerticalDirection?(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-down")),i.addClass(s.toThemeProperty("jqx-icon-arrow-down"))):(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-up")),i.addClass(s.toThemeProperty("jqx-icon-arrow-up"))),i.css("visibility","visible"),n?i.css("display","inline-block"):(i.css("display","block"),i.css("float","right")),t.arrow=i[0]}else if(!t.ignoretheme&&t.hasItems&&!s.showTopLevelArrows&&null!=t.arrow){var i=e(t.arrow);i.remove(),t.arrow=null}o=Math.max(o,$element.height())}});break;case"vertical":case"popup":case"simple":if(s.host.addClass(s.toThemeProperty("jqx-menu-vertical")),e.each(s.items,function(){var t=this;if($element=e(t.element),t.hasItems&&!t.ignoretheme){if(t.arrow&&e(t.arrow).remove(),"simple"==s.mode)return!0;var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float","right"),0==t.level?(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-top-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))):(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))),t.arrow=i[0]}$element.css("float","none")}),"popup"==s.mode){s.host.addClass(s.toThemeProperty("jqx-widget-content")),s.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+s.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var r=s.host.closest("div.jqx-menu-wrapper");s.host.addClass(s.toThemeProperty("jqx-popup")),r[0].id="menuWrapper"+s.element.id,r.appendTo(e(document.body)),s.addHandler(r,"keydown",function(e){return s.host.trigger(e)})}else s.host.addClass(s.toThemeProperty("jqx-widget-header"));if("popup"==s.mode){var a=s.host.height();s.host.css("position","absolute"),s.host.css("top","0"),s.host.css("left","0"),"simple"!=s.mode&&(s.host.height(a),s.host.css("display","none"))}}var l=s.isTouchDevice();s.autoCloseOnClick&&(s.removeHandler(e(document),"mousedown.menu"+s.element.id,s._closeAfterClick),s.addHandler(e(document),"mousedown.menu"+s.element.id,s._closeAfterClick,s),l&&(s.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s),s.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s)))},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var i=e.jqx.mobile.isSafariMobileBrowser(),s=e(t).coord(!0),o=s.top,n=s.left;"0px"!=e("body").css("border-top-width")&&(o=parseInt(o)+this._getBodyOffset().top),"0px"!=e("body").css("border-left-width")&&(n=parseInt(n)+this._getBodyOffset().left);var r=e.jqx.mobile.isWindowsPhone();if(this.hasTransform||null!=i&&i||r){var a={left:e.jqx.mobile.getLeftPos(t),top:e.jqx.mobile.getTopPos(t)};return a}return{left:n,top:o}},_isRightClick:function(e){var t;if(!e)var e=window.event;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){var t=this,i=t._isRightClick(e);i&&t.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var t=this,i=e.data(this.element,"contextMenuOpened"+this.element.id);if(i){{this.host}e.each(t.items,function(){var e=this;e.hasItems&&t._closeItem(t,e)}),e.each(t.items,function(){var t=this;if(1==t.isOpen){$submenu=e(t.subMenuElement);var i=$submenu.closest("div.jqx-menu-popup");i.hide(this.animationHideDuration)}}),this.host.hide(this.animationHideDuration),e.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t)}},open:function(t,i){if("popup"==this.mode){var s=0;"block"==this.host.css("display")&&(this.close(),s=this.animationHideDuration);var o=this;(void 0==t||null==t)&&(t=0),(void 0==i||null==i)&&(i=0),setTimeout(function(){o.host.show(o.animationShowDuration),o.host.css("visibility","visible"),e.data(o.element,"contextMenuOpened"+o.element.id,!0),o._raiseEvent("0",o),o.host.css("z-index",9999),void 0!=t&&void 0!=i&&o.host.css({left:t,top:i})},s)}},_renderHover:function(e,t){var i=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){i.hoveredItem=t,t.disabled||t.separator||!i.enableHover||i.disabled||(t.level>0?(e.addClass(i.toThemeProperty("jqx-fill-state-hover")),e.addClass(i.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(i.toThemeProperty("jqx-fill-state-hover")),e.addClass(i.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!i.enableHover||i.disabled||(t.level>0?(e.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.removeClass(i.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.removeClass(i.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(t){var i=null!=t?t.data:this,s=!1;i.autoCloseOnClick&&(e.each(e(t.target).parents(),function(){return this.className.indexOf&&-1!=this.className.indexOf("jqx-menu")?(s=!0,!1):void 0}),s||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var t=this;if(t.autoSizeMainItems&&"horizontal"==this.mode){var i=this.maxHeight;parseInt(i)>parseInt(this.host.height())&&(i=parseInt(this.host.height())),i=parseInt(this.host.height()),e.each(this.items,function(){var s=this;if($element=e(s.element),0==s.level&&i>0){var o=$element.children().length>0?parseInt($element.children().height()):$element.height(),n=t.host.find("ul:first"),r=parseInt(n.css("padding-top")),a=parseInt(n.css("margin-top")),l=i-2*(a+r),d=parseInt(l)/2-o/2,m=parseInt(d),h=parseInt(d);if($element.css("padding-top",m),$element.css("padding-bottom",h),parseInt($element.outerHeight())>l){var u=1;$element.css("padding-top",m-u),m-=u}}})}e.each(this.items,function(){var t=this;if($element=e(t.element),t.hasItems&&t.level>0&&t.arrow){var i=e(t.arrow),s=e(t.element).height();s>15&&i.css("margin-top",(s-15)/2)}})},_nextVisibleItem:function(e,t){if(null==e||void 0==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(void 0!=t&&i&&i.level!=t)continue;return i}return null},_prevVisibleItem:function(e,t){if(null==e||void 0==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(void 0!=t&&i&&i.level!=t)continue;return i}return null},_parentItem:function(t){if(null==t||void 0==t)return null;var i=t.parentElement;if(!i)return null;var s=null;return e.each(this.items,function(){return this.element==i?(s=this,!1):void 0}),s},_isElementVisible:function(t){return null==t?!1:"none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility")?!0:!1},_isVisible:function(e){if(null==e||void 0==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(t=this._parentItem(t),null!=t&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(t,i){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),void 0==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var s=this.popupZIndex,o=[5,5],n=this;e.data(n.element,"animationHideDelay",n.animationHideDelay);var r=this.isTouchDevice(),a=r&&(e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0),l=!1;if(-1!=navigator.platform.toLowerCase().indexOf("win"))if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0)this.touchDevice=!0;else if(navigator.userAgent.indexOf("Touch")>=0){var d="MSPointerDown"in window;(d||e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(l=!0,a=!0,n.clickToOpen=!0,n.autoCloseOnClick=!1,n.enableHover=!1)}e.data(document.body,"menuel",this),this.hasTransform=e.jqx.utilities.hasTransform(this.host),this._applyOrientation(t,i),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(){n.keyboardNavigation&&n.activeItem&&(e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=null)}),this.addHandler(this.host,"focus",function(){n.keyboardNavigation&&(n.activeItem||(n.hoveredItem?(e(n.hoveredItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.hoveredItem):(e(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.items[0])))}),this.removeHandler(this.host,"keydown"),this.addHandler(this.host,"keydown",function(t){if(n.keyboardNavigation){if("input"===t.target.nodeName.toLowerCase())return!0;var i=null,s=null;e.each(n.items,function(){return this.disabled?!0:(this.element.className.indexOf("pressed")>=0&&(s=this),this.element.className.indexOf("focus")>=0?(i=this,!1):void 0)}),!i&&s&&(i=s),i||(e(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.items[0]);var o=!1;if(27==t.keyCode){if(t.data=n,n._closeAll(t),i)for(var r=i;null!=r;)r.parentItem?r=r.parentItem:(e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=r,e(n.activeItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),r=r.parentItem);o=!0}if(13==t.keyCode&&i){o=!0,n._raiseEvent("2",{item:i.element,event:t});var a=null!=i.anchor?e(i.anchor):null;if(null!=a&&a.length>0){var l=a.attr("href"),d=a.attr("target");null!=l&&(null!=d?window.open(l,d):window.location=l)}t.preventDefault(),t.stopPropagation(),e(i.element).focus()}var m=function(e){if(null==e)return new Array;for(var t=new Array,i=0,s=0;s<n.items.length;s++)n.items[s].parentId==e.parentId&&(t[i++]=n.items[s]);return t},h="";switch(t.keyCode){case 40:h="down";break;case 38:h="up";break;case 39:h="right";break;case 37:h="left"}if(i&&"left"===i.openHorizontalDirection&&"left"===h&&(h="right"),i&&"left"===i.openHorizontalDirection&&"right"===h&&(h="left"),i&&"top"===i.openVerticalDirection&&"top"===h&&(h="bottom"),i&&"top"===i.openVerticalDirection&&"bottom"===h&&(h="top"),n.rtl&&("right"===h?h="left":"left"===h&&(h="right")),"right"===h&&!n.minimized){if(t.altKey&&(0!=i.level&&i.hasItems||"horizontal"!=n.mode))n._openItem(n,i);else{var u=n._nextVisibleItem(i,0),p=n._nextVisibleItem(i),c=m(p);u||(u=p),u&&(u.parentId===i.parentId&&0==u.level&&"horizontal"==n.mode||p.id==c[0].id&&0!=p.level)&&(p.id==c[0].id&&(0!=i.level||0==i.level&&"horizontal"!=n.mode)&&(u=p),e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u)
}t.preventDefault(),t.stopPropagation()}if("left"===h&&!n.minimized){if(t.altKey&&(0!=i.level&&"horizontal"!==n.mode||i.level>1&&"horizontal"===n.mode||1==i.level&&i.hasItems&&"horizontal"===n.mode))i.hasItems?n._closeItem(n,i):i.parentItem&&(n._closeItem(n,i.parentItem),e(i.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=i.parentItem);else{var u=n._prevVisibleItem(i,0),f=i.parentItem;u&&u.parentId===i.parentId&&0==u.level&&"horizontal"==n.mode?(e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u):f&&0==f.level&&"horizontal"==n.mode||!f||f.level!=i.level-1||(e(f.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=f)}t.preventDefault(),t.stopPropagation()}if("down"===h){if(t.altKey)0==i.level&&i.hasItems&&n._openItem(n,i),n.minimized&&n.minimizedHidden&&n.minimizedItem.trigger("click");else{var u=n._nextVisibleItem(i,i.level),c=m(u);if(n.minimized&&u)e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u;else if(u&&(u.parentId===i.parentId||u.id==c[0].id&&"horizontal"==n.mode)&&(0!=u.level||"horizontal"!=n.mode)&&(e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u),"horizontal"===n.mode&&0===i.level&&i.isOpen&&i.hasItems){var u=n._nextVisibleItem(i);e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u}}t.preventDefault(),t.stopPropagation()}else if("up"===h){if(t.altKey)i.parentItem&&0==i.parentItem.level?(n._closeItem(n,i.parentItem),e(i.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=i.parentItem):null===i.parentItem&&0===i.level&&"horizontal"===n.mode&&n._closeItem(n,i),n.minimized&&(n.minimizedHidden||n.minimizedItem.trigger("click"));else{var u=n._prevVisibleItem(i,i.level),c=m(i);if(n.minimized&&u)e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u;else if(u&&(u.parentId===i.parentId||u.id==i.parentId&&0==u.level&&"horizontal"==n.mode))(0!=u.level||"horizontal"!==n.mode||0!==i.level)&&(e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u);else if(i&&i.id==c[0].id&&i.parentItem&&0===i.parentItem.level&&"horizontal"===n.mode){var u=i.parentItem;e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u}}t.preventDefault(),t.stopPropagation()}if(9==t.keyCode){var u=t.shiftKey?n._prevVisibleItem(i):n._nextVisibleItem(i);if(u)e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u,t.preventDefault(),t.stopPropagation();else if(n.lockFocus){for(var c=new Array,v=0,x=0;x<n.items.length;x++)n.items[x]!=i&&n.items[x].parentId==i.parentId&&(c[v++]=n.items[x]);c.length>0&&(t.shiftKey?(e(c[c.length-1].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c[c.length-1]):(e(c[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c[0]),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"))),t.preventDefault(),t.stopPropagation()}else i&&(e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=null)}}}),n.enableRoundedCorners&&this.host.addClass(n.toThemeProperty("jqx-rc-all")),e.each(this.items,function(){var t=this,i=e(t.element);if(i.attr("role","menuitem"),n.enableRoundedCorners&&i.addClass(n.toThemeProperty("jqx-rc-all")),n.removeHandler(i,"click"),n.addHandler(i,"click",function(i){if(!t.disabled&&!n.disabled&&(n.keyboardNavigation&&(n.activeItem&&e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=t,e(t.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.minimized&&i.stopPropagation()),n._raiseEvent("2",{item:t.element,event:i}),n.autoOpen?!n.autoCloseOnClick||r||n.clickToOpen||t.closeOnClick&&(i.data=n,n._closeAll(i)):t.level>0&&(!n.autoCloseOnClick||r||n.clickToOpen||(i.data=n,n._closeAll(i))),r&&n.autoCloseOnClick&&(i.data=n,t.hasItems||n._closeAll(i)),"A"!=i.target.tagName&&"a"!=i.target.tagName)){var s=null!=t.anchor?e(t.anchor):null;if(null!=s&&s.length>0){var o=s.attr("href"),a=s.attr("target");null!=o&&(null!=a?window.open(o,a):window.location=o)}}}),n.removeHandler(i,"mouseenter"),n.removeHandler(i,"mouseleave"),a||"simple"==n.mode||n._renderHover(i,t,r),null!=t.subMenuElement){var l=e(t.subMenuElement);if("simple"==n.mode)return l.show(),!0;l.wrap('<div class="jqx-menu-popup '+n.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+s+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),l.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-l.outerHeight()}),l.data("timer",{}),t.level>0?l.css("left",-l.outerWidth()):"horizontal"==n.mode&&l.css("left",0),s++;var d=e(t.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(e(t.subMenuElement).outerWidth())+parseInt(o[0])+"px",height:parseInt(e(t.subMenuElement).outerHeight())+parseInt(o[1])+"px"}),m=i.closest("div.jqx-menu-popup");if(m.length>0){var h=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),c=l.css("padding-right");d.appendTo(m),l.css("margin-left",h),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",c)}else{var h=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),c=l.css("padding-right");d.appendTo(e(document.body)),l.css("margin-left",h),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",c)}n.clickToOpen?(n.removeHandler(i,"mousedown"),n.addHandler(i,"mousedown",function(e){clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t)})):((r||a)&&(n.removeHandler(i,e.jqx.mobile.getTouchEventName("touchstart")),n.addHandler(i,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||"popup"==n.mode||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t),!1})),a||(n.addHandler(i,"mouseenter",function(){if((n.autoOpen||t.level>0&&!n.autoOpen)&&clearTimeout(l.data("timer").hide),t.parentId&&0!=t.parentId&&n.menuElements[t.parentId]){var e=n.menuElements[t.parentId].isOpen;if(!e)return}return(n.autoOpen||t.level>0&&!n.autoOpen)&&n._openItem(n,t),!1}),n.addHandler(i,"mousedown",function(){n.autoOpen||0!=t.level||(clearTimeout(l.data("timer").hide),null!=l&&l.stop(),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t))}),n.addHandler(i,"mouseleave",function(i){if(n.autoCloseOnMouseLeave){clearTimeout(l.data("timer").hide);var s=e(t.subMenuElement),o={left:parseInt(i.pageX),top:parseInt(i.pageY)},r={left:parseInt(s.coord().left),top:parseInt(s.coord().top),width:parseInt(s.outerWidth()),height:parseInt(s.outerHeight())},a=!0;r.left-5<=o.left&&o.left<=r.left+r.width+5&&r.top<=o.top&&o.top<=r.top+r.height&&(a=!1),a&&n._closeItem(n,t,!0)}}),n.removeHandler(d,"mouseenter"),n.addHandler(d,"mouseenter",function(){clearTimeout(l.data("timer").hide)}),n.removeHandler(d,"mouseleave"),n.addHandler(d,"mouseleave",function(){n.autoCloseOnMouseLeave&&(clearTimeout(l.data("timer").hide),clearTimeout(l.data("timer").show),null!=l&&l.stop(),n._closeItem(n,t,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e=e.replace(".",""),e="99"+e,e/=1;this.items[e];)e=Math.random()+"",e=e.replace(".",""),e/=1;return"menuItem"+e},_createMenu:function(t,i){if(null!=t){void 0==i&&(i=!0),null==i&&(i=!0);var s=e(t).find("li"),o=0;this.itemMapping=new Array;for(var n=0;n<s.length;n++){var r=s[n],a=e(r);if(-1!=r.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=r.id;l||(l=this.createID()),i&&(r.id=l,this.items[o]=new e.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[o]),o+=1;var d=0,m=this,h=a.children();h.each(function(){return i||(this.className="",m.autoGenerate&&(e(m.items[o-1].subMenuElement)[0].className="",m.minimized||e(m.items[o-1].subMenuElement).addClass(m.toThemeProperty("jqx-widget-content")),e(m.items[o-1].subMenuElement).addClass(m.toThemeProperty("jqx-menu-dropdown")),e(m.items[o-1].subMenuElement).addClass(m.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(i&&(m.items[o-1].subMenuElement=this),!1):!m.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(i&&(m.items[o-1].subMenuElement=this),this.className="",m.minimized||e(this).addClass(m.toThemeProperty("jqx-widget-content")),e(this).addClass(m.toThemeProperty("jqx-menu-dropdown")),e(this).addClass(m.toThemeProperty("jqx-popup")),e(this).attr("role","menu"),e(this).addClass(m.rtl?m.toThemeProperty("jqx-rc-l"):m.toThemeProperty("jqx-rc-r")),e(this).addClass(m.toThemeProperty("jqx-rc-b")),!1)});var u=a.parents();u.each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(d=this.id,!1):!m.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(d=this.id,!1)});var p=!1,c=r.getAttribute("type"),f=r.getAttribute("ignoretheme")||r.getAttribute("data-ignoretheme");if(f?("true"==f||1==f)&&(f=!0):f=!1,c){if("separator"==c)var p=!0}else c=r.type;p||(c=d?"sub":"top");var v=this.items[o-1];if(i){v.id=l,v.parentId=d,v.type=c,v.separator=p,v.element=s[n];var x=a.children("a");v.disabled="true"==r.getAttribute("item-disabled")?!0:!1,v.level=a.parents("li").length,v.anchor=x.length>0?x:null,v.anchor&&e(v.anchor).attr("tabindex",-1)}v.ignoretheme=f;var g=this.menuElements[d];null!=g&&(g.ignoretheme&&(v.ignoretheme=g.ignoretheme,f=g.ignoretheme),v.parentItem=g,v.parentElement=g.element),this.autoGenerate&&("separator"==c?(a.removeClass(),a.addClass(this.toThemeProperty("jqx-menu-item-separator")),a.attr("role","separator")):f||(a[0].className="",this.rtl&&a.addClass(this.toThemeProperty("jqx-rtl")),v.level>0&&!m.minimized?(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item"))):(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item-top"))))),v.disabled&&(a.addClass(m.toThemeProperty("jqx-menu-item-disabled")),a.addClass(m.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[n]={element:s[n],item:v},this.itemMapping["id"+s[n].id]=this.itemMapping[n],i&&!f&&(v.hasItems=a.find("li").length>0,v.hasItems&&v.element&&(e.jqx.aria(e(v.element),"aria-haspopup",!0),v.subMenuElement.id||(v.subMenuElement.id=e.jqx.utilities.createId()),e.jqx.aria(e(v.element),"aria-owns",v.subMenuElement.id)))}}for(var y=0;y<s.length;y++){var w=s[y];if(this.itemMapping["id"+w.id]){var v=this.itemMapping["id"+w.id].item;if(!v)continue;v.prevItem=null,v.nextItem=null,y>0&&this.itemMapping["id"+s[y-1].id]&&(v.prevItem=this.itemMapping["id"+s[y-1].id].item),y<s.length-1&&this.itemMapping["id"+s[y+1].id]&&(v.nextItem=this.itemMapping["id"+s[y+1].id].item)}}}},destroy:function(){e.jqx.utilities.resize(this.host,null,!0);var t=this.host.closest("div.jqx-menu-wrapper");t.remove(),e("#menuWrapper"+this.element.id).remove();var i=this;this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(e(document),"mousedown.menu"+this.element.id,i._closeAfterClick),this.removeHandler(e(document),"mouseup.menu"+this.element.id,i._closeAfterClick),e.data(document.body,"jqxMenuOldHost"+this.element.id,null),this.isTouchDevice()&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,this._closeAfterClick,this),e(window).off&&e(window).off("resize.menu"+i.element.id),e.each(this.items,function(){var t=this,s=e(t.element);i.removeHandler(s,"click"),i.removeHandler(s,"selectstart"),i.removeHandler(s,"mouseenter"),i.removeHandler(s,"mouseleave"),i.removeHandler(s,"mousedown"),i.removeHandler(s,"mouseleave");var o=e(t.subMenuElement),n=o.closest("div.jqx-menu-popup");n.remove(),delete this.subMenuElement,delete this.element}),e.data(document.body,"menuel",null),delete this.menuElements,this.items=new Array,delete this.items;var s=e.data(this.element,"jqxMenu");s&&delete s.instance,this.host.removeClass(),this.host.remove(),delete this.host,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var o=new e.Event(s);"2"==t&&(args=i.item,args.owner=this,e.extend(o,i.event),o.type="itemclick"),o.owner=this,o.args=args;var n=this.host.trigger(o);return n},propertyChangedHandler:function(t,i,s,o){if(void 0!=this.isInitialized&&0!=this.isInitialized&&("disabled"==i&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),o!=s)){if("touchMode"==i&&(this._isTouchDevice=null,t._render(o,s)),"source"==i&&null!=t.source){var n=t.loadItems(t.source);t.element.innerHTML=n;var r=t.host.find("ul:first");r.length>0&&(t.refresh(),t._createMenu(r[0]),t._render())}"autoCloseOnClick"==i?0==o?t.removeHandler(e(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(e(document),"mousedown.menu"+this.element.id,t,t._closeAll):"mode"==i||"width"==i||"height"==i||"showTopLevelArrows"==i?(t.refresh(),"mode"==i?t._render(o,s):t._applyOrientation()):"theme"==i&&e.jqx.utilities.setTheme(s,o,t.host)}}})}(jqxBaseFramework),function(e){e.jqx._jqxMenu.jqxMenuItem=function(e,t,i){var s={id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0};return s}}(jqxBaseFramework);