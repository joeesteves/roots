!function(e){function t(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var a,i,n,o=t.toLowerCase().split(y),s=0,d=o.length;if(jQuery.isFunction(r))for(;d>s;s++)a=o[s],n=/^\+/.test(a),n&&(a=a.substr(1)||"*"),i=e[a]=e[a]||[],i[n?"unshift":"push"](r)}}function r(e,t,a,i,n,o){n=n||t.dataTypes[0],o=o||{},o[n]=!0;for(var s,d=e[n],l=0,c=d?d.length:0,u=e===x;c>l&&(u||!s);l++)s=d[l](t,a,i),"string"==typeof s&&(!u||o[s]?s=void 0:(t.dataTypes.unshift(s),s=r(e,t,a,i,s,o)));return!u&&s||o["*"]||(s=r(e,t,a,i,"*",o)),s}function a(t,r){var a,i,n=e.jqx.data.ajaxSettings.flatOptions||{};for(a in r)void 0!==r[a]&&((n[a]?t:i||(i={}))[a]=r[a]);i&&jQuery.extend(!0,t,i)}function i(e,t,r){var a,i,n,o,s=e.contents,d=e.dataTypes,l=e.responseFields;for(i in l)i in r&&(t[l[i]]=r[i]);for(;"*"===d[0];)d.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("content-type"));if(a)for(i in s)if(s[i]&&s[i].test(a)){d.unshift(i);break}if(d[0]in r)n=d[0];else{for(i in r){if(!d[0]||e.converters[i+" "+d[0]]){n=i;break}o||(o=i)}n=n||o}return n?(n!==d[0]&&d.unshift(n),r[n]):void 0}function n(e,t){var r,a,i,n,o=e.dataTypes.slice(),s=o[0],d={},l=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),o[1])for(r in e.converters)d[r.toLowerCase()]=e.converters[r];for(;i=o[++l];)if("*"!==i){if("*"!==s&&s!==i){if(r=d[s+" "+i]||d["* "+i],!r)for(a in d)if(n=a.split(" "),n[1]===i&&(r=d[s+" "+n[0]]||d["* "+n[0]])){r===!0?r=d[a]:d[a]!==!0&&(i=n[0],o.splice(l--,0,i));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(c){return{state:"parsererror",error:r?c:"No conversion from "+s+" to "+i}}}s=i}return{state:"success",data:t}}function o(){try{return new window.XMLHttpRequest}catch(e){}}function s(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}e.jqx.dataAdapter=function(t,r){if(void 0!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),void 0!=t.totalRecords&&(t.totalrecords=t.totalRecords),void 0!=t.loadError&&(t.loadError=t.loadError),void 0!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=r||{},this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=t&&null!=t.localdata&&"function"==typeof t.localdata){var a=t.localdata();if(null!=a){t._localdata=t.localdata;var i=this;t._localdata.subscribe&&(i._oldlocaldata=[],t._localdata.subscribe(function(t){var r=function(t){return jQuery.isArray(t)?jQuery.makeArray(r(e(t))):jQuery.extend(!0,{},t)};(0==i.suspendKO||void 0==i.suspendKO||0==i._oldlocaldata.length)&&(i._oldlocaldata=r(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(e){if(0==i.suspendKO||void 0==i.suspendKO){var r="";i._oldrecords=i.records,0==i._oldlocaldata.length&&(t.localdata=t._localdata()),0==i._oldlocaldata.length?r="change":(i._oldlocaldata.length==e.length&&(r="update"),i._oldlocaldata.length>e.length&&(r="remove"),i._oldlocaldata.length<e.length&&(r="add")),i.dataBind(null,r)}},t._localdata,"change"),i._knockoutdatasource=!0),t.localdata=a}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,r,a){var i=e.jqx.dataFormat.formatdate(t,r,a);return i},formatNumber:function(t,r,a){var i=e.jqx.dataFormat.formatnumber(t,r,a);return i},dataBind:function(t,r){if(1!=this.isUpdating){var a=this._source;if(a){e.jqx.dataFormat.datescache=new Array,null!=a.dataFields&&(a.datafields=a.dataFields),void 0==a.recordstartindex&&(a.recordstartindex=0),void 0==a.recordendindex&&(a.recordendindex=0),void 0==a.loadallrecords&&(a.loadallrecords=!0),void 0!=a.sort&&(this.sort=a.sort),this.filter=void 0!=a.filter?a.filter:null,void 0!=a.sortcolumn&&(this.sortcolumn=a.sortcolumn),void 0!=a.sortdirection&&(this.sortdirection=a.sortdirection),void 0!=a.sortcomparer&&(this.sortcomparer=a.sortcomparer),this.records=new Array;var i=this._options||{};if(this.virtualmode=void 0!=i.virtualmode?i.virtualmode:!1,this.totalrecords=void 0!=i.totalrecords?i.totalrecords:0,this.pageable=void 0!=i.pageable?i.pageable:!1,this.pagesize=void 0!=i.pagesize?i.pagesize:0,this.pagenum=void 0!=i.pagenum?i.pagenum:0,this.cachedrecords=void 0!=i.cachedrecords?i.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=i.updaterow?i.updaterow:null,this.addrow=void 0!=i.addrow?i.addrow:null,this.deleterow=void 0!=i.deleterow?i.deleterow:null,this.cache=void 0!=i.cache?i.cache:!1,this.unboundmode=!1,void 0!=a.formatdata&&(i.formatData=a.formatdata),void 0!=a.data&&(void 0==i.data&&(i.data={}),e.extend(i.data,a.data)),this.mapChar=void 0!=a.mapchar?a.mapchar?a.mapchar:">":i.mapChar?i.mapChar:">",(i.unboundmode||a.unboundmode)&&(this.unboundmode=i.unboundmode||a.unboundmode),void 0!=a.cache&&(this.cache=a.cache),this.koSubscriptions)for(var n=0;n<this.koSubscriptions.length;n++)this.koSubscriptions[n].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var o=this,s=a.datatype;("csv"===a.datatype||"tab"===a.datatype||"tsv"===a.datatype||"text"==a.datatype)&&(s="text");var d=void 0!=i.async?i.async:!0;switch(void 0!=a.async&&(d=a.async),s){case"local":case"array":case"observablearray":default:if(void 0==a.localdata&&a.length){a.localdata=new Array;for(var l=0;l<a.length;l++)a.localdata[a.localdata.length]=a[l],a[l].uid=l}a.beforeprocessing&&e.isFunction(a.beforeprocessing)&&a.beforeprocessing(a.localdata);var c=a.localdata.length;if(this.totalrecords=this.virtualmode?a.totalrecords||c:c,this.unboundmode){this.totalrecords=this.unboundmode?a.totalrecords||c:c;var u=a.datafields?a.datafields.length:0;if(u>0)for(var l=0;l<this.totalrecords;l++){for(var h={},f=0;u>f;f++)h[a.datafields[f].name]="";h.uid=l,a.localdata[a.localdata.length]=h}}void 0==this.totalrecords&&(this.totalrecords=0);var u=a.datafields?a.datafields.length:0,p=function(t,r){for(var i={},n=0;r>n;n++){var s=a.datafields[n],d="";if(void 0!=s&&null!=s){if(s.map){if(e.isFunction(s.map))d=s.map(t);else{var l=s.map.split(o.mapChar);if(l.length>0){for(var c=t,u=0;u<l.length;u++)c&&(c=c[l[u]]);d=c}else d=t[s.map]}void 0!=d&&null!=d?d=d.toString():void 0==d&&null!=d&&(d="")}""==d&&(d=t[s.name],void 0!=d&&null!=d&&(d=a._localdata&&d.subscribe?d():d.toString())),d=o.getvaluebytype(d,s),void 0!=s.displayname?i[s.displayname]=d:i[s.name]=d}}return i};if(a._localdata){this._changedrecords=[],this.records=new Array;var v=a._localdata();if(e.each(v,function(t,i){if("string"==typeof i)o.records.push(i);else{var n={},s=0,d=this;e.each(this,function(r){var i=null,l="string",c=r;if(u>0){for(var h=!1,f=!1,p=0;u>p;p++){var v=a.datafields[p];if(void 0!=v&&v.name==r){h=!0,i=v.map,l=v.type,c=v.name;break}if(void 0!=v&&v.map&&v.map.indexOf(r)>=0){h=!0,i=v.map,l=v.type,c=v.name,f=!0;var g=d[r];if(null!=i){var m=i.split(o.mapChar);if(m.length>0){for(var y=d,x=0;x<m.length;x++)y=y[m[x]];g=y}else g=d[i]}"string"!=l&&(g=o.getvaluebytype(g,{type:l})),n[c]=g,void 0!=n[c]&&(s+=n[c].toString().length+n[c].toString().substr(0,1))}}if(!h)return!0;if(f)return!0}var b=e.isFunction(d[r]);if(b){var g=d[r]();if("string"!=l&&(g=o.getvaluebytype(g,{type:l})),n[r]=g,d[r].subscribe){var S=t;o.koSubscriptions[o.koSubscriptions.length]=d[r].subscribe(function(e){var t=S;n[r]=e;var a={index:t,oldrecord:n,record:n};return o._changedrecords.push(a),o.isUpdating?void 0:(o.callBindingUpdate("update"),o._changedrecords=[],!1)})}}else{var g=d[r];if(null!=i){var m=i.split(o.mapChar);if(m.length>0){for(var y=d,x=0;x<m.length;x++)y=y[m[x]];g=y}else g=d[i]}"string"!=l&&(g=o.getvaluebytype(g,{type:l})),n[c]=g,void 0!=n[c]&&(s+=n[c].toString().length+n[c].toString().substr(0,1))}});var l=o.getid(a.id,d,t);if(n.uid=l,o.records.push(n),n._koindex=s,o._oldrecords){var c=o.records.length-1;if("update"==r&&o._oldrecords[c]._koindex!=s){var h={index:c,oldrecord:o._oldrecords[c],record:n};o._changedrecords.push(h)}}}}),"add"==r)for(var c=o.records.length,l=0;c>l;l++){for(var h=o.records[l],g=!1,m=0;m<o._oldrecords.length;m++)if(o._oldrecords[m]._koindex===h._koindex){g=!0;break}g||o._changedrecords.push({index:l,oldrecord:null,record:h,position:0!=l?"last":"first"})}else if("remove"==r)for(var c=o._oldrecords.length,l=0;c>l;l++){var y=o._oldrecords[l];o.records[l]?o.records[l]._koindex!=y._koindex&&o._changedrecords.push({index:l,oldrecord:y,record:null}):o._changedrecords.push({index:l,oldrecord:y,record:null})}}else e.isArray(a.localdata)?0==u?e.each(a.localdata,function(t,r){var i=e.extend({},this);if("string"==typeof r)return o.records=a.localdata,!1;var n=o.getid(a.id,i,t);"object"==typeof n&&(n=t),i.uid=n,o.records[o.records.length]=i}):e.each(a.localdata,function(t){var r=this,i=p(r,u),n=o.getid(a.id,i,t);"object"==typeof n&&(n=t);var r=e.extend({},i);r.uid=n,o.records[o.records.length]=r}):(this.records=new Array,e.each(a.localdata,function(e){var t=o.getid(a.id,this,e);if(u>0){var r=this,i=p(r,u);i.uid=t,o.records[o.records.length]=i}else this.uid=t,o.records[o.records.length]=this}));if(this.originaldata=a.localdata,this.cachedrecords=this.records,this.addForeignValues(a),i.uniqueDataFields){var x=this.getUniqueRecords(this.records,i.uniqueDataFields);this.records=x,this.cachedrecords=x}if(i.beforeLoadComplete){var b=i.beforeLoadComplete(o.records,this.originaldata);void 0!=b&&(o.records=b,o.cachedrecords=b)}if(i.autoSort&&i.autoSortField){var S=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[i.autoSortField]},o.records.sort(function(t,r){if(void 0===t&&(t=null),void 0===r&&(r=null),null===t&&null===r)return 0;if(null===t&&null!==r)return 1;if(null!==t&&null===r)return-1;if(t=t.toString(),r=r.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(r))return r>t?-1:t>r?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(r))return r>t?-1:t>r?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(r)||(t=String(t).toLowerCase(),r=String(r).toLowerCase());try{if(r>t)return-1;if(t>r)return 1}catch(a){}return 0}),Object.prototype.toString=S}o.loadedData=a.localdata,o.buildHierarchy(),e.isFunction(i.loadComplete)&&i.loadComplete(a.localdata,o.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(null!=a.localdata){if(e.isFunction(a.beforeprocessing)&&a.beforeprocessing(a.localdata),"xml"===a.datatype?o.loadxml(a.localdata,a.localdata,a):"text"===s?o.loadtext(a.localdata,a):o.loadjson(a.localdata,a.localdata,a),o.addForeignValues(a),i.uniqueDataFields){var x=o.getUniqueRecords(o.records,i.uniqueDataFields);o.records=x,o.cachedrecords=x}if(i.beforeLoadComplete){var b=i.beforeLoadComplete(o.records,this.originaldata);void 0!=b&&(o.records=b,o.cachedrecords=b)}return o.loadedData=a.localdata,o.buildHierarchy.call(o),e.isFunction(i.loadComplete)&&i.loadComplete(a.localdata,o.records),void o.callBindingUpdate(r)}var A=void 0!=i.data?i.data:{};if(a.processdata&&a.processdata(A),e.isFunction(i.processData)&&i.processData(A),e.isFunction(i.formatData)){var _=i.formatData(A);void 0!=_&&(A=_)}var w="application/x-www-form-urlencoded";i.contentType&&(w=i.contentType);var T="GET";if(a.type&&(T=a.type),i.type&&(T=i.type),a.url&&a.url.length>0)e.isFunction(i.loadServerData)?o._requestData(A,a,i):this.xhr=e.jqx.data.ajax({dataType:s,cache:this.cache,type:T,url:a.url,async:d,contentType:w,data:A,success:function(t,r,n){if(e.isFunction(a.beforeprocessing)){var d=a.beforeprocessing(t,r,n);void 0!=d&&(t=d)}if(e.isFunction(i.downloadComplete)){var d=i.downloadComplete(t,r,n);void 0!=d&&(t=d)}if(null==t)return o.records=new Array,o.cachedrecords=new Array,o.originaldata=new Array,o.callDownloadComplete(),void(e.isFunction(i.loadComplete)&&i.loadComplete(new Array));var l=t;if(t.records&&(l=t.records),void 0!=t.totalrecords&&(a.totalrecords=t.totalrecords),"xml"===a.datatype?o.loadxml(null,l,a):"text"===s?o.loadtext(l,a):o.loadjson(null,l,a),o.addForeignValues(a),i.uniqueDataFields){var c=o.getUniqueRecords(o.records,i.uniqueDataFields);o.records=c,o.cachedrecords=c}if(i.beforeLoadComplete){var u=i.beforeLoadComplete(o.records,t);void 0!=u&&(o.records=u,o.cachedrecords=u)}o.loadedData=t,o.buildHierarchy.call(o),o.callDownloadComplete(),e.isFunction(i.loadComplete)&&i.loadComplete(t,r,n,o.records)},error:function(t,r,n){e.isFunction(a.loaderror)&&a.loaderror(t,r,n),e.isFunction(i.loadError)&&i.loadError(t,r,n),t=null,o.callDownloadComplete()},beforeSend:function(t,r){e.isFunction(i.beforeSend)&&i.beforeSend(t,r),e.isFunction(a.beforesend)&&a.beforesend(t,r)}});else if(o.buildHierarchy(new Array),o.callDownloadComplete(),e.isFunction(i.loadComplete)){if(!j)var j={};i.loadComplete(j)}}this.callBindingUpdate(r)}}},buildHierarchy:function(e){var t=this._source,r=new Array;if(t.datafields){if(t.hierarchy&&!t.hierarchy.reservedNames)t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(t.hierarchy){var a=t.hierarchy.reservedNames;a.leaf||(a.leaf="leaf"),a.parent||(a.parent="parent"),a.expanded||(a.expanded="expanded"),a.checked||(a.checked="checked"),a.selected||(a.selected="selected"),a.level||(a.level="level"),a.data||(a.data="data")}if(t.hierarchy){var i=this,a=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType){var r=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=r,r}this.hierarchy=this.records;for(var n=t.hierarchy.root,o=0;o<this.records.length;o++){var s=this.records[o];if(s){var d=function(e){if(t.hierarchy.record)e.records=e[n][t.hierarchy.record];else{var r=n.split(i.mapChar),o=null;if(r.length>1){for(var s=e,d=0;d<r.length;d++)void 0!=s&&(s=s[r[d]]);o=s}else o=e[n];e.records=o}(null==e.records||e.records&&0==e.records.length)&&(e[a.leaf]=!0)};d(s),s[a.level]=0;var l=this.getid(t.id,s,o);s.uid=l,s[a.parent]=null,s[a.data]=s,void 0===s[a.expanded]&&(s[a.expanded]=!1);var c=function(e,r){if(!r)return void(e.records=new Array);for(var n=0;n<r.length;n++){var o=r[n];if(o){d(o),o[a.level]=e[a.level]+1,o[a.parent]=e,o[a.data]=o;var s=i.getid(t.id,o,n);o.uid=s==n&&null==t.id?e.uid+"_"+s:s,void 0===o[a.expanded]&&(o[a.expanded]=!1),c(o,o.records)}}};c(s,s.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){var r=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=r,r}if(t.hierarchy.groupingDataFields){for(var u=new Array,o=0;o<t.hierarchy.groupingDataFields.length;o++)u.push(t.hierarchy.groupingDataFields[o].name);var r=this.getGroupedRecords(u,"records","label",null,"data",null,"parent",e);return this.hierarchy=r,r}}}},addRecord:function(e,t,r,a){var i=this,n=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=e){if(void 0==r){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||a)){var o=i._source&&i._source.hierarchy?i._source.hierarchy.reservedNames:null;null==o&&(o=n()),e[o.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){var s=function(a){if(a)for(var o=0;o<a.length;o++){var d=a[o];if(d.uid==r){var l=i._source&&i._source.hierarchy?i._source.hierarchy.reservedNames:null;return null==l&&(l=n()),e[l.parent]=d,e[l.level]=d[l.level]+1,d.records||(d.records=new Array,d[l.leaf]=!1),"last"==t?d.records.push(e):"number"==typeof t&&isFinite(t)?d.records.splice(t,0,e):d.records.splice(0,0,e),i.records.push(e),!0}d.records&&s(d.records)}};s(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){var r=function(a){if(a)for(var i=0;i<a.length;i++){var n=a[i];if(n.uid==e){a.splice(i,1),t.recordids[e]&&delete t.recordids[e];var o=function(e){for(var r=0;r<e.length;r++){for(var a=e[r].uid,i=0;i<t.records.length;i++){var n=t.records[i];if(n.uid==a){t.records.splice(i,1);break}}e[r].records&&o(e[r].records)}};n.records&&o(n.records);for(var s=0;s<t.records.length;s++){var n=t.records[s];if(n.uid==e){t.records.splice(s,1);break}}return!0}n.records&&r(n.records)}};r(this.hierarchy)}else for(var a=0;a<this.records.length;a++){var i=this.records[a];if(i.uid==e)return this.records.splice(a,1),!0}return!1},addForeignValues:function(e){for(var t=this,r=e.datafields?e.datafields.length:0,a=0;r>a;a++){var i=e.datafields[a];if(void 0!=i)if(void 0!=i.values){void 0==i.value&&(i.value=i.name),void 0==i.values.value&&(i.values.value=i.value);var n,o,s=new Array;t.pageable&&t.virtualmode?(n=t.pagenum*t.pagesize,o=n+t.pagesize,o>t.totalrecords&&(o=t.totalrecords)):t.virtualmode?(n=e.recordstartindex,o=e.recordendindex,o>t.totalrecords&&(o=t.totalrecords)):(n=0,o=t.records.length);for(var d=n;o>d;d++){var l=t.records[d],c=i.name,u=l[i.value];if(void 0!=s[u])l[c]=s[u];else for(var h=0;h<i.values.source.length;h++){var f=i.values.source[h],p=f[i.values.value];if(void 0==p&&(p=f.uid),p==u){var v=f[i.values.name];l[c]=v,s[u]=v;break}}}}else if(void 0!=i.value)for(var d=0;d<t.records.length;d++){var l=t.records[d];l[i.name]=l[i.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(t,r,a){var i=this,n=function(t){t.totalrecords&&(r.totalrecords=t.totalrecords,i.totalrecords=t.totalrecords),t.records&&(i.records=t.records,i.cachedrecords=t.records),e.isFunction(a.loadComplete)&&a.loadComplete(t),i.callDownloadComplete()};a.loadServerData(t,r,n)},getUniqueRecords:function(e,t){if(e&&t)for(var r=e.length,a=t.length,i=new Array,n=new Array,o=0;r>o;o++){var s=e[o],d="";if(void 0!=s){for(var l=0;a>l;l++){var c=t[l];d+=s[c]+"_"}n[d]||(i[i.length]=s),n[d]=!0}}return i},getAggregatedData:function(t,r,a,i){var n=a;n||(n=this.records);var o={},s=new Array,d=n.length;if(0!=d&&void 0!=d){for(var l=0;d>l;l++)for(var c=n[l],u=0;u<t.length;u++){var h=t[u],f=c[h.name];if(null!==f&&h.aggregates){o[h.name]=o[h.name]||{},s[h.name]=s[h.name]||0,s[h.name]++;var p=function(t){for(obj in t){var r=o[h.name][obj];null==r&&(o[h.name][obj]=0,r=0),e.isFunction(t[obj])&&(r=t[obj](r,f,h.name,c,i)),o[h.name][obj]=r}},v=parseFloat(f);v=isNaN(v)?!1:!0,v&&(f=parseFloat(f)),"number"==typeof f&&isFinite(f)?e.each(h.aggregates,function(){var e=o[h.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(f);else if("product"==this)0==l?e=parseFloat(f):e*=parseFloat(f);else if("min"==this)e=Math.min(e,parseFloat(f));else if("max"==this)e=Math.max(e,parseFloat(f));else if("count"==this)e++;else if("object"==typeof this)return void p(this);o[h.name][this]=e}):e.each(h.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var e=o[h.name][this];return null==e&&(e=0),o[h.name][this]=e,!0}"object"==typeof this&&p(this)})}}for(var u=0;u<t.length;u++){var h=t[u];if(o[h.name]||(o[h.name]={},e.each(h.aggregates,function(){o[h.name][this]=0})),void 0!=o[h.name].avg){var f=o[h.name].avg,g=s[h.name];o[h.name].avg=0===g||void 0==g?0:f/g}else void 0!=o[h.name].count&&(o[h.name].count=d);(o[h.name].stdev||o[h.name].stdevp||o[h.name]["var"]||o[h.name].varp)&&e.each(h.aggregates,function(){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var e=o[h.name][this],t=d,r=e/d,a=0,i=0;d>i;i++){var s=n[i],l=s[h.name];a+=(l-r)*(l-r)}var c="stdevp"==this||"varp"==this?t:t-1;0==c&&(c=1),"var"==this||"varp"==this?o[h.name][this]=a/c:("stdevp"==this||"stdev"==this)&&(o[h.name][this]=Math.sqrt(a/c))}}),h.formatStrings&&e.each(h.aggregates,function(t){var a=h.formatStrings[t];if(a)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var i=o[h.name][this];o[h.name][this]=e.jqx.dataFormat.formatnumber(i,a,r)}else if("object"==typeof this)for(obj in this){var i=o[h.name][obj];o[h.name][obj]=e.jqx.dataFormat.formatnumber(i,a,r)}})}return o}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,r,a,i,n,o,s,d,l){var c=this;l||(l=0);for(var u=new Array,h=0;h<t.length;h++)u[h]=c.generatekey();r||(r="items"),a||(a="group"),n||(n="record"),s||(s="parentItem"),void 0===o&&(o="value");{var f=new Array,p=0,v=new Array,g=t.length;new Array}if(!d)var d=this.records;for(var m=d.length,y=function(t){var r=t;return i&&e.each(i,function(){this.name&&this.map&&(r[this.map]=r[this.name])}),r},x=0;m>x;x++){var b=y(d[x]);id=b[c.uniqueId];var S=new Array,A=0;for(h=0;g>h;h++){var _=t[h],w=b[_];null!=w&&(S[A++]={value:w,hash:u[h]})}if(S.length!=g)break;for(var T=null,j="",O=-1,N=0;N<S.length;N++){O++;var M=S[N].value,E=S[N].hash;if(j=j+"_"+E+"_"+M,void 0==v[j]||null==v[j]){if(null==T){T={level:0},T[s]=null,T[a]=M,T[n]=b,T.expanded=void 0!==b.expanded?b.expanded:!1,o&&(T[o]=b[o]),T[r]=new Array;var C=f.length+l;this._source.id&&"number"!=typeof b.uid||(C="Row"+C),T.uid=C,f[p++]=T}else{var D={level:T.level+1};D[s]=T,D[a]=M,D[r]=new Array,D[n]=b,D.expanded=void 0!==b.expanded?b.expanded:!1,o&&(D[o]=b[o]),D.uid=T.uid+"_"+T[r].length,T[r][T[r].length]=D,T=D}v[j]=T}else T=v[j]}b&&(b.leaf=!0),null!=T?(null==this._source.id&&(b.uid=T.uid+"_"+T[r].length),b[s]=T,b.level=T.level+1,T[r][T[r].length]=b):b.uid||(b.uid=this.generatekey())}return f},getRecordsHierarchy:function(t,r,a,i,n){var o=new Array,s=this.records;if(n&&(s=n),0==this.records.length)return null;for(var d=null!=a?a:"items",l=[],c=s,u=c.length,h=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,f=function(t){var r=t;return i&&e.each(i,function(){this.name&&this.map&&(r[this.map]=r[this.name])}),r},p=0;u>p;p++){var v=e.extend({},c[p]),g=v[r],m=v[t];l[m]={parentid:g,item:v}}for(var p=0;u>p;p++){var v=e.extend({},c[p]),g=v[r],m=v[t];if(void 0!=l[g]){var v={parentid:g,item:l[m].item},y=l[g].item;y[d]||(y[d]=[]);var x=y[d].length,b=v.item;h?void 0==b[h.parent]&&(b[h.parent]=y):void 0==b.parent&&(b.parent=y);var S=f(b);y[d][x]=S,l[g].item=y,l[m]=v}else{var b=l[m].item;h?void 0==b[h.parent]&&(b[h.parent]=null):void 0==b.parent&&(b.parent=null);var S=f(b);h?S[h.level]=0:S.level=0,o[o.length]=S}}if(0!=o.length){var A=function(e,t){for(var r=0;r<t.length;r++){h?t[r][h.level]=e:t[r].level=e;var a=t[r][d];a&&a.length>0?A(e+1,a):h?t[r][h.leaf]=!0:t[r].leaf=!0}};A(0,o)}return o},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var r=this._bindingUpdate[t];null!=r.func&&r.func(e)}},getid:function(t,r,a){if(null==t||void 0==t.name||!t.name){if(e(t,r).length>0)return e(t,r).text();if(t&&t.toString().length>0){var i=e(r).attr(t);if(null!=i&&i.toString().length>0)return i}return a}var i=e(r).attr(t.name);if(null!=i&&i.toString().length>0)return i;if(t.map)try{var i=e(r).attr(t.map);if(null!=i&&i.toString().length>0)return i;if(e(t.map,r).length>0)return e(t.map,r).text();if(e(t.name,r).length>0)return e(t.name,r).text()}catch(n){return a}},loadjson:function(t,r,a){"string"==typeof t&&(t=e.parseJSON(t)),void 0==a.root&&(a.root=""),void 0==a.record&&(a.record="");var t=t||r;t||(t=[]);var i=this;if(""!=a.root){var n=a.root.split(i.mapChar);if(n.length>1){for(var o=t,s=0;s<n.length;s++)void 0!=o&&(o=o[n[s]]);t=o}else if(void 0!=t[a.root]?t=t[a.root]:e.each(t,function(){return this==a.root?(t=this,!1):void(void 0!=this[a.root]&&(t=this[a.root]))}),!t){var n=a.root.split(i.mapChar);if(n.length>0){for(var o=t,s=0;s<n.length;s++)void 0!=o&&(o=o[n[s]]);t=o}}}else if(!t.length)for(obj in t)if(e.isArray(t[obj])){t=t[obj];break}if(null!=t&&void 0==t.length&&(t=e.makeArray(t)),null==t||void 0==t.length)return void alert("JSON Parse error.");if(0==t.length)return void(this.totalrecords=0);var d=t.length;this.totalrecords=this.virtualmode?a.totalrecords||d:d,this.records=new Array,this.originaldata=new Array;var l=this.records,c=this.pageable?this.pagesize*this.pagenum:a.recordstartindex;this.recordids=new Array,a.loadallrecords&&(c=0,d=this.totalrecords);var u=0;this.virtualmode&&(c=this.pageable?this.pagesize*this.pagenum:a.recordstartindex,u=c,c=0,d=this.totalrecords);var h=a.datafields?a.datafields.length:0;if(0==h){var f=t[0],p=new Array;for(obj in f){var v=obj;p[p.length]={name:v}}a.datafields=p,h=p.length}for(var g=c,m=c;d>m;m++){var y=t[m];if(void 0==y)break;if(!a.record||""==a.record||(y=y[a.record],void 0!=y)){var x=this.getid(a.id,y,m);if("object"==typeof x&&(x=m),!this.recordids[x]){this.recordids[x]=y;for(var b={},S=0;h>S;S++){var A=a.datafields[S],_="";if(void 0!=A&&null!=A){if(A.map){if(e.isFunction(A.map))_=A.map(y);else{var n=A.map.split(i.mapChar);if(n.length>0){for(var w=y,s=0;s<n.length;s++)void 0!=w&&(w=w[n[s]]);_=w}else _=y[A.map]}void 0!=_&&null!=_?_=this.getvaluebytype(_,A):void 0==_&&null!=_&&(_="")}if(""==_&&!A.map&&(_=y[A.name],void 0==_&&null!=_&&(_=""),void 0!=A.value&&void 0!=_)){var T=_[A.value];void 0!=T&&(_=T)}if(_=this.getvaluebytype(_,A),void 0!=A.displayname?b[A.displayname]=_:b[A.name]=_,"array"===A.type){var j=function(t){if(t)for(var r=0;r<t.length;r++){var n=t[r];if(n)for(var o=0;h>o;o++){var s=a.datafields[o],d="";if(void 0!=s&&null!=s){if(s.map){if(e.isFunction(s.map))d=s.map(n);else{var l=s.map.split(i.mapChar);if(l.length>0){for(var c=n,u=0;u<l.length;u++)void 0!=c&&(c=c[l[u]]);d=c}else d=n[s.map]}void 0!=d&&null!=d?d=this.getvaluebytype(d,s):void 0==d&&null!=d&&(d="")}if(""==d&&!s.map&&(d=n[s.name],void 0==d&&null!=d&&(d=""),void 0!=s.value&&void 0!=d)){var f=d[s.value];void 0!=f&&(d=f)}d=this.getvaluebytype(d,s),void 0!=s.displayname?n[s.displayname]=d:n[s.name]=d,"array"===s.type&&j.call(this,d)}}}};j.call(this,_)}}}(a.recordendindex<=0||c<a.recordendindex)&&(l[u+g]=e.extend({},b),l[u+g].uid=x,this.originaldata[u+g]=e.extend({},l[m]),g++)}}}this.records=l,this.cachedrecords=this.records},loadxml:function(t,r,a){"string"==typeof t&&(t=r=e(e.parseXML(t)),t=null),void 0==a.root&&(a.root=""),void 0==a.record&&(a.record="");var t;t=e.jqx.browser.msie&&r&&void 0!=r.xml?e(a.root+" "+a.record,e.parseXML(r.xml)):t||e(a.root+" "+a.record,r),t||(t=[]);var i=t.length;if(0!=t.length){this.totalrecords=this.virtualmode?a.totalrecords||i:i,this.records=new Array,this.originaldata=new Array;var n=this.records,o=this.pageable?this.pagesize*this.pagenum:a.recordstartindex;this.recordids=new Array,a.loadallrecords&&(o=0,i=this.totalrecords);var s=0;this.virtualmode&&(o=this.pageable?this.pagesize*this.pagenum:a.recordstartindex,s=o,o=0,i=this.totalrecords);var d=a.datafields?a.datafields.length:0;if(0==d){var l=t[0],c=new Array;for(obj in l){var u=obj;c[c.length]={name:u}}a.datafields=c,d=c.length}for(var h=o,f=!1,p=o;i>p;p++){var v=t[p];if(void 0==v)break;var g=this.getid(a.id,v,p);if(!this.recordids[g]){this.recordids[g]=v;var m={},y=!1;a.hierarchy&&a.hierarchy.root&&(y=!0);for(var x=0;d>x;x++){var b=a.datafields[x],S="";if(void 0!=b&&null!=b){if(b.map)if(e.isFunction(b.map))S=b.map(v);else{var A=b.map.indexOf("[");if(0>A)if(S=e(b.map,v),1==S.length)S=S.text();else{f=!0;for(var _=new Array,w=0;w<S.length;w++)_.push(e(S[w]).text());S=_,y&&_.length>0&&(S=_[0])}else{var T=b.map.substring(0,A-1),j=b.map.indexOf("]"),O=b.map.substring(A+1,j);S=e(T,v).attr(O),void 0==S&&(S=e(v).attr(O)),void 0==S&&(S="")}""==S&&(S=e(v).attr(b.map),void 0==S&&(S=""))}if(""==S){if(S=e(b.name,v),1==S.length)S=S.text();else{for(var _=new Array,w=0;w<S.length;w++)_.push(e(S[w]).text());S=_,y&&_.length>0&&(S=_[0])}""==S&&(S=e(v).attr(b.name),void 0==S&&(S="")),""==S&&v.nodeName&&v.nodeName==b.name&&v.firstChild&&(S=e(v.firstChild).text())}S=this.getvaluebytype(S,b),void 0!=b.displayname?m[b.displayname]=S:m[b.name]=S}}(a.recordendindex<=0||o<a.recordendindex)&&(n[s+h]=e.extend({},m),n[s+h].uid=g,this.originaldata[s+h]=e.extend({},n[p]),h++)}}if(a.hierarchy&&a.hierarchy.root)for(var p=o;i>p;p++){var v=t[p],N=n[p];if(e(v).parent().length>0){var g=this.getid(a.id,e(v).parents(a.hierarchy.record+":first"));N.parentuid=g}else N.parentuid=null}this.records=n,this.cachedrecords=this.records}},loadtext:function(t,r){if(null!=t){var a=r.rowDelimiter||this.rowDelimiter||"\n",i=t.split(a),n=i.length;this.totalrecords=this.virtualmode?r.totalrecords||n:n,this.records=new Array,this.originaldata=new Array;var o=this.records,s=this.pageable?this.pagesize*this.pagenum:r.recordstartindex;this.recordids=new Array,r.loadallrecords&&(s=0,n=this.totalrecords);var d=0;this.virtualmode&&(s=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,d=s,s=0,n=this.totalrecords);var l=r.datafields.length,c=r.columnDelimiter||this.columnDelimiter;c||(c="tab"===r.datatype||"tsv"===r.datatype?"	":",");for(var u=s;n>u;u++){var h=i[u],f=null;if(!this.recordids[f]){null==r.id&&(f=u,this.recordids[f]=h);for(var p={},v=i[u].split(c),g=0;l>g;g++)if(!(g>=v.length)){var m=r.datafields[g],y=v[g];m.map&&e.isFunction(m.map)&&(y=m.map(h)),m.type&&(y=this.getvaluebytype(y,m));var x=m.map||m.name||g.toString();p[x]=y,null!=r.id&&r.id===m.name&&(f=y,this.recordids[f]=h)}null==f&&(f=u),o[d+u]=e.extend({},p),o[d+u].uid=f,this.originaldata[d+u]=e.extend({},o[u])}}this.records=o,this.cachedrecords=this.records}},getvaluebytype:function(t,r){var a=t;if(null==t)return t;if(e.isArray(t)&&"array"!=r.type){for(var i=0;i<t.length;i++)t[i]=this.getvaluebytype(t[i],r);return t}if("date"==r.type)if("NaN"==t)t="";else{var n=new Date(t);if("string"==typeof t&&r.format){var o=e.jqx.dataFormat.parsedate(t,r.format);null!=o&&(n=o)}t=("NaN"==n.toString()||"Invalid Date"==n.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):n,null==t&&(t=a)}else if("float"==r.type||"number"==r.type||"decimal"==r.type)if("NaN"==t)t="";else{var t=parseFloat(t);isNaN(t)&&(t=a)}else if("int"==r.type||"integer"==r.type){var t=parseInt(t);isNaN(t)&&(t=a)}else("bool"==r.type||"boolean"==r.type)&&(null!=t&&void 0!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t?!0:0==t&&""!==t?!1:"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,a=e.length;a>r;r++)if(e[r]===t)return r;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return"undefined"==typeof e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!this.isString(t)&&this.isValue(t)?!1:this.isValue(t)?(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===t):!0
},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){var e={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return e},expandFormat:function(e,t){t=t||"F";var r,a=e.patterns,i=t.length;if(1===i){if(r=a[t],!r)throw"Invalid date format string '"+t+"'.";t=r}else 2===i&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var r,a=e.getTime(),i=0,n=t.length;n>i;i++)if(r=t[i].start,null===r||a>=r)return i;return 0},toUpper:function(e){return e.split("\xa0").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],r=0,a=e.length;a>r;r++)t[r]=this.toUpper(e[r]);return t},getEraYear:function(e,t,r,a){var i=e.getFullYear();return!a&&t.eras&&(i-=t.eras[r].offset),i},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,r){var a,i=e.days,n=e._upperDays;return n||(e._upperDays=n=[this.toUpperArray(i.names),this.toUpperArray(i.namesAbbr),this.toUpperArray(i.namesShort)]),t=t.toUpperCase(),r?(a=this.arrayIndexOf(n[1],t),-1===a&&(a=this.arrayIndexOf(n[2],t))):a=this.arrayIndexOf(n[0],t),a},getMonthIndex:function(e,t,r){var a=e.months,i=e.monthsGenitive||e.months,n=e._upperMonths,o=e._upperMonthsGen;n||(e._upperMonths=n=[this.toUpperArray(a.names),this.toUpperArray(a.namesAbbr)],e._upperMonthsGen=o=[this.toUpperArray(i.names),this.toUpperArray(i.namesAbbr)]),t=this.toUpper(t);var s=this.arrayIndexOf(r?n[1]:n[0],t);return 0>s&&(s=this.arrayIndexOf(r?o[1]:o[0],t)),s},appendPreOrPostMatch:function(e,t){for(var r=0,a=!1,i=0,n=e.length;n>i;i++){var o=e.charAt(i);switch(o){case"'":a?t.push("'"):r++,a=!1;break;case"\\":a&&t.push("\\"),a=!a;break;default:t.push(o),a=!1}}return r},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var r="";return t&&t.target&&(r="target="+t.target),""!=r?"<a "+r+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,r){return this.formatnumber(e,t,r)},formatnumber:function(e,t,r){if((void 0==r||null==r||""==r)&&(r=this.defaultcalendar()),""===t||null===t)return e;this.isNumber(e)||(e*=1);var a;t.length>1&&(a=parseInt(t.slice(1),10));var i={},n=t.charAt(0).toUpperCase();switch(i.thousandsSeparator=r.thousandsseparator,i.decimalSeparator=r.decimalseparator,n){case"D":case"d":case"F":case"f":i.decimalPlaces=a;break;case"N":case"n":i.decimalPlaces=0;break;case"C":case"c":i.decimalPlaces=a,"before"==r.currencysymbolposition?i.prefix=r.currencysymbol:i.suffix=r.currencysymbol;break;case"P":case"p":i.suffix=r.percentsymbol,i.decimalPlaces=a;break;default:throw"Bad number format specifier: "+n}if(this.isNumber(e)){var o,s=0>e,d=e+"",l=i.decimalSeparator?i.decimalSeparator:".";if(this.isNumber(i.decimalPlaces)){var c=i.decimalPlaces,u=Math.pow(10,c);if(d=(e*u).toFixed(0)/u+"",o=d.lastIndexOf("."),c>0)for(0>o?(d+=l,o=d.length-1):"."!==l&&(d=d.replace(".",l));d.length-1-o<c;)d+="0"}if(i.thousandsSeparator){var h=i.thousandsSeparator;o=d.lastIndexOf(l),o=o>-1?o:d.length;for(var f=d.substring(o),p=-1,v=o;v>0;v--)p++,p%3===0&&v!==o&&(!s||v>1)&&(f=h+f),f=d.charAt(v-1)+f;d=f}return d=i.prefix?i.prefix+d:d,d=i.suffix?d+i.suffix:d}return e},tryparsedate:function(e,t){(void 0==t||null==t)&&(t=this.defaultcalendar());var r=this;if(""==e)return null;if(null==e||e.substring||(e=e.toString()),null!=e&&"/Date("==e.substring(0,6)){var a=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,i=new Date(+e.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==i){var n=e.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),i=null;n&&(i=new Date(1*n[1]+36e5*n[2]+6e4*n[3]))}if(null==i||"Invalid Date"==i||isNaN(i)){var o=a.exec(e);if(o){var s=new Date(parseInt(o[1]));if(o[2]){var d=parseInt(o[3]);"-"===o[2]&&(d=-d);var l=s.getUTCMinutes();s.setUTCMinutes(l-d)}if(!isNaN(s.valueOf()))return s}}return i}patterns=t.patterns;for(prop in patterns)if(i=r.parsedate(e,patterns[prop],t)){if("ISO"==prop){var c=r.parsedate(e,patterns.ISO2,t);if(c)return c}return i}if(null!=e){for(var c=null,u=[":","/","-"],h=!0,f=0;f<u.length;f++)-1!=e.indexOf(u[f])&&(h=!1);if(h){var p=new Number(e);if(!isNaN(p))return new Date(p)}}return null},getparseregexp:function(e,t){var r=e._parseRegExp;if(r){var a=r[t];if(a)return a}else e._parseRegExp=r={};for(var i,n=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],s=[],d=0,l=0,c=this.getTokenRegExp();null!==(i=c.exec(n));){var u=n.slice(d,i.index);if(d=c.lastIndex,l+=this.appendPreOrPostMatch(u,o),l%2)o.push(i[0]);else{var h,f=i[0],p=f.length;switch(f){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":h="(\\D+)";break;case"tt":case"t":h="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":h="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":h="(\\d\\d?)";break;case"zzz":h="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":h="([+-]?\\d\\d?)";break;case"/":h="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+f+"'."}h&&o.push(h),s.push(i[0])}}this.appendPreOrPostMatch(n.slice(d),o),o.push("$");var v=o.join("").replace(/\s+/g,"\\s+"),g={regExp:v,groups:s};return r[t]=g},outOfRange:function(e,t,r){return t>e||e>r},expandYear:function(e,t){var r=new Date,a=this.getEra(r);if(100>t){var i=e.twoDigitYearMax;i="string"==typeof i?(new Date).getFullYear()%100+parseInt(i,10):i;var n=this.getEraYear(r,e,a);t+=n-n%100,t>i&&(t-=100)}return t},parsedate:function(e,t,r){(void 0==r||null==r)&&(r=this.defaultcalendar()),e=this.trim(e);var a=r,i=this.getparseregexp(a,t),n=new RegExp(i.regExp).exec(e);if(null===n)return null;for(var o,s=i.groups,d=null,l=null,c=null,u=null,h=null,f=0,p=0,v=0,g=0,m=null,y=!1,x=0,b=s.length;b>x;x++){var S=n[x+1];if(S){var A=s[x],_=A.length,w=parseInt(S,10);switch(A){case"dd":case"d":if(u=w,this.outOfRange(u,1,31))return null;break;case"MMM":case"MMMM":if(c=this.getMonthIndex(a,S,3===_),this.outOfRange(c,0,11))return null;break;case"M":case"MM":if(c=w-1,this.outOfRange(c,0,11))return null;break;case"y":case"yy":case"yyyy":if(l=4>_?this.expandYear(a,w):w,this.outOfRange(l,0,9999))return null;break;case"h":case"hh":if(f=w,12===f&&(f=0),this.outOfRange(f,0,11))return null;break;case"H":case"HH":if(f=w,this.outOfRange(f,0,23))return null;break;case"m":case"mm":if(p=w,this.outOfRange(p,0,59))return null;break;case"s":case"ss":if(v=w,this.outOfRange(v,0,59))return null;break;case"tt":case"t":if(y=a.PM&&(S===a.PM[0]||S===a.PM[1]||S===a.PM[2]),!y&&(!a.AM||S!==a.AM[0]&&S!==a.AM[1]&&S!==a.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=w*Math.pow(10,3-_),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(h=this.getDayIndex(a,S,3===_),this.outOfRange(h,0,6))return null;break;case"zzz":var T=S.split(/:/);if(2!==T.length)return null;if(o=parseInt(T[0],10),this.outOfRange(o,-12,13))return null;var j=parseInt(T[1],10);if(this.outOfRange(j,0,59))return null;m=60*o+(startsWith(S,"-")?-j:j);break;case"z":case"zz":if(o=w,this.outOfRange(o,-12,13))return null;m=60*o;break;case"g":case"gg":var O=S;if(!O||!a.eras)return null;O=trim(O.toLowerCase());for(var N=0,M=a.eras.length;M>N;N++)if(O===a.eras[N].name.toLowerCase()){d=N;break}if(null===d)return null}}}var E,C=new Date,D=a.convert;if(E=C.getFullYear(),null===l?l=E:a.eras&&(l+=a.eras[d||0].offset),null===c&&(c=0),null===u&&(u=1),D){if(C=D.toGregorian(l,c,u),null===C)return null}else{if(C.setFullYear(l,c,u),C.getDate()!==u)return null;if(null!==h&&C.getDay()!==h)return null}if(y&&12>f&&(f+=12),C.setHours(f,p,v,g),null!==m){var I=C.getMinutes()-(m+C.getTimezoneOffset());C.setHours(C.getHours()+parseInt(I/60,10),I%60)}return C},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,r){return this.formatdate(e,t,r)},formatdate:function(e,t,r){function a(e,t){var r,a=e+"";return t>1&&a.length<t?(r=h[t-2]+a,r.substr(r.length-t,t)):r=a}function i(e,t){if(u)return u[t];if(void 0!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}if((void 0==r||null==r)&&(r=this.defaultcalendar()),"string"==typeof e)return e;var n=e.toString()+"_"+t;if(this.datescache&&this.datescache[n])return this.datescache[n];if(!t||!t.length||"i"===t){var o;return o=this.formatDate(e,r.patterns.F,culture)}var s=r.eras,d="s"===t;t=this.expandFormat(r,t),o=[];for(var l,c,u,h=["0","00","000"],f=0,p=this.getTokenRegExp();;){var v=p.lastIndex,g=p.exec(t),m=t.slice(v,g?g.index:t.length);if(f+=this.appendPreOrPostMatch(m,o),!g)break;if(f%2)o.push(g[0]);else{var y=g[0],x=y.length;switch(y){case"ddd":case"dddd":var b=3===x?r.days.namesAbbr:r.days.names;o.push(b[e.getDay()]);break;case"d":case"dd":c=!0,o.push(a(i(e,2),x));break;case"MMM":case"MMMM":var S=i(e,1);o.push(r.months[3===x?"namesAbbr":"names"][S]);break;case"M":case"MM":o.push(a(i(e,1)+1,x));break;case"y":case"yy":case"yyyy":S=this.getEraYear(e,r,this.getEra(e,s),d),4>x&&(S%=100),o.push(a(S,x));break;case"h":case"hh":l=e.getHours()%12,0===l&&(l=12),o.push(a(l,x));break;case"H":case"HH":o.push(a(e.getHours(),x));break;case"m":case"mm":o.push(a(e.getMinutes(),x));break;case"s":case"ss":o.push(a(e.getSeconds(),x));break;case"t":case"tt":S=e.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ",o.push(1===x?S.charAt(0):S);break;case"f":case"ff":case"fff":o.push(a(e.getMilliseconds(),3).substr(0,x));break;case"z":case"zz":l=e.getTimezoneOffset()/60,o.push((0>=l?"+":"-")+a(Math.floor(Math.abs(l)),x));break;case"zzz":l=e.getTimezoneOffset()/60,o.push((0>=l?"+":"-")+a(Math.floor(Math.abs(l)),2)+":"+a(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":r.eras&&o.push(r.eras[this.getEra(e,s)].name);break;case"/":o.push(r["/"]);break;default:throw"Invalid date format pattern '"+y+"'."}}}var A=o.join("");return this.datescache||(this.datescache=new Array),this.datescache[n]=A,A}}),e.jqx.data={};var d,l,c=/#.*$/,u=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,h=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,f=/^(?:GET|HEAD)$/,p=/^\/\//,v=/\?/,g=/([?&])_=[^&]*/,m=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,y=/\s+/,x=(jQuery.fn.load,{}),b={},S=["*/"]+["*"];try{l=location.href}catch(A){l=document.createElement("a"),l.href="",l=l.href}d=m.exec(l.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,r){return r?a(t,e.jqx.data.ajaxSettings):(r=t,t=e.jqx.data.ajaxSettings),a(t,r),t},ajaxSettings:{url:l,isLocal:h.test(d[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":S},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:t(x),ajaxTransport:t(b),ajax:function(t,a){function o(e,t,r,a){var o,d,c,u,h,f=t;2!==k&&(k=2,_&&clearTimeout(_),A=void 0,l=a||"",R.readyState=e>0?4:0,r&&(u=i(O,R,r)),e>=200&&300>e||304===e?(O.ifModified&&(h=R.getResponseHeader("Last-Modified"),h&&(jQuery.lastModified[s]=h),h=R.getResponseHeader("Etag"),h&&(jQuery.etag[s]=h)),304===e?(f="notmodified",o=!0):(o=n(O,u),f=o.state,d=o.data,c=o.error,o=!c)):(c=f,(!f||e)&&(f="error",0>e&&(e=0))),R.status=e,R.statusText=(t||f)+"",o?E.resolveWith(N,[d,f,R]):E.rejectWith(N,[R,f,c]),R.statusCode(D),D=void 0,T&&M.trigger("ajax"+(o?"Success":"Error"),[R,O,o?d:c]),C.fireWith(N,[R,f]),T&&(M.trigger("ajaxComplete",[R,O]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof t&&(a=t,t=void 0),a=a||{};var s,l,h,A,_,w,T,j,O=e.jqx.data.ajaxSetup({},a),N=O.context||O,M=N!==O&&(N.nodeType||N instanceof jQuery)?jQuery(N):jQuery.event,E=jQuery.Deferred(),C=jQuery.Callbacks("once memory"),D=O.statusCode||{},I={},F={},k=0,L="canceled",R={readyState:0,setRequestHeader:function(e,t){if(!k){var r=e.toLowerCase();e=F[r]=F[r]||e,I[e]=t}return this},getAllResponseHeaders:function(){return 2===k?l:null},getResponseHeader:function(e){var t;if(2===k){if(!h)for(h={};t=u.exec(l);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return k||(O.mimeType=e),this},abort:function(e){return e=e||L,A&&A.abort(e),o(0,e),this}};if(E.promise(R),R.success=R.done,R.error=R.fail,R.complete=C.add,R.statusCode=function(e){if(e){var t;if(2>k)for(t in e)D[t]=[D[t],e[t]];else t=e[R.status],R.always(t)}return this},O.url=((t||O.url)+"").replace(c,"").replace(p,d[1]+"//"),O.dataTypes=jQuery.trim(O.dataType||"*").toLowerCase().split(y),null==O.crossDomain&&(w=m.exec(O.url.toLowerCase()),O.crossDomain=!(!w||w[1]===d[1]&&w[2]===d[2]&&(w[3]||("http:"===w[1]?80:443))==(d[3]||("http:"===d[1]?80:443)))),O.data&&O.processData&&"string"!=typeof O.data&&(O.data=jQuery.param(O.data,O.traditional)),r(x,O,a,R),2===k)return R;if(T=O.global,O.type=O.type.toUpperCase(),O.hasContent=!f.test(O.type),T&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),!O.hasContent&&(O.data&&(O.url+=(v.test(O.url)?"&":"?")+O.data,delete O.data),s=O.url,O.cache===!1)){var q=jQuery.now(),H=O.url.replace(g,"$1_="+q);O.url=H+(H===O.url?(v.test(O.url)?"&":"?")+"_="+q:"")}(O.data&&O.hasContent&&O.contentType!==!1||a.contentType)&&R.setRequestHeader("Content-Type",O.contentType),O.ifModified&&(s=s||O.url,jQuery.lastModified[s]&&R.setRequestHeader("If-Modified-Since",jQuery.lastModified[s]),jQuery.etag[s]&&R.setRequestHeader("If-None-Match",jQuery.etag[s])),R.setRequestHeader("Accept",O.dataTypes[0]&&O.accepts[O.dataTypes[0]]?O.accepts[O.dataTypes[0]]+("*"!==O.dataTypes[0]?", "+S+"; q=0.01":""):O.accepts["*"]);for(j in O.headers)R.setRequestHeader(j,O.headers[j]);if(O.beforeSend&&(O.beforeSend.call(N,R,O)===!1||2===k))return R.abort();L="abort";for(j in{success:1,error:1,complete:1})R[j](O[j]);if(A=r(b,O,a,R)){R.readyState=1,T&&M.trigger("ajaxSend",[R,O]),O.async&&O.timeout>0&&(_=setTimeout(function(){R.abort("timeout")},O.timeout));try{k=1,A.send(I,o)}catch(U){if(!(2>k))throw U;o(-1,U)}}else o(-1,"No Transport");return R},active:0,lastModified:{},etag:{}});var _=[],w=/\?/,T=/(=)\?(?=&|$)|\?\?/,j=jQuery.now();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=_.pop()||jQuery.expando+"_"+j++;return this[e]=!0,e}}),e.jqx.data.ajaxPrefilter("json jsonp",function(e,t,r){var a,i,n,o=e.data,s=e.url,d=e.jsonp!==!1,l=d&&T.test(s),c=d&&!l&&"string"==typeof o&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&T.test(o);return"jsonp"===e.dataTypes[0]||l||c?(a=e.jsonpCallback=jQuery.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,i=window[a],l?e.url=s.replace(T,"$1"+a):c?e.data=o.replace(T,"$1"+a):d&&(e.url+=(w.test(s)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return n||jQuery.error(a+" was not called"),n[0]},e.dataTypes[0]="json",window[a]=function(){n=arguments},r.always(function(){window[a]=i,e[a]&&(e.jsonpCallback=t.jsonpCallback,_.push(a)),n&&jQuery.isFunction(i)&&i(n[0]),n=i=void 0}),"script"):void 0}),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return jQuery.globalEval(e),e}}}),e.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),e.jqx.data.ajaxTransport("script",function(e){if(e.crossDomain){var t,r=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(a,i){t=document.createElement("script"),t.async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,a){(a||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,r&&t.parentNode&&r.removeChild(t),t=void 0,a||i(200,"success"))},r.insertBefore(t,r.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var O,N=window.ActiveXObject?function(){for(var e in O)O[e](0,1)}:!1,M=0;e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&o()||s()}:o,function(e){jQuery.extend(jQuery.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(e.jqx.data.ajaxSettings.xhr()),jQuery.support.ajax&&e.jqx.data.ajaxTransport(function(e){if(!e.crossDomain||jQuery.support.cors){var t;return{send:function(r,a){var i,n,o=e.xhr();if(e.username?o.open(e.type,e.url,e.async,e.username,e.password):o.open(e.type,e.url,e.async),e.xhrFields)for(n in e.xhrFields)o[n]=e.xhrFields[n];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(n in r)o.setRequestHeader(n,r[n])}catch(s){}o.send(e.hasContent&&e.data||null),t=function(r,n){var s,d,l,c,u;try{if(t&&(n||4===o.readyState))if(t=void 0,i&&(o.onreadystatechange=jQuery.noop,N&&delete O[i]),n)4!==o.readyState&&o.abort();else{s=o.status,l=o.getAllResponseHeaders(),c={},u=o.responseXML,u&&u.documentElement&&(c.xml=u);try{c.text=o.responseText}catch(h){}try{d=o.statusText}catch(h){d=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}}catch(f){n||a(-1,f)}c&&a(s,d,c,l)},e.async?4===o.readyState?setTimeout(t,0):(i=++M,N&&(O||(O={},jQuery(window).unload(N)),O[i]=t),o.onreadystatechange=t):t()},abort:function(){t&&t(0,1)}}}}),e.jqx.filter=function(){this.operator="and";var t=1,r=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],a=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],i=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],n=["EQUAL","NOT_EQUAL"],o=new Array,s=new Array;this.evaluate=function(e){for(var r=!0,a=0;a<o.length;a++){var i=o[a].evaluate(e);r=0==a?i:s[a]==t||"or"==s[a]?r||i:r&&i}return r},this.getfilterscount=function(){return o.length},this.setoperatorsbyfiltertype=function(e,t){switch(e){case"numericfilter":a=t;break;case"stringfilter":r=t;break;case"datefilter":i=t;break;case"booleanfilter":n=t}},this.getoperatorsbyfiltertype=function(e){var t=new Array;switch(e){case"numericfilter":t=a.slice(0);break;case"stringfilter":t=r.slice(0);break;case"datefilter":t=i.slice(0);break;case"booleanfilter":t=n.slice(0)}return t};var d=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,r,a,i,n){if(null==e||void 0==e)return null;switch(e){case"numericfilter":return new u(t,r.toUpperCase());case"stringfilter":return new l(t,r.toUpperCase());case"datefilter":return new h(t,r.toUpperCase(),i,n);case"booleanfilter":return new c(t,r.toUpperCase());case"custom":return new f(t,r.toUpperCase(),a)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<o.length;t++){var r={value:o[t].filtervalue,condition:o[t].comparisonoperator,operator:s[t],type:o[t].type};e[t]=r}return e},this.addfilter=function(e,t){o[o.length]=t,t.key=d(),s[s.length]=e},this.removefilter=function(e){for(var t=0;t<o.length;t++)if(o[t].key==e.key){o.splice(t,1),s.splice(t,1);break}},this.getoperatorat=function(e){return void 0==e||null==e?null:0>e||e>o.length?null:s[e]},this.setoperatorat=function(e,t){return void 0==e||null==e?null:0>e||e>o.length?null:void(s[t]=t)},this.getfilterat=function(e){return void 0==e||null==e?null:0>e||e>o.length?null:o[e]},this.setfilterat=function(e,t){return void 0==e||null==e?null:0>e||e>o.length?null:(t.key=d(),void(o[e]=t))},this.clear=function(){o=new Array,s=new Array};var l=function(t,r){this.filtervalue=t,this.comparisonoperator=r,this.type="stringfilter",this.evaluate=function(t){var r=this.filtervalue,a=this.comparisonoperator;if(null==t||void 0==t||""==t)return"NULL"==a?!0:!1;var i="";try{i=t.toString()}catch(n){return!0}var o=function(t,r){switch(a){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,r);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,r);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,r);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,r);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,r);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,r);case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,r);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,r);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,r);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,r);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,r);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,r);default:return!1}},s=new Array;if(r&&r.indexOf&&(r.indexOf("|")>=0||r.indexOf(" AND ")>=0||r.indexOf(" OR ")>=0||r.indexOf(" and ")>=0||r.indexOf(" or ")>=0)){var d=o(i,r);if(d)return d;var l=r.indexOf(" AND ")>=0?r.split(" AND "):new Array,c=r.indexOf(" OR ")>=0?r.split(" OR "):new Array,u=r.indexOf(" and ")>=0?r.split(" and "):new Array,h=r.indexOf(" or ")>=0?r.split(" or "):new Array,f=r.indexOf("|")>=0?r.split("|"):new Array;if(f.length>0)for(var p=0;p<f.length;p++)f[p]=e.trim(f[p]);var v=r.indexOf(" ")>=0?r.split(" "):new Array;if(v.length>0)for(var p=0;p<v.length;p++)v[p]=e.trim(v[p]);if(l=l.concat(v),l=l.concat(u),c=c.concat(f),c=c.concat(h),l.length>0)for(var p=0;p<l.length;p++)!l[p].indexOf(" OR ")>=0&&s.push(l[p]);if(c.length>0)for(var p=0;p<c.length;p++)!c[p].indexOf(" AND ")>=0&&s.push(c[p]);for(var g=void 0,m=0;m<s.length;m++){var t=s[m],d=o(i,t),y=m<l.length?"and":"or";g=void 0==g?d:"or"==y?g||d:g&&d}return g}return o(i,r)}},c=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,r=this.comparisonoperator;if(null==e||void 0==e)return"NULL"==r?!0:!1;var a=e;switch(r){case"EQUAL":return a==t||a.toString()==t.toString();case"NOT_EQUAL":return a!=t&&a.toString()!=t.toString();default:return!1}}},u=function(t,r){this.filtervalue=t,this.comparisonoperator=r,this.type="numericfilter",this.evaluate=function(t){var r=this.filtervalue,a=this.comparisonoperator;if(null===t||void 0===t||""===t)return"NOT_NULL"==a?!1:"NULL"==a?!0:!1;if("NULL"==a)return!1;if("NOT_NULL"==a)return!0;var i=t;try{i=parseFloat(i)}catch(n){if(""!=t.toString())return!1}var o=function(t,r){switch(a){case"EQUAL":return t==r;case"NOT_EQUAL":return t!=r;case"GREATER_THAN":return t>r;case"GREATER_THAN_OR_EQUAL":return t>=r;case"LESS_THAN":return r>t;case"LESS_THAN_OR_EQUAL":return r>=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),r.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),r.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),r.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),r.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),r.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),r.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),r.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),r.toString());default:return!0}},s=new Array;if(r&&r.indexOf&&(r.indexOf("|")>=0||r.indexOf(" AND ")>=0||r.indexOf(" OR ")>=0||r.indexOf(" and ")>=0||r.indexOf(" or ")>=0)){var d=o(i,r);if(d)return d;r=r.toString();var l=r.indexOf(" AND ")>=0?r.split(" AND "):new Array,c=r.indexOf(" OR ")>=0?r.split(" OR "):new Array,u=r.indexOf(" and ")>=0?r.split(" and "):new Array,h=r.indexOf(" or ")>=0?r.split(" or "):new Array;l=l.concat(u),c=c.concat(h);var f=r.indexOf("|")>=0?r.split("|"):new Array;if(f.length>0)for(var p=0;p<f.length;p++)f[p]=e.trim(f[p]);if(c=c.concat(f),l.length>0)for(var p=0;p<l.length;p++)!l[p].indexOf(" OR ")>=0&&s.push(l[p]);if(c.length>0)for(var p=0;p<c.length;p++)!c[p].indexOf(" AND ")>=0&&s.push(c[p]);for(var v=void 0,g=0;g<s.length;g++){var t=s[g];if(t&&t.indexOf&&t.indexOf("..")>=0){var m=t.toString().split("..");2==m.length&&(d=i>=m[0]&&i<=m[1])}else var d=o(i,t);var y=g<l.length?"and":"or";v=void 0==v?d:"or"==y?v||d:v&&d}return v}return r&&r.indexOf&&r.indexOf("..")>=0&&(s=r.toString().split(".."),2==s.length)?i>=s[0]&&i<=s[1]:o(i,r)}},h=function(t,r,a,i){if(this.filtervalue=t,this.type="datefilter",void 0!=a&&void 0!=i){var n=e.jqx.dataFormat.parsedate(t,a,i);if(null!=n)this.filterdate=n;else{var o=e.jqx.dataFormat.tryparsedate(t,i);null!=o&&(this.filterdate=o)}}else{var s=new Date(t);this.filterdate="NaN"==s.toString()||"Invalid Date"==s.toString()?e.jqx.dataFormat.tryparsedate(t):s}if(!this.filterdate){var s=new Date(t);this.filterdate="NaN"==s.toString()||"Invalid Date"==s.toString()?e.jqx.dataFormat.tryparsedate(t):s}this.comparisonoperator=r,this.evaluate=function(t){var r=this.filtervalue,n=this.comparisonoperator;if(null==t||void 0==t||""==t)return"NOT_NULL"==n?!1:"NULL"==n?!0:!1;if("NULL"==n)return!1;if("NOT_NULL"==n)return!0;var o=new Date;o.setFullYear(1900,0,1),o.setHours(12,0,0,0);try{var s=new Date(t);t="NaN"==s.toString()||"Invalid Date"==s.toString()?e.jqx.dataFormat.tryparsedate(t):s,o=t;var d=!1;if(void 0!=a&&void 0!=i&&(a.indexOf("t")>=0||a.indexOf("T")>=0||a.indexOf(":")>=0||a.indexOf("f")>=0)&&(d=!0,r&&-1==r.toString().indexOf(":"))){var l=e.jqx.dataFormat.tryparsedate(r.toString()+":00",i);null!=l&&(this.filterdate=l)}d||(o.setHours(0),o.setMinutes(0),o.setSeconds(0))}catch(c){if(""!=t.toString())return!1}if(null!=this.filterdate)r=this.filterdate;else if(r.indexOf&&(-1!=r.indexOf(":")||!isNaN(parseInt(r)))){var u=new Date(o);u.setHours(12,0,0,0);for(var h=r.split(":"),f=0;f<h.length;f++)0==f&&u.setHours(h[f]),1==f&&u.setMinutes(h[f]),2==f&&u.setSeconds(h[f]);r=u}d&&r&&r.setFullYear&&o&&o.getFullYear&&-1==a.indexOf("d")&&-1==a.indexOf("M")&&-1==a.indexOf("y")&&r.setFullYear(o.getFullYear(),o.getMonth(),o.getDate());var p=function(t,r){switch(null==t&&(t=""),n){case"EQUAL":return t.toString()==r.toString();case"NOT_EQUAL":return t.toString()!=r.toString();case"GREATER_THAN":return t>r;case"GREATER_THAN_OR_EQUAL":return t>=r;case"LESS_THAN":return r>t;case"LESS_THAN_OR_EQUAL":return r>=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),r.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),r.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),r.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),r.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),r.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),r.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),r.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),r.toString());default:return!0}},v=new Array;if(r&&r.indexOf&&(r.indexOf("|")>=0||r.indexOf(" AND ")>=0||r.indexOf(" OR ")>=0||r.indexOf(" and ")>=0||r.indexOf(" or ")>=0)){var l=p(o,r);if(l)return l;var g=r.indexOf(" AND ")>=0?r.split(" AND "):new Array,m=r.indexOf(" OR ")>=0?r.split(" OR "):new Array,y=r.indexOf(" and ")>=0?r.split(" and "):new Array,x=r.indexOf(" or ")>=0?r.split(" or "):new Array;g=g.concat(y),m=m.concat(x);var b=r.indexOf("|")>=0?r.split("|"):new Array;if(b.length>0)for(var f=0;f<b.length;f++)b[f]=e.trim(b[f]);if(m=m.concat(b),g.length>0)for(var f=0;f<g.length;f++)!g[f].indexOf(" OR ")>=0&&v.push(g[f]);if(m.length>0)for(var f=0;f<m.length;f++)!m[f].indexOf(" AND ")>=0&&v.push(m[f]);for(var S=void 0,A=0;A<v.length;A++){var t=v[A];if(t&&t.indexOf&&t.indexOf("..")>=0){var _=t.toString().split("..");2==_.length&&(l=o>=_[0]&&o<=_[1])}else var l=p(o,t);var w=A<g.length?"and":"or";S=void 0==S?l:"or"==w?S||l:S&&l}return S}return r&&r.indexOf&&r.indexOf("..")>=0&&(v=r.toString().split(".."),2==v.length)?o>=v[0]&&o<=v[1]:p(o,r)}},f=function(e,t,r){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e){return r(this.filtervalue,e,this.comparisonoperator)}}}}(jQuery);