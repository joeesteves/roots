!function(t){t.jqx.jqxWidget("jqxDropDownList","",{}),t.extend(t.jqx._jqxDropDownList.prototype,{defineInstance:function(){this.disabled=!1,this.width=null,this.height=null,this.items=new Array,this.selectedIndex=-1,this.source=null,this.scrollBarSize=15,this.arrowSize=19,this.enableHover=!0,this.enableSelection=!0,this.visualItems=new Array,this.groups=new Array,this.equalItemsWidth=!0,this.itemHeight=-1,this.visibleItems=new Array,this.emptyGroupText="Group",this.checkboxes=!1,void 0==this.openDelay&&(this.openDelay=250),void 0==this.closeDelay&&(this.closeDelay=300),this.animationType="default",this.autoOpen=!1,this.dropDownWidth="auto",this.dropDownHeight="200px",this.autoDropDownHeight=!1,this.keyboardSelection=!0,this.enableBrowserBoundsDetection=!1,this.dropDownHorizontalAlignment="left",this.displayMember="",this.valueMember="",this.searchMode="startswithignorecase",this.incrementalSearch=!0,this.incrementalSearchDelay=700,this.renderer=null,this.placeHolder="Please Choose:",this.promptText="Please Choose:",this.emptyString="",this.rtl=!1,this.selectionRenderer=null,this.listBox=null,this.popupZIndex=9999999999999,this.renderMode="default",this.touchMode="auto",this._checkForHiddenParent=!0,this.aria={"aria-disabled":{name:"disabled",type:"boolean"}},this.events=["open","close","select","unselect","change","checkChange","bindingComplete"]},createInstance:function(){this.render()},render:function(){this.width||(this.width=200),this.height||(this.height=25),this.element.innerHTML="",this.isanimating=!1,this.id=this.element.id||t.jqx.utilities.createId(),this.host.attr("role","combobox"),t.jqx.aria(this,"aria-autocomplete","both"),t.jqx.aria(this,"aria-readonly",!1);var e=t("<div tabIndex=0 style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropdownlistArrow' style='background-color: transparent; border: none; float: right; position: relative;'><div></div></div></div></div>");if(this._addInput(),null==t.jqx._jqxListBox||void 0==t.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");var i=this;this.touch=t.jqx.mobile.isTouchDevice(),this.comboStructure=e,this.host.append(e),this.dropdownlistWrapper=this.host.find("#dropdownlistWrapper"),this.dropdownlistArrow=this.host.find("#dropdownlistArrow"),this.arrow=t(this.dropdownlistArrow.children()[0]),this.dropdownlistContent=this.host.find("#dropdownlistContent"),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content")),this.dropdownlistWrapper.addClass(this.toThemeProperty("jqx-disableselect")),this.rtl&&(this.dropdownlistContent.addClass(this.toThemeProperty("jqx-rtl")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-rtl"))),this.addHandler(this.dropdownlistWrapper,"selectstart",function(){return!1}),this.dropdownlistWrapper[0].id="dropdownlistWrapper"+this.element.id,this.dropdownlistArrow[0].id="dropdownlistArrow"+this.element.id,this.dropdownlistContent[0].id="dropdownlistContent"+this.element.id,"Please Choose:"!=this.promptText&&(this.placeHolder=this.promptText);var s=this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-dropdownlist-state-normal")+" "+this.toThemeProperty("jqx-rc-all")+" "+this.toThemeProperty("jqx-fill-state-normal");this.element.className+=" "+s,this._firstDiv=this.host.find("div:first");try{var o="listBox"+this.id,n=t(t.find("#"+o));n.length>0&&n.remove(),t.jqx.aria(this,"aria-owns",o),t.jqx.aria(this,"aria-haspopup",!0);var r=t("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+this.id+"'><div id='innerListBox"+this.id+"'></div></div>");r.hide(),r.appendTo(document.body),this.container=r,this.listBoxContainer=t(t.find("#innerListBox"+this.id));var h=this.width;"auto"!=this.dropDownWidth&&(h=this.dropDownWidth),null==h&&(h=this.host.width(),0==h&&(h=this.dropDownWidth)),null==this.dropDownHeight&&(this.dropDownHeight=200);var i=this;this.container.width(parseInt(h)+25),this.container.height(parseInt(this.dropDownHeight)+25),this.addHandler(this.listBoxContainer,"bindingComplete",function(){i._raiseEvent("6")}),this.listBoxContainer.jqxListBox({_checkForHiddenParent:!1,touchMode:this.touchMode,checkboxes:this.checkboxes,rtl:this.rtl,emptyString:this.emptyString,itemHeight:this.itemHeight,width:h,searchMode:this.searchMode,incrementalSearch:this.incrementalSearch,incrementalSearchDelay:this.incrementalSearchDelay,displayMember:this.displayMember,valueMember:this.valueMember,height:this.dropDownHeight,autoHeight:this.autoDropDownHeight,scrollBarSize:this.scrollBarSize,selectedIndex:this.selectedIndex,source:this.source,theme:this.theme,rendered:function(){i.selectedIndex!=i.listBoxContainer.jqxListBox("selectedIndex")?(i.listBox=t.data(i.listBoxContainer[0],"jqxListBox").instance,i.listBoxContainer.jqxListBox({selectedIndex:i.selectedIndex}),i.renderSelection("mouse")):i.renderSelection("mouse")},renderer:this.renderer}),this.listBoxContainer.css({position:"absolute",zIndex:this.popupZIndex,top:0,left:0}),this.listBox=t.data(this.listBoxContainer[0],"jqxListBox").instance,this.listBox.enableSelection=this.enableSelection,this.listBox.enableHover=this.enableHover,this.listBox.equalItemsWidth=this.equalItemsWidth,this.listBox.selectIndex(this.selectedIndex),this.listBox._arrange(),this.listBoxContainer.addClass(this.toThemeProperty("jqx-popup")),t.jqx.browser.msie&&this.listBoxContainer.addClass(this.toThemeProperty("jqx-noshadow")),this.addHandler(this.listBoxContainer,"unselect",function(t){i._raiseEvent("3",{index:t.args.index,type:t.args.type,item:t.args.item})}),this.addHandler(this.listBoxContainer,"change",function(t){i._raiseEvent("4",{index:t.args.index,type:t.args.type,item:t.args.item})}),"none"==this.animationType?this.container.css("display","none"):this.container.hide()}catch(d){}var l=this;if(this.propertyChangeMap.disabled=function(e,i,s,o){o?(e.host.addClass(l.toThemeProperty("jqx-dropdownlist-state-disabled")),e.host.addClass(l.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.addClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))):(e.host.removeClass(l.toThemeProperty("jqx-dropdownlist-state-disabled")),e.host.removeClass(l.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.removeClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))),t.jqx.aria(e,"aria-disabled",e.disabled)},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-disabled"))),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this.arrow.addClass(this.toThemeProperty("jqx-icon")),"simple"===this.renderMode&&(this.arrow.remove(),this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.removeClass(this.toThemeProperty("jqx-rc-all"))),this._updateHandlers(),this._setSize(),this._arrange(),this.listBox&&this.renderSelection(),t.jqx.browser.msie&&t.jqx.browser.version<8&&this.host.parents(".jqx-window").length>0){var a=this.host.parents(".jqx-window").css("z-index");r.css("z-index",a+10),this.listBoxContainer.css("z-index",a+10)}},resize:function(t,e){this.width=t,this.height=e,this._setSize(),this._arrange()},val:function(t){if(!this.dropdownlistContent)return"";if(this.input&&0==arguments.length)return this.input.val();var e=this.getItemByValue(t);return null!=e&&this.selectItem(e),this.input?this.input.val():void 0},focus:function(){try{var t=this,e=function(){t.host.focus(),t._firstDiv&&t._firstDiv.focus()};e(),setTimeout(function(){e()},10)}catch(i){}},_addInput:function(){var e=this.host.attr("name");e||(e=this.element.id),this.input=t("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",e)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var e=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(e=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(e=!0,this.host.height(this.height));var i=this,s=function(){if(i._arrange(),"auto"==i.dropDownWidth){var t=i.host.width();i.listBoxContainer.jqxListBox({width:t}),i.container.width(parseInt(t)+25)}};if(e){var o=this.host.width();"auto"!=this.dropDownWidth&&(o=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:o}),this.container.width(parseInt(o)+25)}t.jqx.utilities.resize(this.host,function(){s()},!1,this._checkForHiddenParent)},isOpened:function(){var e=this,i=t.data(document.body,"openedJQXListBox"+this.id);return null!=i&&i==e.listBoxContainer?!0:!1},_updateHandlers:function(){var e=this,i=!1;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!e.disabled&&e.enableHover&&"simple"!==e.renderMode&&(i=!0,e.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-hover")),e.arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e.host.addClass(e.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!e.disabled&&e.enableHover&&"simple"!==e.renderMode&&(e.host.removeClass(e.toThemeProperty("jqx-dropdownlist-state-hover")),e.host.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e.arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),i=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(){var t=e.isOpened();t&&e.close()});var s="mousedown";this.touch&&(s=t.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,s,function(){if(!e.disabled){var t="block"==e.container.css("display");if(!e.isanimating){if(t)return e.hideListBox(),!1;e.showListBox()}}}),e.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var t=e.isOpened();!t&&e.autoOpen&&(e.open(),e.host.focus())}),t(document).on("mousemove."+e.id,function(t){var i=e.isOpened();if(i&&e.autoOpen){var s=e.host.coord(),o=s.top,n=s.left,r=e.container.coord(),h=r.left,d=r.top;canClose=!0,t.pageY>=o&&t.pageY<=o+e.host.height()&&t.pageX>=n&&t.pageX<n+e.host.width()&&(canClose=!1),t.pageY>=d&&t.pageY<=d+e.container.height()&&t.pageX>=h&&t.pageX<h+e.container.width()&&(canClose=!1),canClose&&e.close()}})),this.touch?this.addHandler(t(document),t.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,e.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(t(document),"mousedown."+this.id,e.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(t){var i="block"==e.container.css("display");if("none"==e.host.css("display"))return!0;if(("13"==t.keyCode||"9"==t.keyCode)&&!e.isanimating)return i&&(e.renderSelection(),"13"==t.keyCode&&e._firstDiv.focus(),e.hideListBox(),e.keyboardSelection||e._raiseEvent("2",{index:e.selectedIndex,type:"keyboard",item:e.getItem(e.selectedIndex)})),i&&"9"!=t.keyCode?!1:!0;if(115==t.keyCode)return e.isanimating||(e.isOpened()?e.isOpened()&&e.hideListBox():e.showListBox()),!1;if(t.altKey&&"block"==e.host.css("display"))if(38==t.keyCode){if(e.isOpened())return e.hideListBox(),!0}else if(40==t.keyCode&&!e.isOpened())return e.showListBox(),!0;return"27"!=t.keyCode||e.ishiding?e.disabled?void 0:e.listBox._handleKeyDown(t):(e.hideListBox(),void 0!=e.tempSelectedIndex&&e.selectIndex(e.tempSelectedIndex),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(t){e.renderSelection(),e._updateInputSelection(),e._raiseEvent(5,{label:t.args.label,value:t.args.value,checked:t.args.checked,item:t.args.item})}),this.addHandler(this.listBoxContainer,"select",function(t){e.disabled||("keyboard"!=t.args.type||e.isOpened()||e.renderSelection(),("keyboard"!=t.args.type||e.keyboardSelection)&&(e.renderSelection(),e._raiseEvent("2",{index:t.args.index,type:t.args.type,item:t.args.item,originalEvent:t.args.originalEvent}),"mouse"==t.args.type&&(e.checkboxes||(e.hideListBox(),e._firstDiv&&e._firstDiv.focus()))))}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(t){if(!e.disabled){if(e.listBox.itemswrapper&&t.target===e.listBox.itemswrapper[0])return!0;e.renderSelection("mouse"),e.touch||e.ishiding||e.checkboxes||(e.hideListBox(),e._firstDiv&&e._firstDiv.focus()),e.keyboardSelection||(void 0==e._oldSelectedInd&&(e._oldSelectedIndx=e.selectedIndex),e.selectedIndex!=e._oldSelectedIndx&&(e._raiseEvent("2",{index:e.selectedIndex,type:"keyboard",item:e.getItem(e.selectedIndex)}),e._oldSelectedIndx=e.selectedIndex))}}),this.addHandler(this.host,"focus",function(){"simple"!==e.renderMode&&(e.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-focus")),e.host.addClass(e.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==e.renderMode&&(e.host.removeClass(e.toThemeProperty("jqx-dropdownlist-state-focus")),e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(){"simple"!==e.renderMode&&(e.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-focus")),e.host.addClass(e.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==e.renderMode&&(e.host.removeClass(e.toThemeProperty("jqx-dropdownlist-state-focus")),e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var e=this,i="mousedown";this.touch&&(i=t.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,i),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(t(document),"mousemove."+e.id)},getItem:function(t){var e=this.listBox.getItem(t);return e},getItemByValue:function(t){var e=this.listBox.getItemByValue(t);return e},selectItem:function(t){void 0!=this.listBox&&(this.listBox.selectItem(t),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(t){void 0!=this.listBox&&(this.listBox.unselectItem(t),this.renderSelection("mouse"))},checkItem:function(t){void 0!=this.listBox&&this.listBox.checkItem(t)},uncheckItem:function(t){void 0!=this.listBox&&this.listBox.uncheckItem(t)},indeteterminateItem:function(t){void 0!=this.listBox&&this.listBox.indeteterminateItem(t)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var e=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.checkboxes){var i=this.getCheckedItems();e=null!=i&&i.length>0?i[0]:null}if(null==e){var s=t('<span style="color: inherit; border: none; background-color: transparent;"></span>');s.appendTo(t(document.body)),s.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-listitem-state-normal")),s.addClass(this.toThemeProperty("jqx-item")),t.jqx.utilities.html(s,this.placeHolder);var o=this.dropdownlistContent.css("padding-top"),n=this.dropdownlistContent.css("padding-bottom");s.css("padding-top",o),s.css("padding-bottom",n);var r=s.outerHeight();s.remove(),s.removeClass(),t.jqx.utilities.html(this.dropdownlistContent,s);var h=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height));var d=parseInt((parseInt(h)-parseInt(r))/2);return d>0&&(this.dropdownlistContent.css("margin-top",d+"px"),this.dropdownlistContent.css("margin-bottom",d+"px")),this.selectionRenderer&&(t.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer()),this._updateInputSelection()),this.selectedIndex=this.listBox.selectedIndex,void("auto"===this.width&&this._arrange())}this.selectedIndex=this.listBox.selectedIndex;var s=t('<span style="color: inherit; border: none; background-color: transparent;"></span>');s.appendTo(t(document.body)),s.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-listitem-state-normal")),s.addClass(this.toThemeProperty("jqx-item"));var l=!1;try{void 0!=e.html&&null!=e.html&&e.html.toString().length>0?t.jqx.utilities.html(s,e.html):void 0!=e.label&&null!=e.label&&e.label.toString().length>0?t.jqx.utilities.html(s,e.label):null===e.label||""===e.label?(l=!0,t.jqx.utilities.html(s,"")):void 0!=e.value&&null!=e.value&&e.value.toString().length>0?t.jqx.utilities.html(s,e.value):void 0!=e.title&&null!=e.title&&e.title.toString().length>0?t.jqx.utilities.html(s,e.title):(""==e.label||null==e.label)&&(l=!0,t.jqx.utilities.html(s,""))}catch(a){}var o=this.dropdownlistContent.css("padding-top"),n=this.dropdownlistContent.css("padding-bottom");s.css("padding-top",o),s.css("padding-bottom",n);var r=s.outerHeight();0===r&&(r=16),""!=e.label&&null!=e.label||!l||t.jqx.utilities.html(s,"");var c=this.width&&this.width.toString().indexOf("%")<=0;if(s.remove(),s.removeClass(),this.selectionRenderer)t.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(s,e.index,e.label,e.value));else if(this.checkboxes){for(var p=this.getCheckedItems(),x="",u=0;u<p.length;u++)x+=u==p.length-1?p[u].label:p[u].label+",";s.text(x),c&&s.css("max-width",this.host.width()-30),s.css("overflow","hidden"),s.css("display","block"),this.rtl||c&&s.css("width",this.host.width()-30),s.css("text-overflow","ellipsis"),s.css("padding-bottom",1+parseInt(n)),this.dropdownlistContent.html(s)}else this.width&&"auto"!==this.width&&(c&&(this.rtl||s.css("max-width",this.host.width()-10)),s.css("overflow","hidden"),s.css("display","block"),s.css("padding-bottom",1+parseInt(n)),this.rtl||c&&s.css("width",this.host.width()-10),s.css("text-overflow","ellipsis")),this.dropdownlistContent.html(s);var h=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height));var d=parseInt((parseInt(h)-parseInt(r))/2);d>0&&(this.dropdownlistContent.css("margin-top",d+"px"),this.dropdownlistContent.css("margin-bottom",d+"px")),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&t.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){if(-1==this.selectedIndex)this.input.val("");else{var t=this.getSelectedItem();this.input.val(null!=t?t.value:this.dropdownlistContent.text())}if(this.checkboxes){var e=this.getCheckedItems(),i="";if(null!=e)for(var s=0;s<e.length;s++){var o=e[s].value;void 0!=o&&(i+=s==e.length-1?o:o+",")}this.input.val(i)}}},setContent:function(e){t.jqx.utilities.html(this.dropdownlistContent,e),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),t.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(t,e){isNaN(t)||(this.listBox.unselectIndex(t,e),this.renderSelection())},selectIndex:function(t,e,i,s){this.listBox.selectIndex(t,e,i,s,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.getItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(t){this.listBox.checkIndex(t)},uncheckIndex:function(t){this.listBox.uncheckIndex(t)},indeterminateIndex:function(t){this.listBox.indeterminateIndex(t)},checkAll:function(){this.listBox.checkAll()},uncheckAll:function(){this.listBox.uncheckAll()},addItem:function(t){return this.listBox.addItem(t)},insertAt:function(t,e){return null==t?!1:this.listBox.insertAt(t,e)},removeAt:function(t){var e=this.listBox.removeAt(t);return this.renderSelection("mouse"),e},removeItem:function(t){var e=this.listBox.removeItem(t);return this.renderSelection("mouse"),e},updateItem:function(t,e){var i=this.listBox.updateItem(t,e);return this.renderSelection("mouse"),i},updateAt:function(t,e){var i=this.listBox.updateAt(t,e);return this.renderSelection("mouse"),i},ensureVisible:function(t){return this.listBox.ensureVisible(t)},disableAt:function(t){return this.listBox.disableAt(t)},enableAt:function(t){return this.listBox.enableAt(t)},disableItem:function(t){return this.listBox.disableItem(t)},enableItem:function(t){return this.listBox.enableItem(t)},_findPos:function(e){for(;e&&("hidden"==e.type||1!=e.nodeType||t.expr.filters.hidden(e));)e=e.nextSibling;var i=t(e).coord(!0);return[i.left,i.top]},testOffset:function(e,i,s){var o=e.outerWidth(),n=e.outerHeight(),r=t(window).width()+t(window).scrollLeft(),h=t(window).height()+t(window).scrollTop();if(i.left+o>r&&o>this.host.width()){var d=this.host.coord().left,l=o-this.host.width();i.left=d-l+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>h&&h>n?Math.abs(n+s+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var e=0,i=0;return"0px"!=t("body").css("border-top-width")&&(e=parseInt(t("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=t("body").css("border-left-width")&&(i=parseInt(t("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:e}},showListBox:function(){if(t.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var e=this.host.width();this.listBoxContainer.jqxListBox({width:e}),this.container.width(parseInt(e)+25)}var i,s=this,o=this.listBoxContainer,n=this.listBox,r=(t(window).scrollTop(),t(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),h=parseInt(Math.round(this.host.coord(!0).left));i=h+"px";var d=t.jqx.mobile.isSafariMobileBrowser()||t.jqx.mobile.isWindowsPhone();if(null!=this.listBox){var l=t.jqx.utilities.hasTransform(this.host);this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),(l||null!=d&&d)&&(i=t.jqx.mobile.getLeftPos(this.element),r=t.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=t("body").css("border-top-width")&&(r=parseInt(r)-this._getBodyOffset().top+"px"),"0px"!=t("body").css("border-left-width")&&(i=parseInt(i)-this._getBodyOffset().left+"px")),o.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",r),n._arrange();var a=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var c=this.container.outerWidth(),p=Math.abs(c-this.host.width());c>this.host.width()?this.container.css("left",25+parseInt(Math.round(h))-p+"px"):this.container.css("left",25+parseInt(Math.round(h))+p+"px")}if(this.enableBrowserBoundsDetection){var x=this.testOffset(o,{left:parseInt(this.container.css("left")),top:parseInt(r)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=x.top?(a=!0,o.css("top",23),o.addClass(this.toThemeProperty("jqx-popup-up"))):o.css("top",0),this.container.css("top",x.top),parseInt(this.container.css("left"))!=x.left&&this.container.css("left",x.left)}if("none"==this.animationType)this.container.css("display","block"),t.data(document.body,"openedJQXListBoxParent",s),t.data(document.body,"openedJQXListBox"+this.id,o),o.css("margin-top",0),o.css("opacity",1);else if(this.container.css("display","block"),s.isanimating=!0,"fade"==this.animationType)o.css("margin-top",0),o.css("opacity",0),o.animate({opacity:1},this.openDelay,function(){t.data(document.body,"openedJQXListBoxParent",s),t.data(document.body,"openedJQXListBox"+s.id,o),s.ishiding=!1,s.isanimating=!1});else{o.css("opacity",1);var u=o.outerHeight();a?o.css("margin-top",u):o.css("margin-top",-u),o.animate({"margin-top":0},this.openDelay,function(){t.data(document.body,"openedJQXListBoxParent",s),t.data(document.body,"openedJQXListBox"+s.id,o),s.ishiding=!1,s.isanimating=!1})}a?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),o.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),o.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(o.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))),n._renderItems(),this._raiseEvent("0",n)}},hideListBox:function(){t.jqx.aria(this,"aria-expanded",!1);var e=this.listBoxContainer,i=this.listBox,s=this.container,o=this;if(t.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!o.ishiding){e.stop();var n=e.outerHeight();e.css("margin-top",0),o.isanimating=!0;var r=-n;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(r=n),"fade"==this.animationType?(e.css({opacity:1}),e.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),o.isanimating=!1,o.ishiding=!1})):e.animate({"margin-top":r},this.closeDelay,function(){s.css("display","none"),o.isanimating=!1,o.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),e.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),e.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),e.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(e){var i=e.data.me,s=t(e.target),o=e.data.listbox;if(null==o)return!0;if(t(e.target).ischildof(e.data.me.host))return!0;if(!i.isOpened())return!0;var n=!1;return t.each(s.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(n=!0),!1}}),null!=o&&!n&&i.isOpened()&&i.hideListBox(),!0},loadFromSelect:function(t){this.listBox.loadFromSelect(t)},refresh:function(t){t!==!0&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var t=parseInt(this.host.width()),e=parseInt(this.host.height()),i=(this.arrowSize,this.arrowSize),s=3,o=t-i-2*s;o>0&&"auto"!==this.width&&this.dropdownlistContent.width(o+"px"),"auto"===this.width&&(this.dropdownlistContent.css("width","auto"),t=this.dropdownlistContent.width()+i+2*s,this.host.width(t)),this.dropdownlistContent.height(e),this.dropdownlistContent.css("left",0),this.dropdownlistContent.css("top",0),this.dropdownlistArrow.width(i),this.dropdownlistArrow.height(e),this.rtl&&(this.dropdownlistArrow.css("float","left"),this.dropdownlistContent.css("float","right"))},destroy:function(){t.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(t(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(t(document),t.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var e=t.data(this.element,"jqxDropDownList");e&&delete e.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(t,e){void 0==e&&(e={owner:null});var i=this.events[t];args=e,args.owner=this;var s=new jQuery.Event(i);s.owner=this,(2==t||3==t||4==t||5==t)&&(s.args=e);var o=this.host.trigger(s);return o},propertyChangedHandler:function(e,i,s,o){if(void 0!=e.isInitialized&&0!=e.isInitialized){if("enableSelection"==i&&e.listBoxContainer.jqxListBox({enableSelection:o}),"enableHover"==i&&e.listBoxContainer.jqxListBox({enableHover:o}),"autoOpen"==i&&e._updateHandlers(),"emptyString"==i&&(e.listBox.emptyString=e.emptyString),"itemHeight"==i&&e.listBoxContainer.jqxListBox({itemHeight:o}),"renderer"==i&&e.listBoxContainer.jqxListBox({renderer:o}),"rtl"==i&&(o?(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right")):(e.dropdownlistArrow.css("float","right"),e.dropdownlistContent.css("float","left")),e.listBoxContainer.jqxListBox({rtl:e.rtl})),"source"==i&&(e.listBoxContainer.jqxListBox({source:e.source}),e.listBox.selectedIndex=-1,e.listBox.selectIndex(this.selectedIndex),e.renderSelection(),null==o&&e.clear()),("displayMember"==i||"valueMember"==i)&&(e.listBoxContainer.jqxListBox({displayMember:e.displayMember,valueMember:e.valueMember}),e.renderSelection()),"placeHolder"==i&&e.renderSelection(),"theme"==i&&null!=o&&(e.listBoxContainer.jqxListBox({theme:o}),e.listBoxContainer.addClass(e.toThemeProperty("jqx-popup")),t.jqx.browser.msie&&e.listBoxContainer.addClass(e.toThemeProperty("jqx-noshadow")),e.dropdownlistContent.removeClass(),e.dropdownlistContent.addClass(e.toThemeProperty("jqx-dropdownlist-content")),e.dropdownlistWrapper.removeClass(),e.dropdownlistWrapper.addClass(e.toThemeProperty("jqx-disableselect")),e.host.removeClass(),e.host.addClass(e.toThemeProperty("jqx-fill-state-normal")),e.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-normal")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.host.addClass(e.toThemeProperty("jqx-widget")),e.arrow.removeClass(),e.arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down")),e.arrow.addClass(e.toThemeProperty("jqx-icon"))),"autoDropDownHeight"==i&&(e.listBoxContainer.jqxListBox({autoHeight:e.autoDropDownHeight}),e.autoDropDownHeight?e.container.height(e.listBoxContainer.height()+25):(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25)),e.listBox._arrange(),e.listBox._updatescrollbars()),"searchMode"==i&&e.listBoxContainer.jqxListBox({searchMode:e.searchMode}),"incrementalSearch"==i&&e.listBoxContainer.jqxListBox({incrementalSearch:e.incrementalSearch}),"incrementalSearchDelay"==i&&e.listBoxContainer.jqxListBox({incrementalSearchDelay:e.incrementalSearchDelay}),"dropDownHeight"==i&&(e.autoDropDownHeight||(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var n=e.width;
"auto"!=e.dropDownWidth&&(n=e.dropDownWidth),e.listBoxContainer.jqxListBox({width:n,scrollBarSize:e.scrollBarSize}),e.container.width(parseInt(n)+25)}if(("width"==i||"height"==i)&&o!=s&&(this.refresh(),"width"==i&&"auto"==e.dropDownWidth)){var n=e.host.width();e.listBoxContainer.jqxListBox({width:n}),e.container.width(parseInt(n)+25)}"checkboxes"==i&&e.listBoxContainer.jqxListBox({checkboxes:e.checkboxes}),"selectedIndex"==i&&null!=e.listBox&&(e.listBox.selectIndex(parseInt(o)),e.renderSelection())}}})}(jQuery);