!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=nt.type(e);return"function"===i||nt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function s(e,t,i){if(nt.isFunction(t))return nt.grep(e,function(e,s){return!!t.call(e,s,e)!==i});if(t.nodeType)return nt.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(pt.test(t))return nt.filter(t,e,i);t=nt.filter(t,e)}return nt.grep(e,function(e){return nt.inArray(e,t)>=0!==i})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function n(e){var t=yt[e]={};return nt.each(e.match(wt)||[],function(e,i){t[i]=!0}),t}function a(){mt.addEventListener?(mt.removeEventListener("DOMContentLoaded",o,!1),e.removeEventListener("load",o,!1)):(mt.detachEvent("onreadystatechange",o),e.detachEvent("onload",o))}function o(){(mt.addEventListener||"load"===event.type||"complete"===mt.readyState)&&(a(),nt.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var s="data-"+t.replace(It,"-$1").toLowerCase();if(i=e.getAttribute(s),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:kt.test(i)?nt.parseJSON(i):i}catch(r){}nt.data(e,t,i)}else i=void 0}return i}function d(e){var t;for(t in e)if(("data"!==t||!nt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function h(e,t,i,s){if(nt.acceptData(e)){var r,n,a=nt.expando,o=e.nodeType,l=o?nt.cache:e,d=o?e[a]:e[a]&&a;if(d&&l[d]&&(s||l[d].data)||void 0!==i||"string"!=typeof t)return d||(d=o?e[a]=K.pop()||nt.guid++:a),l[d]||(l[d]=o?{}:{toJSON:nt.noop}),("object"==typeof t||"function"==typeof t)&&(s?l[d]=nt.extend(l[d],t):l[d].data=nt.extend(l[d].data,t)),n=l[d],s||(n.data||(n.data={}),n=n.data),void 0!==i&&(n[nt.camelCase(t)]=i),"string"==typeof t?(r=n[t],null==r&&(r=n[nt.camelCase(t)])):r=n,r}}function c(e,t,i){if(nt.acceptData(e)){var s,r,n=e.nodeType,a=n?nt.cache:e,o=n?e[nt.expando]:nt.expando;if(a[o]){if(t&&(s=i?a[o]:a[o].data)){nt.isArray(t)?t=t.concat(nt.map(t,nt.camelCase)):t in s?t=[t]:(t=nt.camelCase(t),t=t in s?[t]:t.split(" ")),r=t.length;for(;r--;)delete s[t[r]];if(i?!d(s):!nt.isEmptyObject(s))return}(i||(delete a[o].data,d(a[o])))&&(n?nt.cleanData([e],!0):st.deleteExpando||a!=a.window?delete a[o]:a[o]=null)}}}function u(){return!0}function p(){return!1}function f(){try{return mt.activeElement}catch(e){}}function m(e){var t=Mt.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function g(e,t){var i,s,r=0,n=typeof e.getElementsByTagName!==qt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==qt?e.querySelectorAll(t||"*"):void 0;if(!n)for(n=[],i=e.childNodes||e;null!=(s=i[r]);r++)!t||nt.nodeName(s,t)?n.push(s):nt.merge(n,g(s,t));return void 0===t||t&&nt.nodeName(e,t)?nt.merge([e],n):n}function v(e){Pt.test(e.type)&&(e.defaultChecked=e.checked)}function b(e,t){return nt.nodeName(e,"table")&&nt.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function x(e){return e.type=(null!==nt.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Kt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function y(e,t){for(var i,s=0;null!=(i=e[s]);s++)nt._data(i,"globalEval",!t||nt._data(t[s],"globalEval"))}function _(e,t){if(1===t.nodeType&&nt.hasData(e)){var i,s,r,n=nt._data(e),a=nt._data(t,n),o=n.events;if(o){delete a.handle,a.events={};for(i in o)for(s=0,r=o[i].length;r>s;s++)nt.event.add(t,i,o[i][s])}a.data&&(a.data=nt.extend({},a.data))}}function j(e,t){var i,s,r;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!st.noCloneEvent&&t[nt.expando]){r=nt._data(t);for(s in r.events)nt.removeEvent(t,s,r.handle);t.removeAttribute(nt.expando)}"script"===i&&t.text!==e.text?(x(t).text=e.text,w(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),st.html5Clone&&e.innerHTML&&!nt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Pt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function q(t,i){var s=nt(i.createElement(t)).appendTo(i.body),r=e.getDefaultComputedStyle?e.getDefaultComputedStyle(s[0]).display:nt.css(s[0],"display");return s.detach(),r}function k(e){var t=mt,i=ei[e];return i||(i=q(e,t),"none"!==i&&i||(Jt=(Jt||nt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Jt[0].contentWindow||Jt[0].contentDocument).document,t.write(),t.close(),i=q(e,t),Jt.detach()),ei[e]=i),i}function I(e,t){return{get:function(){var i=e();if(null!=i)return i?void delete this.get:(this.get=t).apply(this,arguments)}}}function T(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),s=t,r=pi.length;r--;)if(t=pi[r]+i,t in e)return t;return s}function C(e,t){for(var i,s,r,n=[],a=0,o=e.length;o>a;a++)s=e[a],s.style&&(n[a]=nt._data(s,"olddisplay"),i=s.style.display,t?(n[a]||"none"!==i||(s.style.display=""),""===s.style.display&&St(s)&&(n[a]=nt._data(s,"olddisplay",k(s.nodeName)))):n[a]||(r=St(s),(i&&"none"!==i||!r)&&nt._data(s,"olddisplay",r?i:nt.css(s,"display"))));for(a=0;o>a;a++)s=e[a],s.style&&(t&&"none"!==s.style.display&&""!==s.style.display||(s.style.display=t?n[a]||"":"none"));return e}function S(e,t,i){var s=di.exec(t);return s?Math.max(0,s[1]-(i||0))+(s[2]||"px"):t}function D(e,t,i,s,r){for(var n=i===(s?"border":"content")?4:"width"===t?1:0,a=0;4>n;n+=2)"margin"===i&&(a+=nt.css(e,i+Ct[n],!0,r)),s?("content"===i&&(a-=nt.css(e,"padding"+Ct[n],!0,r)),"margin"!==i&&(a-=nt.css(e,"border"+Ct[n]+"Width",!0,r))):(a+=nt.css(e,"padding"+Ct[n],!0,r),"padding"!==i&&(a+=nt.css(e,"border"+Ct[n]+"Width",!0,r)));return a}function P(e,t,i){var s=!0,r="width"===t?e.offsetWidth:e.offsetHeight,n=ti(e),a=st.boxSizing()&&"border-box"===nt.css(e,"boxSizing",!1,n);if(0>=r||null==r){if(r=ii(e,t,n),(0>r||null==r)&&(r=e.style[t]),ri.test(r))return r;s=a&&(st.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+D(e,t,i||(a?"border":"content"),s,n)+"px"}function E(e,t,i,s,r){return new E.prototype.init(e,t,i,s,r)}function H(){return setTimeout(function(){fi=void 0}),fi=nt.now()}function B(e,t){var i,s={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)i=Ct[r],s["margin"+i]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}function A(e,t,i){for(var s,r=(wi[t]||[]).concat(wi["*"]),n=0,a=r.length;a>n;n++)if(s=r[n].call(i,t,e))return s}function z(e,t,i){var s,r,n,a,o,l,d,h,c=this,u={},p=e.style,f=e.nodeType&&St(e),m=nt._data(e,"fxshow");i.queue||(o=nt._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,c.always(function(){c.always(function(){o.unqueued--,nt.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],d=nt.css(e,"display"),h=k(e.nodeName),"none"===d&&(d=h),"inline"===d&&"none"===nt.css(e,"float")&&(st.inlineBlockNeedsLayout&&"inline"!==h?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",st.shrinkWrapBlocks()||c.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(s in t)if(r=t[s],gi.exec(r)){if(delete t[s],n=n||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[s])continue;f=!0}u[s]=m&&m[s]||nt.style(e,s)}if(!nt.isEmptyObject(u)){m?"hidden"in m&&(f=m.hidden):m=nt._data(e,"fxshow",{}),n&&(m.hidden=!f),f?nt(e).show():c.done(function(){nt(e).hide()}),c.done(function(){var t;nt._removeData(e,"fxshow");for(t in u)nt.style(e,t,u[t])});for(s in u)a=A(f?m[s]:0,s,c),s in m||(m[s]=a.start,f&&(a.end=a.start,a.start="width"===s||"height"===s?1:0))}}function M(e,t){var i,s,r,n,a;for(i in e)if(s=nt.camelCase(i),r=t[s],n=e[i],nt.isArray(n)&&(r=n[1],n=e[i]=n[0]),i!==s&&(e[s]=n,delete e[i]),a=nt.cssHooks[s],a&&"expand"in a){n=a.expand(n),delete e[s];for(i in n)i in e||(e[i]=n[i],t[i]=r)}else t[s]=r}function L(e,t,i){var s,r,n=0,a=xi.length,o=nt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=fi||H(),i=Math.max(0,d.startTime+d.duration-t),s=i/d.duration||0,n=1-s,a=0,l=d.tweens.length;l>a;a++)d.tweens[a].run(n);return o.notifyWith(e,[d,n,i]),1>n&&l?i:(o.resolveWith(e,[d]),!1)},d=o.promise({elem:e,props:nt.extend({},t),opts:nt.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:fi||H(),duration:i.duration,tweens:[],createTween:function(t,i){var s=nt.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(s),s},stop:function(t){var i=0,s=t?d.tweens.length:0;if(r)return this;for(r=!0;s>i;i++)d.tweens[i].run(1);return t?o.resolveWith(e,[d,t]):o.rejectWith(e,[d,t]),this}}),h=d.props;for(M(h,d.opts.specialEasing);a>n;n++)if(s=xi[n].call(d,e,h,d.opts))return s;return nt.map(h,A,d),nt.isFunction(d.opts.start)&&d.opts.start.call(e,d),nt.fx.timer(nt.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function O(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var s,r=0,n=t.toLowerCase().match(wt)||[];if(nt.isFunction(i))for(;s=n[r++];)"+"===s.charAt(0)?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(i)):(e[s]=e[s]||[]).push(i)}}function N(e,t,i,s){function r(o){var l;return n[o]=!0,nt.each(e[o]||[],function(e,o){var d=o(t,i,s);return"string"!=typeof d||a||n[d]?a?!(l=d):void 0:(t.dataTypes.unshift(d),r(d),!1)}),l}var n={},a=e===$i;return r(t.dataTypes[0])||!n["*"]&&r("*")}function F(e,t){var i,s,r=nt.ajaxSettings.flatOptions||{};for(s in t)void 0!==t[s]&&((r[s]?e:i||(i={}))[s]=t[s]);return i&&nt.extend(!0,e,i),e}function W(e,t,i){for(var s,r,n,a,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in o)if(o[a]&&o[a].test(r)){l.unshift(a);break}if(l[0]in i)n=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){n=a;break}s||(s=a)}n=n||s}return n?(n!==l[0]&&l.unshift(n),i[n]):void 0}function R(e,t,i,s){var r,n,a,o,l,d={},h=e.dataTypes.slice();if(h[1])for(a in e.converters)d[a.toLowerCase()]=e.converters[a];for(n=h.shift();n;)if(e.responseFields[n]&&(i[e.responseFields[n]]=t),!l&&s&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=n,n=h.shift())if("*"===n)n=l;else if("*"!==l&&l!==n){if(a=d[l+" "+n]||d["* "+n],!a)for(r in d)if(o=r.split(" "),o[1]===n&&(a=d[l+" "+o[0]]||d["* "+o[0]])){a===!0?a=d[r]:d[r]!==!0&&(n=o[0],h.unshift(o[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(c){return{state:"parsererror",error:a?c:"No conversion from "+l+" to "+n}}}return{state:"success",data:t}}function $(e,t,i,s){var r;if(nt.isArray(t))nt.each(t,function(t,r){i||Ki.test(e)?s(e,r):$(e+"["+("object"==typeof r?t:"")+"]",r,i,s)});else if(i||"object"!==nt.type(t))s(e,t);else for(r in t)$(e+"["+r+"]",t[r],i,s)}function U(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function G(e){return nt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var K=[],X=K.slice,Y=K.concat,Q=K.push,Z=K.indexOf,J={},et=J.toString,tt=J.hasOwnProperty,it="".trim,st={},rt="1.11.0",nt=function(e,t){return new nt.fn.init(e,t)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,lt=/-([\da-z])/gi,dt=function(e,t){return t.toUpperCase()};nt.fn=nt.prototype={jquery:rt,constructor:nt,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=nt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return nt.each(this,e,t)},map:function(e){return this.pushStack(nt.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:K.sort,splice:K.splice},nt.extend=nt.fn.extend=function(){var e,t,i,s,r,n,a=arguments[0]||{},o=1,l=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[o]||{},o++),"object"==typeof a||nt.isFunction(a)||(a={}),o===l&&(a=this,o--);l>o;o++)if(null!=(r=arguments[o]))for(s in r)e=a[s],i=r[s],a!==i&&(d&&i&&(nt.isPlainObject(i)||(t=nt.isArray(i)))?(t?(t=!1,n=e&&nt.isArray(e)?e:[]):n=e&&nt.isPlainObject(e)?e:{},a[s]=nt.extend(d,n,i)):void 0!==i&&(a[s]=i));return a},nt.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===nt.type(e)},isArray:Array.isArray||function(e){return"array"===nt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==nt.type(e)||e.nodeType||nt.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(st.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[et.call(e)]||"object":typeof e},globalEval:function(t){t&&nt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ot,"ms-").replace(lt,dt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,s){var r,n=0,a=e.length,o=i(e);if(s){if(o)for(;a>n&&(r=t.apply(e[n],s),r!==!1);n++);else for(n in e)if(r=t.apply(e[n],s),r===!1)break}else if(o)for(;a>n&&(r=t.call(e[n],n,e[n]),r!==!1);n++);else for(n in e)if(r=t.call(e[n],n,e[n]),r===!1)break;return e},trim:it&&!it.call("\ufeff\xa0")?function(e){return null==e?"":it.call(e)}:function(e){return null==e?"":(e+"").replace(at,"")},makeArray:function(e,t){var s=t||[];return null!=e&&(i(Object(e))?nt.merge(s,"string"==typeof e?[e]:e):Q.call(s,e)),s},inArray:function(e,t,i){var s;if(t){if(Z)return Z.call(t,e,i);for(s=t.length,i=i?0>i?Math.max(0,s+i):i:0;s>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,s=0,r=e.length;i>s;)e[r++]=t[s++];if(i!==i)for(;void 0!==t[s];)e[r++]=t[s++];return e.length=r,e},grep:function(e,t,i){for(var s,r=[],n=0,a=e.length,o=!i;a>n;n++)s=!t(e[n],n),s!==o&&r.push(e[n]);return r},map:function(e,t,s){var r,n=0,a=e.length,o=i(e),l=[];if(o)for(;a>n;n++)r=t(e[n],n,s),null!=r&&l.push(r);else for(n in e)r=t(e[n],n,s),null!=r&&l.push(r);return Y.apply([],l)},guid:1,proxy:function(e,t){var i,s,r;return"string"==typeof t&&(r=e[t],t=e,e=r),nt.isFunction(e)?(i=X.call(arguments,2),s=function(){return e.apply(t||this,i.concat(X.call(arguments)))},s.guid=e.guid=e.guid||nt.guid++,s):void 0},now:function(){return+new Date},support:st}),nt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ht=function(e){function t(e,t,i,s){var r,n,a,o,l,d,c,f,m,g;if((t?t.ownerDocument||t:N)!==E&&P(t),t=t||E,i=i||[],!e||"string"!=typeof e)return i;if(1!==(o=t.nodeType)&&9!==o)return[];if(B&&!s){if(r=bt.exec(e))if(a=r[1]){if(9===o){if(n=t.getElementById(a),!n||!n.parentNode)return i;if(n.id===a)return i.push(n),i}else if(t.ownerDocument&&(n=t.ownerDocument.getElementById(a))&&L(t,n)&&n.id===a)return i.push(n),i}else{if(r[2])return J.apply(i,t.getElementsByTagName(e)),i;if((a=r[3])&&j.getElementsByClassName&&t.getElementsByClassName)return J.apply(i,t.getElementsByClassName(a)),i}if(j.qsa&&(!A||!A.test(e))){if(f=c=O,m=t,g=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(d=u(e),(c=t.getAttribute("id"))?f=c.replace(wt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=d.length;l--;)d[l]=f+p(d[l]);m=xt.test(e)&&h(t.parentNode)||t,g=d.join(",")}if(g)try{return J.apply(i,m.querySelectorAll(g)),i}catch(v){}finally{c||t.removeAttribute("id")}}}return y(e.replace(lt,"$1"),t,i,s)}function i(){function e(i,s){return t.push(i+" ")>q.cacheLength&&delete e[t.shift()],e[i+" "]=s}var t=[];return e}function s(e){return e[O]=!0,e}function r(e){var t=E.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function n(e,t){for(var i=e.split("|"),s=e.length;s--;)q.attrHandle[i[s]]=t}function a(e,t){var i=t&&e,s=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(s)return s;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function o(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function d(e){return s(function(t){return t=+t,s(function(i,s){for(var r,n=e([],i.length,t),a=n.length;a--;)i[r=n[a]]&&(i[r]=!(s[r]=i[r]))})})}function h(e){return e&&typeof e.getElementsByTagName!==G&&e}function c(){}function u(e,i){var s,r,n,a,o,l,d,h=$[e+" "];if(h)return i?0:h.slice(0);for(o=e,l=[],d=q.preFilter;o;){(!s||(r=dt.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),l.push(n=[])),s=!1,(r=ht.exec(o))&&(s=r.shift(),n.push({value:s,type:r[0].replace(lt," ")}),o=o.slice(s.length));for(a in q.filter)!(r=ft[a].exec(o))||d[a]&&!(r=d[a](r))||(s=r.shift(),n.push({value:s,type:a,matches:r}),o=o.slice(s.length));if(!s)break}return i?o.length:o?t.error(e):$(e,l).slice(0)}function p(e){for(var t=0,i=e.length,s="";i>t;t++)s+=e[t].value;return s}function f(e,t,i){var s=t.dir,r=i&&"parentNode"===s,n=W++;return t.first?function(t,i,n){for(;t=t[s];)if(1===t.nodeType||r)return e(t,i,n)}:function(t,i,a){var o,l,d=[F,n];if(a){for(;t=t[s];)if((1===t.nodeType||r)&&e(t,i,a))return!0}else for(;t=t[s];)if(1===t.nodeType||r){if(l=t[O]||(t[O]={}),(o=l[s])&&o[0]===F&&o[1]===n)return d[2]=o[2];if(l[s]=d,d[2]=e(t,i,a))return!0}}}function m(e){return e.length>1?function(t,i,s){for(var r=e.length;r--;)if(!e[r](t,i,s))return!1;return!0}:e[0]}function g(e,t,i,s,r){for(var n,a=[],o=0,l=e.length,d=null!=t;l>o;o++)(n=e[o])&&(!i||i(n,s,r))&&(a.push(n),d&&t.push(o));return a}function v(e,t,i,r,n,a){return r&&!r[O]&&(r=v(r)),n&&!n[O]&&(n=v(n,a)),s(function(s,a,o,l){var d,h,c,u=[],p=[],f=a.length,m=s||w(t||"*",o.nodeType?[o]:o,[]),v=!e||!s&&t?m:g(m,u,e,o,l),b=i?n||(s?e:f||r)?[]:a:v;if(i&&i(v,b,o,l),r)for(d=g(b,p),r(d,[],o,l),h=d.length;h--;)(c=d[h])&&(b[p[h]]=!(v[p[h]]=c));if(s){if(n||e){if(n){for(d=[],h=b.length;h--;)(c=b[h])&&d.push(v[h]=c);n(null,b=[],d,l)}for(h=b.length;h--;)(c=b[h])&&(d=n?tt.call(s,c):u[h])>-1&&(s[d]=!(a[d]=c))}}else b=g(b===a?b.splice(f,b.length):b),n?n(null,a,b,l):J.apply(a,b)})}function b(e){for(var t,i,s,r=e.length,n=q.relative[e[0].type],a=n||q.relative[" "],o=n?1:0,l=f(function(e){return e===t},a,!0),d=f(function(e){return tt.call(t,e)>-1},a,!0),h=[function(e,i,s){return!n&&(s||i!==C)||((t=i).nodeType?l(e,i,s):d(e,i,s))}];r>o;o++)if(i=q.relative[e[o].type])h=[f(m(h),i)];else{if(i=q.filter[e[o].type].apply(null,e[o].matches),i[O]){for(s=++o;r>s&&!q.relative[e[s].type];s++);return v(o>1&&m(h),o>1&&p(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(lt,"$1"),i,s>o&&b(e.slice(o,s)),r>s&&b(e=e.slice(s)),r>s&&p(e))}h.push(i)}return m(h)}function x(e,i){var r=i.length>0,n=e.length>0,a=function(s,a,o,l,d){var h,c,u,p=0,f="0",m=s&&[],v=[],b=C,x=s||n&&q.find.TAG("*",d),w=F+=null==b?1:Math.random()||.1,y=x.length;for(d&&(C=a!==E&&a);f!==y&&null!=(h=x[f]);f++){if(n&&h){for(c=0;u=e[c++];)if(u(h,a,o)){l.push(h);break}d&&(F=w)}r&&((h=!u&&h)&&p--,s&&m.push(h))}if(p+=f,r&&f!==p){for(c=0;u=i[c++];)u(m,v,a,o);if(s){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Q.call(l));v=g(v)}J.apply(l,v),d&&!s&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return d&&(F=w,C=b),m};return r?s(a):a}function w(e,i,s){for(var r=0,n=i.length;n>r;r++)t(e,i[r],s);return s}function y(e,t,i,s){var r,n,a,o,l,d=u(e);if(!s&&1===d.length){if(n=d[0]=d[0].slice(0),n.length>2&&"ID"===(a=n[0]).type&&j.getById&&9===t.nodeType&&B&&q.relative[n[1].type]){if(t=(q.find.ID(a.matches[0].replace(yt,_t),t)||[])[0],!t)return i;e=e.slice(n.shift().value.length)}for(r=ft.needsContext.test(e)?0:n.length;r--&&(a=n[r],!q.relative[o=a.type]);)if((l=q.find[o])&&(s=l(a.matches[0].replace(yt,_t),xt.test(n[0].type)&&h(t.parentNode)||t))){if(n.splice(r,1),e=s.length&&p(n),!e)return J.apply(i,s),i;break}}return T(e,d)(s,t,!B,i,xt.test(e)&&h(t.parentNode)||t),i}var _,j,q,k,I,T,C,S,D,P,E,H,B,A,z,M,L,O="sizzle"+-new Date,N=e.document,F=0,W=0,R=i(),$=i(),U=i(),V=function(e,t){return e===t&&(D=!0),0},G="undefined",K=1<<31,X={}.hasOwnProperty,Y=[],Q=Y.pop,Z=Y.push,J=Y.push,et=Y.slice,tt=Y.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",st="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=rt.replace("w","w#"),at="\\["+st+"*("+rt+")"+st+"*(?:([*^$|!~]?=)"+st+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+st+"*\\]",ot=":("+rt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",lt=new RegExp("^"+st+"+|((?:^|[^\\\\])(?:\\\\.)*)"+st+"+$","g"),dt=new RegExp("^"+st+"*,"+st+"*"),ht=new RegExp("^"+st+"*([>+~]|"+st+")"+st+"*"),ct=new RegExp("="+st+"*([^\\]'\"]*?)"+st+"*\\]","g"),ut=new RegExp(ot),pt=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+st+"*(even|odd|(([+-]|)(\\d*)n|)"+st+"*(?:([+-]|)"+st+"*(\\d+)|))"+st+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+st+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+st+"*((?:-\\d)?\\d*)"+st+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/[+~]/,wt=/'|\\/g,yt=new RegExp("\\\\([\\da-f]{1,6}"+st+"?|("+st+")|.)","ig"),_t=function(e,t,i){var s="0x"+t-65536;return s!==s||i?t:0>s?String.fromCharCode(s+65536):String.fromCharCode(s>>10|55296,1023&s|56320)};try{J.apply(Y=et.call(N.childNodes),N.childNodes),Y[N.childNodes.length].nodeType}catch(jt){J={apply:Y.length?function(e,t){Z.apply(e,et.call(t))}:function(e,t){for(var i=e.length,s=0;e[i++]=t[s++];);e.length=i-1}}}j=t.support={},I=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},P=t.setDocument=function(e){var t,i=e?e.ownerDocument||e:N,s=i.defaultView;return i!==E&&9===i.nodeType&&i.documentElement?(E=i,H=i.documentElement,B=!I(i),s&&s!==s.top&&(s.addEventListener?s.addEventListener("unload",function(){P()},!1):s.attachEvent&&s.attachEvent("onunload",function(){P()})),j.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),j.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),j.getElementsByClassName=vt.test(i.getElementsByClassName)&&r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),j.getById=r(function(e){return H.appendChild(e).id=O,!i.getElementsByName||!i.getElementsByName(O).length}),j.getById?(q.find.ID=function(e,t){if(typeof t.getElementById!==G&&B){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},q.filter.ID=function(e){var t=e.replace(yt,_t);return function(e){return e.getAttribute("id")===t}}):(delete q.find.ID,q.filter.ID=function(e){var t=e.replace(yt,_t);return function(e){var i=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return i&&i.value===t}}),q.find.TAG=j.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==G?t.getElementsByTagName(e):void 0}:function(e,t){var i,s=[],r=0,n=t.getElementsByTagName(e);if("*"===e){for(;i=n[r++];)1===i.nodeType&&s.push(i);return s}return n},q.find.CLASS=j.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==G&&B?t.getElementsByClassName(e):void 0},z=[],A=[],(j.qsa=vt.test(i.querySelectorAll))&&(r(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&A.push("[*^$]="+st+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||A.push("\\["+st+"*(?:value|"+it+")"),e.querySelectorAll(":checked").length||A.push(":checked")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&A.push("name"+st+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||A.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),A.push(",.*:")})),(j.matchesSelector=vt.test(M=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&r(function(e){j.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),z.push("!=",ot)}),A=A.length&&new RegExp(A.join("|")),z=z.length&&new RegExp(z.join("|")),t=vt.test(H.compareDocumentPosition),L=t||vt.test(H.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,s=t&&t.parentNode;return e===s||!(!s||1!==s.nodeType||!(i.contains?i.contains(s):e.compareDocumentPosition&&16&e.compareDocumentPosition(s)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return D=!0,0;var s=!e.compareDocumentPosition-!t.compareDocumentPosition;return s?s:(s=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&s||!j.sortDetached&&t.compareDocumentPosition(e)===s?e===i||e.ownerDocument===N&&L(N,e)?-1:t===i||t.ownerDocument===N&&L(N,t)?1:S?tt.call(S,e)-tt.call(S,t):0:4&s?-1:1)}:function(e,t){if(e===t)return D=!0,0;var s,r=0,n=e.parentNode,o=t.parentNode,l=[e],d=[t];if(!n||!o)return e===i?-1:t===i?1:n?-1:o?1:S?tt.call(S,e)-tt.call(S,t):0;if(n===o)return a(e,t);for(s=e;s=s.parentNode;)l.unshift(s);for(s=t;s=s.parentNode;)d.unshift(s);for(;l[r]===d[r];)r++;return r?a(l[r],d[r]):l[r]===N?-1:d[r]===N?1:0},i):E},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==E&&P(e),i=i.replace(ct,"='$1']"),!(!j.matchesSelector||!B||z&&z.test(i)||A&&A.test(i)))try{var s=M.call(e,i);if(s||j.disconnectedMatch||e.document&&11!==e.document.nodeType)return s}catch(r){}return t(i,E,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==E&&P(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==E&&P(e);var i=q.attrHandle[t.toLowerCase()],s=i&&X.call(q.attrHandle,t.toLowerCase())?i(e,t,!B):void 0;return void 0!==s?s:j.attributes||!B?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],s=0,r=0;if(D=!j.detectDuplicates,S=!j.sortStable&&e.slice(0),e.sort(V),D){for(;t=e[r++];)t===e[r]&&(s=i.push(r));for(;s--;)e.splice(i[s],1)}return S=null,e},k=t.getText=function(e){var t,i="",s=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[s++];)i+=k(t);return i},q=t.selectors={cacheLength:50,createPseudo:s,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(yt,_t),e[3]=(e[4]||e[5]||"").replace(yt,_t),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[5]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:i&&ut.test(i)&&(t=u(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(yt,_t).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=R[e+" "];return t||(t=new RegExp("(^|"+st+")"+e+"("+st+"|$)"))&&R(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,i,s){return function(r){var n=t.attr(r,e);return null==n?"!="===i:i?(n+="","="===i?n===s:"!="===i?n!==s:"^="===i?s&&0===n.indexOf(s):"*="===i?s&&n.indexOf(s)>-1:"$="===i?s&&n.slice(-s.length)===s:"~="===i?(" "+n+" ").indexOf(s)>-1:"|="===i?n===s||n.slice(0,s.length+1)===s+"-":!1):!0}},CHILD:function(e,t,i,s,r){var n="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===s&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var d,h,c,u,p,f,m=n!==a?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),b=!l&&!o;if(g){if(n){for(;m;){for(c=t;c=c[m];)if(o?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&b){for(h=g[O]||(g[O]={}),d=h[e]||[],p=d[0]===F&&d[1],u=d[0]===F&&d[2],c=p&&g.childNodes[p];c=++p&&c&&c[m]||(u=p=0)||f.pop();)if(1===c.nodeType&&++u&&c===t){h[e]=[F,p,u];break}}else if(b&&(d=(t[O]||(t[O]={}))[e])&&d[0]===F)u=d[1];else for(;(c=++p&&c&&c[m]||(u=p=0)||f.pop())&&((o?c.nodeName.toLowerCase()!==v:1!==c.nodeType)||!++u||(b&&((c[O]||(c[O]={}))[e]=[F,u]),c!==t)););return u-=r,u===s||u%s===0&&u/s>=0}}},PSEUDO:function(e,i){var r,n=q.pseudos[e]||q.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return n[O]?n(i):n.length>1?(r=[e,e,"",i],q.setFilters.hasOwnProperty(e.toLowerCase())?s(function(e,t){for(var s,r=n(e,i),a=r.length;a--;)s=tt.call(e,r[a]),e[s]=!(t[s]=r[a])}):function(e){return n(e,0,r)}):n}},pseudos:{not:s(function(e){var t=[],i=[],r=T(e.replace(lt,"$1"));return r[O]?s(function(e,t,i,s){for(var n,a=r(e,null,s,[]),o=e.length;o--;)(n=a[o])&&(e[o]=!(t[o]=n))}):function(e,s,n){return t[0]=e,r(t,null,n,i),!i.pop()}}),has:s(function(e){return function(i){return t(e,i).length>0}}),contains:s(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:s(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(yt,_t).toLowerCase(),function(t){var i;do if(i=B?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!q.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,i){return[0>i?i+t:i]}),even:d(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:d(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:d(function(e,t,i){for(var s=0>i?i+t:i;--s>=0;)e.push(s);return e}),gt:d(function(e,t,i){for(var s=0>i?i+t:i;++s<t;)e.push(s);return e})}},q.pseudos.nth=q.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})q.pseudos[_]=o(_);for(_ in{submit:!0,reset:!0})q.pseudos[_]=l(_);return c.prototype=q.filters=q.pseudos,q.setFilters=new c,T=t.compile=function(e,t){var i,s=[],r=[],n=U[e+" "];if(!n){for(t||(t=u(e)),i=t.length;i--;)n=b(t[i]),n[O]?s.push(n):r.push(n);n=U(e,x(r,s))}return n},j.sortStable=O.split("").sort(V).join("")===O,j.detectDuplicates=!!D,P(),j.sortDetached=r(function(e){return 1&e.compareDocumentPosition(E.createElement("div"))
}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||n("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),j.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||n("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||n(it,function(e,t,i){var s;return i?void 0:e[t]===!0?t.toLowerCase():(s=e.getAttributeNode(t))&&s.specified?s.value:null}),t}(e);nt.find=ht,nt.expr=ht.selectors,nt.expr[":"]=nt.expr.pseudos,nt.unique=ht.uniqueSort,nt.text=ht.getText,nt.isXMLDoc=ht.isXML,nt.contains=ht.contains;var ct=nt.expr.match.needsContext,ut=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^.[^:#\[\.,]*$/;nt.filter=function(e,t,i){var s=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===s.nodeType?nt.find.matchesSelector(s,e)?[s]:[]:nt.find.matches(e,nt.grep(t,function(e){return 1===e.nodeType}))},nt.fn.extend({find:function(e){var t,i=[],s=this,r=s.length;if("string"!=typeof e)return this.pushStack(nt(e).filter(function(){for(t=0;r>t;t++)if(nt.contains(s[t],this))return!0}));for(t=0;r>t;t++)nt.find(e,s[t],i);return i=this.pushStack(r>1?nt.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&ct.test(e)?nt(e):e||[],!1).length}});var ft,mt=e.document,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,vt=nt.fn.init=function(e,t){var i,s;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:gt.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||ft).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof nt?t[0]:t,nt.merge(this,nt.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:mt,!0)),ut.test(i[1])&&nt.isPlainObject(t))for(i in t)nt.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(s=mt.getElementById(i[2]),s&&s.parentNode){if(s.id!==i[2])return ft.find(e);this.length=1,this[0]=s}return this.context=mt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):nt.isFunction(e)?"undefined"!=typeof ft.ready?ft.ready(e):e(nt):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),nt.makeArray(e,this))};vt.prototype=nt.fn,ft=nt(mt);var bt=/^(?:parents|prev(?:Until|All))/,xt={children:!0,contents:!0,next:!0,prev:!0};nt.extend({dir:function(e,t,i){for(var s=[],r=e[t];r&&9!==r.nodeType&&(void 0===i||1!==r.nodeType||!nt(r).is(i));)1===r.nodeType&&s.push(r),r=r[t];return s},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),nt.fn.extend({has:function(e){var t,i=nt(e,this),s=i.length;return this.filter(function(){for(t=0;s>t;t++)if(nt.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,s=0,r=this.length,n=[],a=ct.test(e)||"string"!=typeof e?nt(e,t||this.context):0;r>s;s++)for(i=this[s];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&nt.find.matchesSelector(i,e))){n.push(i);break}return this.pushStack(n.length>1?nt.unique(n):n)},index:function(e){return e?"string"==typeof e?nt.inArray(this[0],nt(e)):nt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(nt.unique(nt.merge(this.get(),nt(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),nt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return nt.dir(e,"parentNode")},parentsUntil:function(e,t,i){return nt.dir(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return nt.dir(e,"nextSibling")},prevAll:function(e){return nt.dir(e,"previousSibling")},nextUntil:function(e,t,i){return nt.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return nt.dir(e,"previousSibling",i)},siblings:function(e){return nt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return nt.sibling(e.firstChild)},contents:function(e){return nt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:nt.merge([],e.childNodes)}},function(e,t){nt.fn[e]=function(i,s){var r=nt.map(this,t,i);return"Until"!==e.slice(-5)&&(s=i),s&&"string"==typeof s&&(r=nt.filter(s,r)),this.length>1&&(xt[e]||(r=nt.unique(r)),bt.test(e)&&(r=r.reverse())),this.pushStack(r)}});var wt=/\S+/g,yt={};nt.Callbacks=function(e){e="string"==typeof e?yt[e]||n(e):nt.extend({},e);var t,i,s,r,a,o,l=[],d=!e.once&&[],h=function(n){for(i=e.memory&&n,s=!0,a=o||0,o=0,r=l.length,t=!0;l&&r>a;a++)if(l[a].apply(n[0],n[1])===!1&&e.stopOnFalse){i=!1;break}t=!1,l&&(d?d.length&&h(d.shift()):i?l=[]:c.disable())},c={add:function(){if(l){var s=l.length;!function n(t){nt.each(t,function(t,i){var s=nt.type(i);"function"===s?e.unique&&c.has(i)||l.push(i):i&&i.length&&"string"!==s&&n(i)})}(arguments),t?r=l.length:i&&(o=s,h(i))}return this},remove:function(){return l&&nt.each(arguments,function(e,i){for(var s;(s=nt.inArray(i,l,s))>-1;)l.splice(s,1),t&&(r>=s&&r--,a>=s&&a--)}),this},has:function(e){return e?nt.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=d=i=void 0,this},disabled:function(){return!l},lock:function(){return d=void 0,i||c.disable(),this},locked:function(){return!d},fireWith:function(e,i){return!l||s&&!d||(i=i||[],i=[e,i.slice?i.slice():i],t?d.push(i):h(i)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!s}};return c},nt.extend({Deferred:function(e){var t=[["resolve","done",nt.Callbacks("once memory"),"resolved"],["reject","fail",nt.Callbacks("once memory"),"rejected"],["notify","progress",nt.Callbacks("memory")]],i="pending",s={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return nt.Deferred(function(i){nt.each(t,function(t,n){var a=nt.isFunction(e[t])&&e[t];r[n[1]](function(){var e=a&&a.apply(this,arguments);e&&nt.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[n[0]+"With"](this===s?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?nt.extend(e,s):s}},r={};return s.pipe=s.then,nt.each(t,function(e,n){var a=n[2],o=n[3];s[n[1]]=a.add,o&&a.add(function(){i=o},t[1^e][2].disable,t[2][2].lock),r[n[0]]=function(){return r[n[0]+"With"](this===r?s:this,arguments),this},r[n[0]+"With"]=a.fireWith}),s.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,s,r=0,n=X.call(arguments),a=n.length,o=1!==a||e&&nt.isFunction(e.promise)?a:0,l=1===o?e:nt.Deferred(),d=function(e,i,s){return function(r){i[e]=this,s[e]=arguments.length>1?X.call(arguments):r,s===t?l.notifyWith(i,s):--o||l.resolveWith(i,s)}};if(a>1)for(t=new Array(a),i=new Array(a),s=new Array(a);a>r;r++)n[r]&&nt.isFunction(n[r].promise)?n[r].promise().done(d(r,s,n)).fail(l.reject).progress(d(r,i,t)):--o;return o||l.resolveWith(s,n),l.promise()}});var _t;nt.fn.ready=function(e){return nt.ready.promise().done(e),this},nt.extend({isReady:!1,readyWait:1,holdReady:function(e){e?nt.readyWait++:nt.ready(!0)},ready:function(e){if(e===!0?!--nt.readyWait:!nt.isReady){if(!mt.body)return setTimeout(nt.ready);nt.isReady=!0,e!==!0&&--nt.readyWait>0||(_t.resolveWith(mt,[nt]),nt.fn.trigger&&nt(mt).trigger("ready").off("ready"))}}}),nt.ready.promise=function(t){if(!_t)if(_t=nt.Deferred(),"complete"===mt.readyState)setTimeout(nt.ready);else if(mt.addEventListener)mt.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",o,!1);else{mt.attachEvent("onreadystatechange",o),e.attachEvent("onload",o);var i=!1;try{i=null==e.frameElement&&mt.documentElement}catch(s){}i&&i.doScroll&&!function r(){if(!nt.isReady){try{i.doScroll("left")}catch(e){return setTimeout(r,50)}a(),nt.ready()}}()}return _t.promise(t)};var jt,qt="undefined";for(jt in nt(st))break;st.ownLast="0"!==jt,st.inlineBlockNeedsLayout=!1,nt(function(){var e,t,i=mt.getElementsByTagName("body")[0];i&&(e=mt.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=mt.createElement("div"),i.appendChild(e).appendChild(t),typeof t.style.zoom!==qt&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(st.inlineBlockNeedsLayout=3===t.offsetWidth)&&(i.style.zoom=1)),i.removeChild(e),e=t=null)}),function(){var e=mt.createElement("div");if(null==st.deleteExpando){st.deleteExpando=!0;try{delete e.test}catch(t){st.deleteExpando=!1}}e=null}(),nt.acceptData=function(e){var t=nt.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return 1!==i&&9!==i?!1:!t||t!==!0&&e.getAttribute("classid")===t};var kt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,It=/([A-Z])/g;nt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?nt.cache[e[nt.expando]]:e[nt.expando],!!e&&!d(e)},data:function(e,t,i){return h(e,t,i)},removeData:function(e,t){return c(e,t)},_data:function(e,t,i){return h(e,t,i,!0)},_removeData:function(e,t){return c(e,t,!0)}}),nt.fn.extend({data:function(e,t){var i,s,r,n=this[0],a=n&&n.attributes;if(void 0===e){if(this.length&&(r=nt.data(n),1===n.nodeType&&!nt._data(n,"parsedAttrs"))){for(i=a.length;i--;)s=a[i].name,0===s.indexOf("data-")&&(s=nt.camelCase(s.slice(5)),l(n,s,r[s]));nt._data(n,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){nt.data(this,e)}):arguments.length>1?this.each(function(){nt.data(this,e,t)}):n?l(n,e,nt.data(n,e)):void 0},removeData:function(e){return this.each(function(){nt.removeData(this,e)})}}),nt.extend({queue:function(e,t,i){var s;return e?(t=(t||"fx")+"queue",s=nt._data(e,t),i&&(!s||nt.isArray(i)?s=nt._data(e,t,nt.makeArray(i)):s.push(i)),s||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=nt.queue(e,t),s=i.length,r=i.shift(),n=nt._queueHooks(e,t),a=function(){nt.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),s--),r&&("fx"===t&&i.unshift("inprogress"),delete n.stop,r.call(e,a,n)),!s&&n&&n.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return nt._data(e,i)||nt._data(e,i,{empty:nt.Callbacks("once memory").add(function(){nt._removeData(e,t+"queue"),nt._removeData(e,i)})})}}),nt.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?nt.queue(this[0],e):void 0===t?this:this.each(function(){var i=nt.queue(this,e,t);nt._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&nt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){nt.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,s=1,r=nt.Deferred(),n=this,a=this.length,o=function(){--s||r.resolveWith(n,[n])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)i=nt._data(n[a],e+"queueHooks"),i&&i.empty&&(s++,i.empty.add(o));return o(),r.promise(t)}});var Tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],St=function(e,t){return e=t||e,"none"===nt.css(e,"display")||!nt.contains(e.ownerDocument,e)},Dt=nt.access=function(e,t,i,s,r,n,a){var o=0,l=e.length,d=null==i;if("object"===nt.type(i)){r=!0;for(o in i)nt.access(e,t,o,i[o],!0,n,a)}else if(void 0!==s&&(r=!0,nt.isFunction(s)||(a=!0),d&&(a?(t.call(e,s),t=null):(d=t,t=function(e,t,i){return d.call(nt(e),i)})),t))for(;l>o;o++)t(e[o],i,a?s:s.call(e[o],o,t(e[o],i)));return r?e:d?t.call(e):l?t(e[0],i):n},Pt=/^(?:checkbox|radio)$/i;!function(){var e=mt.createDocumentFragment(),t=mt.createElement("div"),i=mt.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",st.leadingWhitespace=3===t.firstChild.nodeType,st.tbody=!t.getElementsByTagName("tbody").length,st.htmlSerialize=!!t.getElementsByTagName("link").length,st.html5Clone="<:nav></:nav>"!==mt.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,e.appendChild(i),st.appendChecked=i.checked,t.innerHTML="<textarea>x</textarea>",st.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",st.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,st.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){st.noCloneEvent=!1}),t.cloneNode(!0).click()),null==st.deleteExpando){st.deleteExpando=!0;try{delete t.test}catch(s){st.deleteExpando=!1}}e=t=i=null}(),function(){var t,i,s=mt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(st[t+"Bubbles"]=i in e)||(s.setAttribute(i,"t"),st[t+"Bubbles"]=s.attributes[i].expando===!1);s=null}();var Et=/^(?:input|select|textarea)$/i,Ht=/^key/,Bt=/^(?:mouse|contextmenu)|click/,At=/^(?:focusinfocus|focusoutblur)$/,zt=/^([^.]*)(?:\.(.+)|)$/;nt.event={global:{},add:function(e,t,i,s,r){var n,a,o,l,d,h,c,u,p,f,m,g=nt._data(e);if(g){for(i.handler&&(l=i,i=l.handler,r=l.selector),i.guid||(i.guid=nt.guid++),(a=g.events)||(a=g.events={}),(h=g.handle)||(h=g.handle=function(e){return typeof nt===qt||e&&nt.event.triggered===e.type?void 0:nt.event.dispatch.apply(h.elem,arguments)},h.elem=e),t=(t||"").match(wt)||[""],o=t.length;o--;)n=zt.exec(t[o])||[],p=m=n[1],f=(n[2]||"").split(".").sort(),p&&(d=nt.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=nt.event.special[p]||{},c=nt.extend({type:p,origType:m,data:s,handler:i,guid:i.guid,selector:r,needsContext:r&&nt.expr.match.needsContext.test(r),namespace:f.join(".")},l),(u=a[p])||(u=a[p]=[],u.delegateCount=0,d.setup&&d.setup.call(e,s,f,h)!==!1||(e.addEventListener?e.addEventListener(p,h,!1):e.attachEvent&&e.attachEvent("on"+p,h))),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),r?u.splice(u.delegateCount++,0,c):u.push(c),nt.event.global[p]=!0);e=null}},remove:function(e,t,i,s,r){var n,a,o,l,d,h,c,u,p,f,m,g=nt.hasData(e)&&nt._data(e);if(g&&(h=g.events)){for(t=(t||"").match(wt)||[""],d=t.length;d--;)if(o=zt.exec(t[d])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p){for(c=nt.event.special[p]||{},p=(s?c.delegateType:c.bindType)||p,u=h[p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=n=u.length;n--;)a=u[n],!r&&m!==a.origType||i&&i.guid!==a.guid||o&&!o.test(a.namespace)||s&&s!==a.selector&&("**"!==s||!a.selector)||(u.splice(n,1),a.selector&&u.delegateCount--,c.remove&&c.remove.call(e,a));l&&!u.length&&(c.teardown&&c.teardown.call(e,f,g.handle)!==!1||nt.removeEvent(e,p,g.handle),delete h[p])}else for(p in h)nt.event.remove(e,p+t[d],i,s,!0);nt.isEmptyObject(h)&&(delete g.handle,nt._removeData(e,"events"))}},trigger:function(t,i,s,r){var n,a,o,l,d,h,c,u=[s||mt],p=tt.call(t,"type")?t.type:t,f=tt.call(t,"namespace")?t.namespace.split("."):[];if(o=h=s=s||mt,3!==s.nodeType&&8!==s.nodeType&&!At.test(p+nt.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[nt.expando]?t:new nt.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=s),i=null==i?[t]:nt.makeArray(i,[t]),d=nt.event.special[p]||{},r||!d.trigger||d.trigger.apply(s,i)!==!1)){if(!r&&!d.noBubble&&!nt.isWindow(s)){for(l=d.delegateType||p,At.test(l+p)||(o=o.parentNode);o;o=o.parentNode)u.push(o),h=o;h===(s.ownerDocument||mt)&&u.push(h.defaultView||h.parentWindow||e)}for(c=0;(o=u[c++])&&!t.isPropagationStopped();)t.type=c>1?l:d.bindType||p,n=(nt._data(o,"events")||{})[t.type]&&nt._data(o,"handle"),n&&n.apply(o,i),n=a&&o[a],n&&n.apply&&nt.acceptData(o)&&(t.result=n.apply(o,i),t.result===!1&&t.preventDefault());if(t.type=p,!r&&!t.isDefaultPrevented()&&(!d._default||d._default.apply(u.pop(),i)===!1)&&nt.acceptData(s)&&a&&s[p]&&!nt.isWindow(s)){h=s[a],h&&(s[a]=null),nt.event.triggered=p;try{s[p]()}catch(m){}nt.event.triggered=void 0,h&&(s[a]=h)}return t.result}},dispatch:function(e){e=nt.event.fix(e);var t,i,s,r,n,a=[],o=X.call(arguments),l=(nt._data(this,"events")||{})[e.type]||[],d=nt.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(a=nt.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,i=((nt.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,o),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,s,r,n,a=[],o=t.delegateCount,l=e.target;if(o&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],n=0;o>n;n++)s=t[n],i=s.selector+" ",void 0===r[i]&&(r[i]=s.needsContext?nt(i,this).index(l)>=0:nt.find(i,this,null,[l]).length),r[i]&&r.push(s);r.length&&a.push({elem:l,handlers:r})}return o<t.length&&a.push({elem:this,handlers:t.slice(o)}),a},fix:function(e){if(e[nt.expando])return e;var t,i,s,r=e.type,n=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Bt.test(r)?this.mouseHooks:Ht.test(r)?this.keyHooks:{}),s=a.props?this.props.concat(a.props):this.props,e=new nt.Event(n),t=s.length;t--;)i=s[t],e[i]=n[i];return e.target||(e.target=n.srcElement||mt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,n):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,s,r,n=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(s=e.target.ownerDocument||mt,r=s.documentElement,i=s.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===n||(e.which=1&n?1:2&n?3:4&n?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return nt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return nt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,s){var r=nt.extend(new nt.Event,i,{type:e,isSimulated:!0,originalEvent:{}});s?nt.event.trigger(r,null,t):nt.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},nt.removeEvent=mt.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var s="on"+t;e.detachEvent&&(typeof e[s]===qt&&(e[s]=null),e.detachEvent(s,i))},nt.Event=function(e,t){return this instanceof nt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())?u:p):this.type=e,t&&nt.extend(this,t),this.timeStamp=e&&e.timeStamp||nt.now(),void(this[nt.expando]=!0)):new nt.Event(e,t)},nt.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=u,this.stopPropagation()}},nt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){nt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,s=this,r=e.relatedTarget,n=e.handleObj;return(!r||r!==s&&!nt.contains(s,r))&&(e.type=n.origType,i=n.handler.apply(this,arguments),e.type=t),i}}}),st.submitBubbles||(nt.event.special.submit={setup:function(){return nt.nodeName(this,"form")?!1:void nt.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=nt.nodeName(t,"input")||nt.nodeName(t,"button")?t.form:void 0;i&&!nt._data(i,"submitBubbles")&&(nt.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),nt._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&nt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return nt.nodeName(this,"form")?!1:void nt.event.remove(this,"._submit")}}),st.changeBubbles||(nt.event.special.change={setup:function(){return Et.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(nt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),nt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),nt.event.simulate("change",this,e,!0)})),!1):void nt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Et.test(t.nodeName)&&!nt._data(t,"changeBubbles")&&(nt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||nt.event.simulate("change",this.parentNode,e,!0)}),nt._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return nt.event.remove(this,"._change"),!Et.test(this.nodeName)}}),st.focusinBubbles||nt.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){nt.event.simulate(t,e.target,nt.event.fix(e),!0)};nt.event.special[t]={setup:function(){var s=this.ownerDocument||this,r=nt._data(s,t);r||s.addEventListener(e,i,!0),nt._data(s,t,(r||0)+1)},teardown:function(){var s=this.ownerDocument||this,r=nt._data(s,t)-1;r?nt._data(s,t,r):(s.removeEventListener(e,i,!0),nt._removeData(s,t))}}}),nt.fn.extend({on:function(e,t,i,s,r){var n,a;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(n in e)this.on(n,t,i,e[n],r);return this}if(null==i&&null==s?(s=t,i=t=void 0):null==s&&("string"==typeof t?(s=i,i=void 0):(s=i,i=t,t=void 0)),s===!1)s=p;else if(!s)return this;return 1===r&&(a=s,s=function(e){return nt().off(e),a.apply(this,arguments)},s.guid=a.guid||(a.guid=nt.guid++)),this.each(function(){nt.event.add(this,e,s,i,t)})},one:function(e,t,i,s){return this.on(e,t,i,s,1)},off:function(e,t,i){var s,r;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,nt(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=p),this.each(function(){nt.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){nt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?nt.event.trigger(e,t,i,!0):void 0}});var Mt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Lt=/ jQuery\d+="(?:null|\d+)"/g,Ot=new RegExp("<(?:"+Mt+")[\\s/>]","i"),Nt=/^\s+/,Ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wt=/<([\w:]+)/,Rt=/<tbody/i,$t=/<|&#?\w+;/,Ut=/<(?:script|style|link)/i,Vt=/checked\s*(?:[^=]|=\s*.checked.)/i,Gt=/^$|\/(?:java|ecma)script/i,Kt=/^true\/(.*)/,Xt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:st.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qt=m(mt),Zt=Qt.appendChild(mt.createElement("div"));Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td,nt.extend({clone:function(e,t,i){var s,r,n,a,o,l=nt.contains(e.ownerDocument,e);if(st.html5Clone||nt.isXMLDoc(e)||!Ot.test("<"+e.nodeName+">")?n=e.cloneNode(!0):(Zt.innerHTML=e.outerHTML,Zt.removeChild(n=Zt.firstChild)),!(st.noCloneEvent&&st.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||nt.isXMLDoc(e)))for(s=g(n),o=g(e),a=0;null!=(r=o[a]);++a)s[a]&&j(r,s[a]);if(t)if(i)for(o=o||g(e),s=s||g(n),a=0;null!=(r=o[a]);a++)_(r,s[a]);else _(e,n);return s=g(n,"script"),s.length>0&&y(s,!l&&g(e,"script")),s=o=r=null,n},buildFragment:function(e,t,i,s){for(var r,n,a,o,l,d,h,c=e.length,u=m(t),p=[],f=0;c>f;f++)if(n=e[f],n||0===n)if("object"===nt.type(n))nt.merge(p,n.nodeType?[n]:n);else if($t.test(n)){for(o=o||u.appendChild(t.createElement("div")),l=(Wt.exec(n)||["",""])[1].toLowerCase(),h=Yt[l]||Yt._default,o.innerHTML=h[1]+n.replace(Ft,"<$1></$2>")+h[2],r=h[0];r--;)o=o.lastChild;if(!st.leadingWhitespace&&Nt.test(n)&&p.push(t.createTextNode(Nt.exec(n)[0])),!st.tbody)for(n="table"!==l||Rt.test(n)?"<table>"!==h[1]||Rt.test(n)?0:o:o.firstChild,r=n&&n.childNodes.length;r--;)nt.nodeName(d=n.childNodes[r],"tbody")&&!d.childNodes.length&&n.removeChild(d);for(nt.merge(p,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=u.lastChild}else p.push(t.createTextNode(n));for(o&&u.removeChild(o),st.appendChecked||nt.grep(g(p,"input"),v),f=0;n=p[f++];)if((!s||-1===nt.inArray(n,s))&&(a=nt.contains(n.ownerDocument,n),o=g(u.appendChild(n),"script"),a&&y(o),i))for(r=0;n=o[r++];)Gt.test(n.type||"")&&i.push(n);return o=null,u},cleanData:function(e,t){for(var i,s,r,n,a=0,o=nt.expando,l=nt.cache,d=st.deleteExpando,h=nt.event.special;null!=(i=e[a]);a++)if((t||nt.acceptData(i))&&(r=i[o],n=r&&l[r])){if(n.events)for(s in n.events)h[s]?nt.event.remove(i,s):nt.removeEvent(i,s,n.handle);l[r]&&(delete l[r],d?delete i[o]:typeof i.removeAttribute!==qt?i.removeAttribute(o):i[o]=null,K.push(r))}}}),nt.fn.extend({text:function(e){return Dt(this,function(e){return void 0===e?nt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||mt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,s=e?nt.filter(e,this):this,r=0;null!=(i=s[r]);r++)t||1!==i.nodeType||nt.cleanData(g(i)),i.parentNode&&(t&&nt.contains(i.ownerDocument,i)&&y(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&nt.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&nt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return nt.clone(this,e,t)})},html:function(e){return Dt(this,function(e){var t=this[0]||{},i=0,s=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Lt,""):void 0;if(!("string"!=typeof e||Ut.test(e)||!st.htmlSerialize&&Ot.test(e)||!st.leadingWhitespace&&Nt.test(e)||Yt[(Wt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ft,"<$1></$2>");try{for(;s>i;i++)t=this[i]||{},1===t.nodeType&&(nt.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,nt.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Y.apply([],e);var i,s,r,n,a,o,l=0,d=this.length,h=this,c=d-1,u=e[0],p=nt.isFunction(u);if(p||d>1&&"string"==typeof u&&!st.checkClone&&Vt.test(u))return this.each(function(i){var s=h.eq(i);p&&(e[0]=u.call(this,i,s.html())),s.domManip(e,t)});if(d&&(o=nt.buildFragment(e,this[0].ownerDocument,!1,this),i=o.firstChild,1===o.childNodes.length&&(o=i),i)){for(n=nt.map(g(o,"script"),x),r=n.length;d>l;l++)s=o,l!==c&&(s=nt.clone(s,!0,!0),r&&nt.merge(n,g(s,"script"))),t.call(this[l],s,l);if(r)for(a=n[n.length-1].ownerDocument,nt.map(n,w),l=0;r>l;l++)s=n[l],Gt.test(s.type||"")&&!nt._data(s,"globalEval")&&nt.contains(a,s)&&(s.src?nt._evalUrl&&nt._evalUrl(s.src):nt.globalEval((s.text||s.textContent||s.innerHTML||"").replace(Xt,"")));o=i=null}return this}}),nt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){nt.fn[e]=function(e){for(var i,s=0,r=[],n=nt(e),a=n.length-1;a>=s;s++)i=s===a?this:this.clone(!0),nt(n[s])[t](i),Q.apply(r,i.get());return this.pushStack(r)}});var Jt,ei={};!function(){var e,t,i=mt.createElement("div"),s="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=i.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",st.opacity=/^0.5/.test(e.style.opacity),st.cssFloat=!!e.style.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",st.clearCloneStyle="content-box"===i.style.backgroundClip,e=i=null,st.shrinkWrapBlocks=function(){var e,i,r,n;if(null==t){if(e=mt.getElementsByTagName("body")[0],!e)return;n="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",i=mt.createElement("div"),r=mt.createElement("div"),e.appendChild(i).appendChild(r),t=!1,typeof r.style.zoom!==qt&&(r.style.cssText=s+";width:1px;padding:1px;zoom:1",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t=3!==r.offsetWidth),e.removeChild(i),e=i=r=null}return t}}();var ti,ii,si=/^margin/,ri=new RegExp("^("+Tt+")(?!px)[a-z%]+$","i"),ni=/^(top|right|bottom|left)$/;e.getComputedStyle?(ti=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},ii=function(e,t,i){var s,r,n,a,o=e.style;return i=i||ti(e),a=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==a||nt.contains(e.ownerDocument,e)||(a=nt.style(e,t)),ri.test(a)&&si.test(t)&&(s=o.width,r=o.minWidth,n=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=i.width,o.width=s,o.minWidth=r,o.maxWidth=n)),void 0===a?a:a+""}):mt.documentElement.currentStyle&&(ti=function(e){return e.currentStyle},ii=function(e,t,i){var s,r,n,a,o=e.style;return i=i||ti(e),a=i?i[t]:void 0,null==a&&o&&o[t]&&(a=o[t]),ri.test(a)&&!ni.test(t)&&(s=o.left,r=e.runtimeStyle,n=r&&r.left,n&&(r.left=e.currentStyle.left),o.left="fontSize"===t?"1em":a,a=o.pixelLeft+"px",o.left=s,n&&(r.left=n)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,i,s=mt.getElementsByTagName("body")[0];s&&(t=mt.createElement("div"),i=mt.createElement("div"),t.style.cssText=d,s.appendChild(t).appendChild(i),i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",nt.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){r=4===i.offsetWidth}),n=!0,a=!1,o=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(i,null)||{}).top,n="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width),s.removeChild(t),i=s=null)}var i,s,r,n,a,o,l=mt.createElement("div"),d="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",h="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=l.getElementsByTagName("a")[0],i.style.cssText="float:left;opacity:.5",st.opacity=/^0.5/.test(i.style.opacity),st.cssFloat=!!i.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",st.clearCloneStyle="content-box"===l.style.backgroundClip,i=l=null,nt.extend(st,{reliableHiddenOffsets:function(){if(null!=s)return s;
var e,t,i,r=mt.createElement("div"),n=mt.getElementsByTagName("body")[0];if(n)return r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=mt.createElement("div"),e.style.cssText=d,n.appendChild(e).appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=r.getElementsByTagName("td"),t[0].style.cssText="padding:0;margin:0;border:0;display:none",i=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",s=i&&0===t[0].offsetHeight,n.removeChild(e),r=n=null,s},boxSizing:function(){return null==r&&t(),r},boxSizingReliable:function(){return null==n&&t(),n},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){var t,i,s,r;if(null==o&&e.getComputedStyle){if(t=mt.getElementsByTagName("body")[0],!t)return;i=mt.createElement("div"),s=mt.createElement("div"),i.style.cssText=d,t.appendChild(i).appendChild(s),r=s.appendChild(mt.createElement("div")),r.style.cssText=s.style.cssText=h,r.style.marginRight=r.style.width="0",s.style.width="1px",o=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight),t.removeChild(i)}return o}})}(),nt.swap=function(e,t,i,s){var r,n,a={};for(n in t)a[n]=e.style[n],e.style[n]=t[n];r=i.apply(e,s||[]);for(n in t)e.style[n]=a[n];return r};var ai=/alpha\([^)]*\)/i,oi=/opacity\s*=\s*([^)]*)/,li=/^(none|table(?!-c[ea]).+)/,di=new RegExp("^("+Tt+")(.*)$","i"),hi=new RegExp("^([+-])=("+Tt+")","i"),ci={position:"absolute",visibility:"hidden",display:"block"},ui={letterSpacing:0,fontWeight:400},pi=["Webkit","O","Moz","ms"];nt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ii(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":st.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,n,a,o=nt.camelCase(t),l=e.style;if(t=nt.cssProps[o]||(nt.cssProps[o]=T(l,o)),a=nt.cssHooks[t]||nt.cssHooks[o],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(e,!1,s))?r:l[t];if(n=typeof i,"string"===n&&(r=hi.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(nt.css(e,t)),n="number"),null!=i&&i===i&&("number"!==n||nt.cssNumber[o]||(i+="px"),st.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(e,i,s)))))try{l[t]="",l[t]=i}catch(d){}}},css:function(e,t,i,s){var r,n,a,o=nt.camelCase(t);return t=nt.cssProps[o]||(nt.cssProps[o]=T(e.style,o)),a=nt.cssHooks[t]||nt.cssHooks[o],a&&"get"in a&&(n=a.get(e,!0,i)),void 0===n&&(n=ii(e,t,s)),"normal"===n&&t in ui&&(n=ui[t]),""===i||i?(r=parseFloat(n),i===!0||nt.isNumeric(r)?r||0:n):n}}),nt.each(["height","width"],function(e,t){nt.cssHooks[t]={get:function(e,i,s){return i?0===e.offsetWidth&&li.test(nt.css(e,"display"))?nt.swap(e,ci,function(){return P(e,t,s)}):P(e,t,s):void 0},set:function(e,i,s){var r=s&&ti(e);return S(e,i,s?D(e,t,s,st.boxSizing()&&"border-box"===nt.css(e,"boxSizing",!1,r),r):0)}}}),st.opacity||(nt.cssHooks.opacity={get:function(e,t){return oi.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,s=e.currentStyle,r=nt.isNumeric(t)?"alpha(opacity="+100*t+")":"",n=s&&s.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===nt.trim(n.replace(ai,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||s&&!s.filter)||(i.filter=ai.test(n)?n.replace(ai,r):n+" "+r)}}),nt.cssHooks.marginRight=I(st.reliableMarginRight,function(e,t){return t?nt.swap(e,{display:"inline-block"},ii,[e,"marginRight"]):void 0}),nt.each({margin:"",padding:"",border:"Width"},function(e,t){nt.cssHooks[e+t]={expand:function(i){for(var s=0,r={},n="string"==typeof i?i.split(" "):[i];4>s;s++)r[e+Ct[s]+t]=n[s]||n[s-2]||n[0];return r}},si.test(e)||(nt.cssHooks[e+t].set=S)}),nt.fn.extend({css:function(e,t){return Dt(this,function(e,t,i){var s,r,n={},a=0;if(nt.isArray(t)){for(s=ti(e),r=t.length;r>a;a++)n[t[a]]=nt.css(e,t[a],!1,s);return n}return void 0!==i?nt.style(e,t,i):nt.css(e,t)},e,t,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){St(this)?nt(this).show():nt(this).hide()})}}),nt.Tween=E,E.prototype={constructor:E,init:function(e,t,i,s,r,n){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=n||(nt.cssNumber[i]?"":"px")},cur:function(){var e=E.propHooks[this.prop];return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){var t,i=E.propHooks[this.prop];return this.pos=t=this.options.duration?nt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=nt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){nt.fx.step[e.prop]?nt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[nt.cssProps[e.prop]]||nt.cssHooks[e.prop])?nt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},nt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},nt.fx=E.prototype.init,nt.fx.step={};var fi,mi,gi=/^(?:toggle|show|hide)$/,vi=new RegExp("^(?:([+-])=|)("+Tt+")([a-z%]*)$","i"),bi=/queueHooks$/,xi=[z],wi={"*":[function(e,t){var i=this.createTween(e,t),s=i.cur(),r=vi.exec(t),n=r&&r[3]||(nt.cssNumber[e]?"":"px"),a=(nt.cssNumber[e]||"px"!==n&&+s)&&vi.exec(nt.css(i.elem,e)),o=1,l=20;if(a&&a[3]!==n){n=n||a[3],r=r||[],a=+s||1;do o=o||".5",a/=o,nt.style(i.elem,e,a+n);while(o!==(o=i.cur()/s)&&1!==o&&--l)}return r&&(a=i.start=+a||+s||0,i.unit=n,i.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),i}]};nt.Animation=nt.extend(L,{tweener:function(e,t){nt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,s=0,r=e.length;r>s;s++)i=e[s],wi[i]=wi[i]||[],wi[i].unshift(t)},prefilter:function(e,t){t?xi.unshift(e):xi.push(e)}}),nt.speed=function(e,t,i){var s=e&&"object"==typeof e?nt.extend({},e):{complete:i||!i&&t||nt.isFunction(e)&&e,duration:e,easing:i&&t||t&&!nt.isFunction(t)&&t};return s.duration=nt.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in nt.fx.speeds?nt.fx.speeds[s.duration]:nt.fx.speeds._default,(null==s.queue||s.queue===!0)&&(s.queue="fx"),s.old=s.complete,s.complete=function(){nt.isFunction(s.old)&&s.old.call(this),s.queue&&nt.dequeue(this,s.queue)},s},nt.fn.extend({fadeTo:function(e,t,i,s){return this.filter(St).css("opacity",0).show().end().animate({opacity:t},e,i,s)},animate:function(e,t,i,s){var r=nt.isEmptyObject(e),n=nt.speed(t,i,s),a=function(){var t=L(this,nt.extend({},e),n);(r||nt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||n.queue===!1?this.each(a):this.queue(n.queue,a)},stop:function(e,t,i){var s=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",n=nt.timers,a=nt._data(this);if(r)a[r]&&a[r].stop&&s(a[r]);else for(r in a)a[r]&&a[r].stop&&bi.test(r)&&s(a[r]);for(r=n.length;r--;)n[r].elem!==this||null!=e&&n[r].queue!==e||(n[r].anim.stop(i),t=!1,n.splice(r,1));(t||!i)&&nt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=nt._data(this),s=i[e+"queue"],r=i[e+"queueHooks"],n=nt.timers,a=s?s.length:0;for(i.finish=!0,nt.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=n.length;t--;)n[t].elem===this&&n[t].queue===e&&(n[t].anim.stop(!0),n.splice(t,1));for(t=0;a>t;t++)s[t]&&s[t].finish&&s[t].finish.call(this);delete i.finish})}}),nt.each(["toggle","show","hide"],function(e,t){var i=nt.fn[t];nt.fn[t]=function(e,s,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(B(t,!0),e,s,r)}}),nt.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){nt.fn[e]=function(e,i,s){return this.animate(t,e,i,s)}}),nt.timers=[],nt.fx.tick=function(){var e,t=nt.timers,i=0;for(fi=nt.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||nt.fx.stop(),fi=void 0},nt.fx.timer=function(e){nt.timers.push(e),e()?nt.fx.start():nt.timers.pop()},nt.fx.interval=13,nt.fx.start=function(){mi||(mi=setInterval(nt.fx.tick,nt.fx.interval))},nt.fx.stop=function(){clearInterval(mi),mi=null},nt.fx.speeds={slow:600,fast:200,_default:400},nt.fn.delay=function(e,t){return e=nt.fx?nt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var s=setTimeout(t,e);i.stop=function(){clearTimeout(s)}})},function(){var e,t,i,s,r=mt.createElement("div");r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=r.getElementsByTagName("a")[0],i=mt.createElement("select"),s=i.appendChild(mt.createElement("option")),t=r.getElementsByTagName("input")[0],e.style.cssText="top:1px",st.getSetAttribute="t"!==r.className,st.style=/top/.test(e.getAttribute("style")),st.hrefNormalized="/a"===e.getAttribute("href"),st.checkOn=!!t.value,st.optSelected=s.selected,st.enctype=!!mt.createElement("form").enctype,i.disabled=!0,st.optDisabled=!s.disabled,t=mt.createElement("input"),t.setAttribute("value",""),st.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),st.radioValue="t"===t.value,e=t=i=s=r=null}();var yi=/\r/g;nt.fn.extend({val:function(e){var t,i,s,r=this[0];{if(arguments.length)return s=nt.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=s?e.call(this,i,nt(this).val()):e,null==r?r="":"number"==typeof r?r+="":nt.isArray(r)&&(r=nt.map(r,function(e){return null==e?"":e+""})),t=nt.valHooks[this.type]||nt.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=nt.valHooks[r.type]||nt.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(yi,""):null==i?"":i)}}}),nt.extend({valHooks:{option:{get:function(e){var t=nt.find.attr(e,"value");return null!=t?t:nt.text(e)}},select:{get:function(e){for(var t,i,s=e.options,r=e.selectedIndex,n="select-one"===e.type||0>r,a=n?null:[],o=n?r+1:s.length,l=0>r?o:n?r:0;o>l;l++)if(i=s[l],!(!i.selected&&l!==r||(st.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&nt.nodeName(i.parentNode,"optgroup"))){if(t=nt(i).val(),n)return t;a.push(t)}return a},set:function(e,t){for(var i,s,r=e.options,n=nt.makeArray(t),a=r.length;a--;)if(s=r[a],nt.inArray(nt.valHooks.option.get(s),n)>=0)try{s.selected=i=!0}catch(o){s.scrollHeight}else s.selected=!1;return i||(e.selectedIndex=-1),r}}}}),nt.each(["radio","checkbox"],function(){nt.valHooks[this]={set:function(e,t){return nt.isArray(t)?e.checked=nt.inArray(nt(e).val(),t)>=0:void 0}},st.checkOn||(nt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var _i,ji,qi=nt.expr.attrHandle,ki=/^(?:checked|selected)$/i,Ii=st.getSetAttribute,Ti=st.input;nt.fn.extend({attr:function(e,t){return Dt(this,nt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){nt.removeAttr(this,e)})}}),nt.extend({attr:function(e,t,i){var s,r,n=e.nodeType;if(e&&3!==n&&8!==n&&2!==n)return typeof e.getAttribute===qt?nt.prop(e,t,i):(1===n&&nt.isXMLDoc(e)||(t=t.toLowerCase(),s=nt.attrHooks[t]||(nt.expr.match.bool.test(t)?ji:_i)),void 0===i?s&&"get"in s&&null!==(r=s.get(e,t))?r:(r=nt.find.attr(e,t),null==r?void 0:r):null!==i?s&&"set"in s&&void 0!==(r=s.set(e,i,t))?r:(e.setAttribute(t,i+""),i):void nt.removeAttr(e,t))},removeAttr:function(e,t){var i,s,r=0,n=t&&t.match(wt);if(n&&1===e.nodeType)for(;i=n[r++];)s=nt.propFix[i]||i,nt.expr.match.bool.test(i)?Ti&&Ii||!ki.test(i)?e[s]=!1:e[nt.camelCase("default-"+i)]=e[s]=!1:nt.attr(e,i,""),e.removeAttribute(Ii?i:s)},attrHooks:{type:{set:function(e,t){if(!st.radioValue&&"radio"===t&&nt.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),ji={set:function(e,t,i){return t===!1?nt.removeAttr(e,i):Ti&&Ii||!ki.test(i)?e.setAttribute(!Ii&&nt.propFix[i]||i,i):e[nt.camelCase("default-"+i)]=e[i]=!0,i}},nt.each(nt.expr.match.bool.source.match(/\w+/g),function(e,t){var i=qi[t]||nt.find.attr;qi[t]=Ti&&Ii||!ki.test(t)?function(e,t,s){var r,n;return s||(n=qi[t],qi[t]=r,r=null!=i(e,t,s)?t.toLowerCase():null,qi[t]=n),r}:function(e,t,i){return i?void 0:e[nt.camelCase("default-"+t)]?t.toLowerCase():null}}),Ti&&Ii||(nt.attrHooks.value={set:function(e,t,i){return nt.nodeName(e,"input")?void(e.defaultValue=t):_i&&_i.set(e,t,i)}}),Ii||(_i={set:function(e,t,i){var s=e.getAttributeNode(i);return s||e.setAttributeNode(s=e.ownerDocument.createAttribute(i)),s.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},qi.id=qi.name=qi.coords=function(e,t,i){var s;return i?void 0:(s=e.getAttributeNode(t))&&""!==s.value?s.value:null},nt.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:_i.set},nt.attrHooks.contenteditable={set:function(e,t,i){_i.set(e,""===t?!1:t,i)}},nt.each(["width","height"],function(e,t){nt.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),st.style||(nt.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ci=/^(?:input|select|textarea|button|object)$/i,Si=/^(?:a|area)$/i;nt.fn.extend({prop:function(e,t){return Dt(this,nt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=nt.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),nt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var s,r,n,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return n=1!==a||!nt.isXMLDoc(e),n&&(t=nt.propFix[t]||t,r=nt.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(s=r.set(e,i,t))?s:e[t]=i:r&&"get"in r&&null!==(s=r.get(e,t))?s:e[t]},propHooks:{tabIndex:{get:function(e){var t=nt.find.attr(e,"tabindex");return t?parseInt(t,10):Ci.test(e.nodeName)||Si.test(e.nodeName)&&e.href?0:-1}}}}),st.hrefNormalized||nt.each(["href","src"],function(e,t){nt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),st.optSelected||(nt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),nt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){nt.propFix[this.toLowerCase()]=this}),st.enctype||(nt.propFix.enctype="encoding");var Di=/[\t\r\n\f]/g;nt.fn.extend({addClass:function(e){var t,i,s,r,n,a,o=0,l=this.length,d="string"==typeof e&&e;if(nt.isFunction(e))return this.each(function(t){nt(this).addClass(e.call(this,t,this.className))});if(d)for(t=(e||"").match(wt)||[];l>o;o++)if(i=this[o],s=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Di," "):" ")){for(n=0;r=t[n++];)s.indexOf(" "+r+" ")<0&&(s+=r+" ");a=nt.trim(s),i.className!==a&&(i.className=a)}return this},removeClass:function(e){var t,i,s,r,n,a,o=0,l=this.length,d=0===arguments.length||"string"==typeof e&&e;if(nt.isFunction(e))return this.each(function(t){nt(this).removeClass(e.call(this,t,this.className))});if(d)for(t=(e||"").match(wt)||[];l>o;o++)if(i=this[o],s=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Di," "):"")){for(n=0;r=t[n++];)for(;s.indexOf(" "+r+" ")>=0;)s=s.replace(" "+r+" "," ");a=e?nt.trim(s):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(nt.isFunction(e)?function(i){nt(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,s=0,r=nt(this),n=e.match(wt)||[];t=n[s++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(i===qt||"boolean"===i)&&(this.className&&nt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":nt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,s=this.length;s>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Di," ").indexOf(t)>=0)return!0;return!1}}),nt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){nt.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),nt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,s){return this.on(t,e,i,s)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Pi=nt.now(),Ei=/\?/,Hi=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;nt.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,s=null,r=nt.trim(t+"");return r&&!nt.trim(r.replace(Hi,function(e,t,r,n){return i&&t&&(s=0),0===s?e:(i=r||t,s+=!n-!r,"")}))?Function("return "+r)():nt.error("Invalid JSON: "+t)},nt.parseXML=function(t){var i,s;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(s=new DOMParser,i=s.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(r){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||nt.error("Invalid XML: "+t),i};var Bi,Ai,zi=/#.*$/,Mi=/([?&])_=[^&]*/,Li=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Oi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ni=/^(?:GET|HEAD)$/,Fi=/^\/\//,Wi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ri={},$i={},Ui="*/".concat("*");try{Ai=location.href}catch(Vi){Ai=mt.createElement("a"),Ai.href="",Ai=Ai.href}Bi=Wi.exec(Ai.toLowerCase())||[],nt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ai,type:"GET",isLocal:Oi.test(Bi[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ui,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":nt.parseJSON,"text xml":nt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?F(F(e,nt.ajaxSettings),t):F(nt.ajaxSettings,e)},ajaxPrefilter:O(Ri),ajaxTransport:O($i),ajax:function(e,t){function i(e,t,i,s){var r,h,v,b,w,_=t;2!==x&&(x=2,o&&clearTimeout(o),d=void 0,a=s||"",y.readyState=e>0?4:0,r=e>=200&&300>e||304===e,i&&(b=W(c,y,i)),b=R(c,b,y,r),r?(c.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(nt.lastModified[n]=w),w=y.getResponseHeader("etag"),w&&(nt.etag[n]=w)),204===e||"HEAD"===c.type?_="nocontent":304===e?_="notmodified":(_=b.state,h=b.data,v=b.error,r=!v)):(v=_,(e||!_)&&(_="error",0>e&&(e=0))),y.status=e,y.statusText=(t||_)+"",r?f.resolveWith(u,[h,_,y]):f.rejectWith(u,[y,_,v]),y.statusCode(g),g=void 0,l&&p.trigger(r?"ajaxSuccess":"ajaxError",[y,c,r?h:v]),m.fireWith(u,[y,_]),l&&(p.trigger("ajaxComplete",[y,c]),--nt.active||nt.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var s,r,n,a,o,l,d,h,c=nt.ajaxSetup({},t),u=c.context||c,p=c.context&&(u.nodeType||u.jquery)?nt(u):nt.event,f=nt.Deferred(),m=nt.Callbacks("once memory"),g=c.statusCode||{},v={},b={},x=0,w="canceled",y={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!h)for(h={};t=Li.exec(a);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return x||(e=b[i]=b[i]||e,v[e]=t),this},overrideMimeType:function(e){return x||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)g[t]=[g[t],e[t]];else y.always(e[y.status]);return this},abort:function(e){var t=e||w;return d&&d.abort(t),i(0,t),this}};if(f.promise(y).complete=m.add,y.success=y.done,y.error=y.fail,c.url=((e||c.url||Ai)+"").replace(zi,"").replace(Fi,Bi[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=nt.trim(c.dataType||"*").toLowerCase().match(wt)||[""],null==c.crossDomain&&(s=Wi.exec(c.url.toLowerCase()),c.crossDomain=!(!s||s[1]===Bi[1]&&s[2]===Bi[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(Bi[3]||("http:"===Bi[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=nt.param(c.data,c.traditional)),N(Ri,c,t,y),2===x)return y;l=c.global,l&&0===nt.active++&&nt.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Ni.test(c.type),n=c.url,c.hasContent||(c.data&&(n=c.url+=(Ei.test(n)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=Mi.test(n)?n.replace(Mi,"$1_="+Pi++):n+(Ei.test(n)?"&":"?")+"_="+Pi++)),c.ifModified&&(nt.lastModified[n]&&y.setRequestHeader("If-Modified-Since",nt.lastModified[n]),nt.etag[n]&&y.setRequestHeader("If-None-Match",nt.etag[n])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&y.setRequestHeader("Content-Type",c.contentType),y.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Ui+"; q=0.01":""):c.accepts["*"]);for(r in c.headers)y.setRequestHeader(r,c.headers[r]);if(c.beforeSend&&(c.beforeSend.call(u,y,c)===!1||2===x))return y.abort();w="abort";for(r in{success:1,error:1,complete:1})y[r](c[r]);if(d=N($i,c,t,y)){y.readyState=1,l&&p.trigger("ajaxSend",[y,c]),c.async&&c.timeout>0&&(o=setTimeout(function(){y.abort("timeout")},c.timeout));try{x=1,d.send(v,i)}catch(_){if(!(2>x))throw _;i(-1,_)}}else i(-1,"No Transport");return y},getJSON:function(e,t,i){return nt.get(e,t,i,"json")},getScript:function(e,t){return nt.get(e,void 0,t,"script")}}),nt.each(["get","post"],function(e,t){nt[t]=function(e,i,s,r){return nt.isFunction(i)&&(r=r||s,s=i,i=void 0),nt.ajax({url:e,type:t,dataType:r,data:i,success:s})}}),nt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){nt.fn[t]=function(e){return this.on(t,e)}}),nt._evalUrl=function(e){return nt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},nt.fn.extend({wrapAll:function(e){if(nt.isFunction(e))return this.each(function(t){nt(this).wrapAll(e.call(this,t))});if(this[0]){var t=nt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(nt.isFunction(e)?function(t){nt(this).wrapInner(e.call(this,t))}:function(){var t=nt(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=nt.isFunction(e);return this.each(function(i){nt(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){nt.nodeName(this,"body")||nt(this).replaceWith(this.childNodes)}).end()}}),nt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!st.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||nt.css(e,"display"))},nt.expr.filters.visible=function(e){return!nt.expr.filters.hidden(e)};var Gi=/%20/g,Ki=/\[\]$/,Xi=/\r?\n/g,Yi=/^(?:submit|button|image|reset|file)$/i,Qi=/^(?:input|select|textarea|keygen)/i;nt.param=function(e,t){var i,s=[],r=function(e,t){t=nt.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=nt.ajaxSettings&&nt.ajaxSettings.traditional),nt.isArray(e)||e.jquery&&!nt.isPlainObject(e))nt.each(e,function(){r(this.name,this.value)});else for(i in e)$(i,e[i],t,r);return s.join("&").replace(Gi,"+")},nt.fn.extend({serialize:function(){return nt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=nt.prop(this,"elements");return e?nt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!nt(this).is(":disabled")&&Qi.test(this.nodeName)&&!Yi.test(e)&&(this.checked||!Pt.test(e))}).map(function(e,t){var i=nt(this).val();return null==i?null:nt.isArray(i)?nt.map(i,function(e){return{name:t.name,value:e.replace(Xi,"\r\n")}}):{name:t.name,value:i.replace(Xi,"\r\n")}}).get()}}),nt.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||V()}:U;var Zi=0,Ji={},es=nt.ajaxSettings.xhr();e.ActiveXObject&&nt(e).on("unload",function(){for(var e in Ji)Ji[e](void 0,!0)}),st.cors=!!es&&"withCredentials"in es,es=st.ajax=!!es,es&&nt.ajaxTransport(function(e){if(!e.crossDomain||st.cors){var t;return{send:function(i,s){var r,n=e.xhr(),a=++Zi;if(n.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)n[r]=e.xhrFields[r];e.mimeType&&n.overrideMimeType&&n.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)void 0!==i[r]&&n.setRequestHeader(r,i[r]+"");n.send(e.hasContent&&e.data||null),t=function(i,r){var o,l,d;if(t&&(r||4===n.readyState))if(delete Ji[a],t=void 0,n.onreadystatechange=nt.noop,r)4!==n.readyState&&n.abort();else{d={},o=n.status,"string"==typeof n.responseText&&(d.text=n.responseText);try{l=n.statusText}catch(h){l=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=d.text?200:404}d&&s(o,l,d,n.getAllResponseHeaders())},e.async?4===n.readyState?setTimeout(t):n.onreadystatechange=Ji[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),nt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return nt.globalEval(e),e}}}),nt.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),nt.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=mt.head||nt("head")[0]||mt.documentElement;return{send:function(s,r){t=mt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ts=[],is=/(=)\?(?=&|$)|\?\?/;nt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ts.pop()||nt.expando+"_"+Pi++;return this[e]=!0,e}}),nt.ajaxPrefilter("json jsonp",function(t,i,s){var r,n,a,o=t.jsonp!==!1&&(is.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&is.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=nt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(is,"$1"+r):t.jsonp!==!1&&(t.url+=(Ei.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||nt.error(r+" was not called"),a[0]},t.dataTypes[0]="json",n=e[r],e[r]=function(){a=arguments},s.always(function(){e[r]=n,t[r]&&(t.jsonpCallback=i.jsonpCallback,ts.push(r)),a&&nt.isFunction(n)&&n(a[0]),a=n=void 0}),"script"):void 0}),nt.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||mt;var s=ut.exec(e),r=!i&&[];return s?[t.createElement(s[1])]:(s=nt.buildFragment([e],t,r),r&&r.length&&nt(r).remove(),nt.merge([],s.childNodes))};var ss=nt.fn.load;nt.fn.load=function(e,t,i){if("string"!=typeof e&&ss)return ss.apply(this,arguments);var s,r,n,a=this,o=e.indexOf(" ");return o>=0&&(s=e.slice(o,e.length),e=e.slice(0,o)),nt.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(n="POST"),a.length>0&&nt.ajax({url:e,type:n,dataType:"html",data:t}).done(function(e){r=arguments,a.html(s?nt("<div>").append(nt.parseHTML(e)).find(s):e)}).complete(i&&function(e,t){a.each(i,r||[e.responseText,t,e])}),this},nt.expr.filters.animated=function(e){return nt.grep(nt.timers,function(t){return e===t.elem}).length};var rs=e.document.documentElement;nt.offset={setOffset:function(e,t,i){var s,r,n,a,o,l,d,h=nt.css(e,"position"),c=nt(e),u={};"static"===h&&(e.style.position="relative"),o=c.offset(),n=nt.css(e,"top"),l=nt.css(e,"left"),d=("absolute"===h||"fixed"===h)&&nt.inArray("auto",[n,l])>-1,d?(s=c.position(),a=s.top,r=s.left):(a=parseFloat(n)||0,r=parseFloat(l)||0),nt.isFunction(t)&&(t=t.call(e,i,o)),null!=t.top&&(u.top=t.top-o.top+a),null!=t.left&&(u.left=t.left-o.left+r),"using"in t?t.using.call(e,u):c.css(u)}},nt.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){nt.offset.setOffset(this,e,t)});var t,i,s={top:0,left:0},r=this[0],n=r&&r.ownerDocument;if(n)return t=n.documentElement,nt.contains(t,r)?(typeof r.getBoundingClientRect!==qt&&(s=r.getBoundingClientRect()),i=G(n),{top:s.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:s.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):s},position:function(){if(this[0]){var e,t,i={top:0,left:0},s=this[0];return"fixed"===nt.css(s,"position")?t=s.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),nt.nodeName(e[0],"html")||(i=e.offset()),i.top+=nt.css(e[0],"borderTopWidth",!0),i.left+=nt.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-nt.css(s,"marginTop",!0),left:t.left-i.left-nt.css(s,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rs;e&&!nt.nodeName(e,"html")&&"static"===nt.css(e,"position");)e=e.offsetParent;return e||rs})}}),nt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);nt.fn[e]=function(s){return Dt(this,function(e,s,r){var n=G(e);return void 0===r?n?t in n?n[t]:n.document.documentElement[s]:e[s]:void(n?n.scrollTo(i?nt(n).scrollLeft():r,i?r:nt(n).scrollTop()):e[s]=r)},e,s,arguments.length,null)}}),nt.each(["top","left"],function(e,t){nt.cssHooks[t]=I(st.pixelPosition,function(e,i){return i?(i=ii(e,t),ri.test(i)?nt(e).position()[t]+"px":i):void 0})}),nt.each({Height:"height",Width:"width"},function(e,t){nt.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,s){nt.fn[s]=function(s,r){var n=arguments.length&&(i||"boolean"!=typeof s),a=i||(s===!0||r===!0?"margin":"border");return Dt(this,function(t,i,s){var r;return nt.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===s?nt.css(t,i,a):nt.style(t,i,s,a)},t,n?s:void 0,n,null)}})}),nt.fn.size=function(){return this.length},nt.fn.andSelf=nt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return nt});var ns=e.jQuery,as=e.$;return nt.noConflict=function(t){return e.$===nt&&(e.$=as),t&&e.jQuery===nt&&(e.jQuery=ns),nt},typeof t===qt&&(e.jQuery=e.$=nt),nt}),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var i,s=e(document);e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var i=e('meta[name="csrf-token"]').attr("content");i&&t.setRequestHeader("X-CSRF-Token",i)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),i=e("meta[name=csrf-param]").attr("content");e('form input[name="'+i+'"]').val(t)},fire:function(t,i,s){var r=e.Event(i);return t.trigger(r,s),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(s){var r,n,a,o,l,d,h,c;if(i.fire(s,"ajax:before")){if(o=s.data("cross-domain"),l=o===t?null:o,d=s.data("with-credentials")||null,h=s.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,s.is("form")){r=s.attr("method"),n=s.attr("action"),a=s.serializeArray();
var u=s.data("ujs:submit-button");u&&(a.push(u),s.data("ujs:submit-button",null))}else s.is(i.inputChangeSelector)?(r=s.data("method"),n=s.data("url"),a=s.serialize(),s.data("params")&&(a=a+"&"+s.data("params"))):s.is(i.buttonClickSelector)?(r=s.data("method")||"get",n=s.data("url"),a=s.serialize(),s.data("params")&&(a=a+"&"+s.data("params"))):(r=s.data("method"),n=i.href(s),a=s.data("params")||null);c={type:r||"GET",data:a,dataType:h,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(s,"ajax:beforeSend",[e,r])},success:function(e,t,i){s.trigger("ajax:success",[e,t,i])},complete:function(e,t){s.trigger("ajax:complete",[e,t])},error:function(e,t,i){s.trigger("ajax:error",[e,t,i])},crossDomain:l},d&&(c.xhrFields={withCredentials:d}),n&&(c.url=n);var p=i.ajax(c);return s.trigger("ajax:send",p),p}return!1},handleMethod:function(s){var r=i.href(s),n=s.data("method"),a=s.attr("target"),o=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),d=e('<form method="post" action="'+r+'"></form>'),h='<input name="_method" value="'+n+'" type="hidden" />';l!==t&&o!==t&&(h+='<input name="'+l+'" value="'+o+'" type="hidden" />'),a&&d.attr("target",a),d.hide().append(h).appendTo("body"),d.submit()},disableFormElements:function(t){t.find(i.disableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with",t[i]()),t[i](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(i.enableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[i](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,s=e.data("confirm"),r=!1;return s?(i.fire(e,"confirm")&&(r=i.confirm(s),t=i.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,i,s){var r,n,a=e(),o=i||"input,textarea",l=t.find(o);return l.each(function(){if(r=e(this),n=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!n==!s){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;a=a.add(r)}}),a.length?a:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},i.fire(s,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,s){e.crossDomain||i.CSRFProtection(s)}),s.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),s.delegate(i.linkClickSelector,"click.rails",function(s){var r=e(this),n=r.data("method"),a=r.data("params"),o=s.metaKey||s.ctrlKey;if(!i.allowAction(r))return i.stopEverything(s);if(!o&&r.is(i.linkDisableSelector)&&i.disableElement(r),r.data("remote")!==t){if(o&&(!n||"GET"===n)&&!a)return!0;var l=i.handleRemote(r);return l===!1?i.enableElement(r):l.error(function(){i.enableElement(r)}),!1}return r.data("method")?(i.handleMethod(r),!1):void 0}),s.delegate(i.buttonClickSelector,"click.rails",function(t){var s=e(this);return i.allowAction(s)?(i.handleRemote(s),!1):i.stopEverything(t)}),s.delegate(i.inputChangeSelector,"change.rails",function(t){var s=e(this);return i.allowAction(s)?(i.handleRemote(s),!1):i.stopEverything(t)}),s.delegate(i.formSubmitSelector,"submit.rails",function(s){var r=e(this),n=r.data("remote")!==t,a=i.blankInputs(r,i.requiredInputSelector),o=i.nonBlankInputs(r,i.fileInputSelector);if(!i.allowAction(r))return i.stopEverything(s);if(a&&r.attr("novalidate")==t&&i.fire(r,"ajax:aborted:required",[a]))return i.stopEverything(s);if(n){if(o){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[o]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return i.handleRemote(r),!1}setTimeout(function(){i.disableFormElements(r)},13)}),s.delegate(i.formInputClickSelector,"click.rails",function(t){var s=e(this);if(!i.allowAction(s))return i.stopEverything(t);var r=s.attr("name"),n=r?{name:r,value:s.val()}:null;s.closest("form").data("ujs:submit-button",n)}),s.delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),s.delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))}),e(function(){i.refreshCSRFTokens()}))}(jQuery),function(){var e,t,i,s,r,n,a,o,l,d,h,c,u,p,f,m,g,v,b,x,w,y,_,j,q,k,I,T,C,S,D,P,E,H,B,A,z,M,L,O,N,F,W,R,$,U,V,G,K,X,Y,Q,Z,J=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1},et={}.hasOwnProperty,tt=function(e,t){function i(){this.constructor=e}for(var s in t)et.call(t,s)&&(e[s]=t[s]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},it=[].slice;P={},u=10,G=!1,v=null,S=null,M=null,g=null,Q=null,s={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},y=function(e){var t;return e=new i(e),W(),c(),G&&(t=K(e.absolute))?(_(t),j(e)):j(e,U)},K=function(e){var t;return t=P[e],t&&!t.transitionCacheDisabled?t:void 0},b=function(e){return null==e&&(e=!0),G=e},j=function(e,t){return null==t&&(t=function(){return function(){}}(this)),X(s.FETCH,{url:e.absolute}),null!=Q&&Q.abort(),Q=new XMLHttpRequest,Q.open("GET",e.withoutHashForIE10compatibility(),!0),Q.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),Q.setRequestHeader("X-XHR-Referer",M),Q.onload=function(){var i;return X(s.RECEIVE,{url:e.absolute}),(i=A())?(L(e),p.apply(null,w(i)),D(),O(),t(),X(s.LOAD)):document.location.href=e.absolute},Q.onloadend=function(){return Q=null},Q.onerror=function(){return document.location.href=e.absolute},Q.send()},_=function(e){return null!=Q&&Q.abort(),p(e.title,e.body),z(e),X(s.RESTORE)},c=function(){var e;return e=new i(v.url),P[e.absolute]={url:e.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},m(u)},H=function(e){return null==e&&(e=u),/^[\d]+$/.test(e)?u=parseInt(e):void 0},m=function(e){var t,i,r,n,a,o;for(r=Object.keys(P),t=r.map(function(e){return P[e].cachedAt}).sort(function(e,t){return t-e}),o=[],n=0,a=r.length;a>n;n++)i=r[n],P[i].cachedAt<=t[e]&&(X(s.EXPIRE,P[i]),o.push(delete P[i]));return o},p=function(t,i,r,n){return X(s.BEFORE_UNLOAD),document.title=t,document.documentElement.replaceChild(i,document.body),null!=r&&e.update(r),V(),n&&x(),v=window.history.state,X(s.CHANGE),X(s.UPDATE)},x=function(){var e,t,i,s,r,n,a,o,l,d,h,c;for(n=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),a=0,l=n.length;l>a;a++)if(r=n[a],""===(h=r.type)||"text/javascript"===h){for(t=document.createElement("script"),c=r.attributes,o=0,d=c.length;d>o;o++)e=c[o],t.setAttribute(e.name,e.value);r.hasAttribute("async")||(t.async=!1),t.appendChild(document.createTextNode(r.innerHTML)),s=r.parentNode,i=r.nextSibling,s.removeChild(r),s.insertBefore(t,i)}},R=function(e){return e.innerHTML=e.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),e},V=function(){var e,t;return e=(t=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[t.length-1],e&&document.activeElement!==e?e.focus():void 0},L=function(e){return(e=new i(e)).absolute!==M?window.history.pushState({turbolinks:!0,url:e.absolute},"",e.absolute):void 0},O=function(){var e,t;return(e=Q.getResponseHeader("X-XHR-Redirected-To"))?(e=new i(e),t=e.hasNoHash()?document.location.hash:"",window.history.replaceState(v,"",e.href+t)):void 0},W=function(){return M=document.location.href},F=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},N=function(){return v=window.history.state},D=function(){var e;return navigator.userAgent.match(/Firefox/)&&!(e=new i).hasNoHash()?(window.history.replaceState(v,"",e.withoutHash()),document.location.hash=e.hash):void 0},z=function(e){return window.scrollTo(e.positionX,e.positionY)},U=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},f=function(e){var t,i,s;if(null==e||"object"!=typeof e)return e;t=new e.constructor;for(i in e)s=e[i],t[i]=f(s);return t},B=function(e){var t,i;return t=(null!=(i=document.cookie.match(new RegExp(e+"=(\\w+)")))?i[1].toUpperCase():void 0)||"",document.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",t},X=function(e,t){var i;return"undefined"!=typeof Prototype&&Event.fire(document,e,t,!0),i=document.createEvent("Events"),t&&(i.data=t),i.initEvent(e,!0,!0),document.dispatchEvent(i)},E=function(e){return!X(s.BEFORE_CHANGE,{url:e})},A=function(){var e,t,i,s,r,n;return t=function(){var e;return 400<=(e=Q.status)&&600>e},n=function(){var e;return null!=(e=Q.getResponseHeader("Content-Type"))&&e.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},s=function(e){var t,i,s,r,n;for(r=e.querySelector("head").childNodes,n=[],i=0,s=r.length;s>i;i++)t=r[i],null!=("function"==typeof t.getAttribute?t.getAttribute("data-turbolinks-track"):void 0)&&n.push(t.getAttribute("src")||t.getAttribute("href"));return n},e=function(e){var t;return S||(S=s(document)),t=s(e),t.length!==S.length||r(t,S).length!==S.length},r=function(e,t){var i,s,r,n,a;for(e.length>t.length&&(n=[t,e],e=n[0],t=n[1]),a=[],s=0,r=e.length;r>s;s++)i=e[s],J.call(t,i)>=0&&a.push(i);return a},!t()&&n()&&(i=g(Q.responseText),i&&!e(i))?i:void 0},w=function(t){var i;return i=t.querySelector("title"),[null!=i?i.textContent:void 0,R(t.querySelector("body")),e.get(t).token,"runScripts"]},e={get:function(e){var t;return null==e&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:null!=t&&"function"==typeof t.getAttribute?t.getAttribute("content"):void 0}},update:function(e){var t;return t=this.get(),null!=t.token&&null!=e&&t.token!==e?t.node.setAttribute("content",e):void 0}},n=function(){var e,t,i,s,r,n,a,o,l,d;s=function(e){return(new DOMParser).parseFromString(e,"text/html")},t=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.documentElement.innerHTML=e,t},r=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.open("replace"),t.write(e),t.close(),t},i=function(e){var t,i,s,r,n,a;return s=(null!=(n=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i))?n[0]:void 0)||"<head></head>",t=(null!=(a=e.match(/<body[^>]*>([\s\S.]*)<\/body>/i))?a[0]:void 0)||"<body></body>",r=document.createElement("html"),r.innerHTML=s+t,i=document.createDocumentFragment(),i.appendChild(r),i},e=function(e){var t,s,n;return t=function(e,t){return{passes:t(),fallback:e}},n=t(r,function(){return function(){var t,i;return 1===(null!=(t=e("<html><body><p>test"))&&null!=(i=t.body)?i.childNodes.length:void 0)}}(this)),s=t(i,function(){return function(){var t,i;return 2===(null!=(t=e("<html><body><form></form><div></div></body></html>"))&&null!=(i=t.body)?i.childNodes.length:void 0)}}(this)),[n,s]};try{if(window.DOMParser)return a=e(s),s}catch(h){return o=h,a=e(t),t}finally{for(l=0,d=a.length;d>l;l++)if(n=a[l],!n.passes)return n.fallback}},i=function(){function e(t){return this.original=null!=t?t:document.location.href,this.original.constructor===e?this.original:void this._parse()}return e.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},e.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},e.prototype.hasNoHash=function(){return 0===this.hash.length},e.prototype._parse=function(){var e;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,e=this.link,this.href=e.href,this.protocol=e.protocol,this.host=e.host,this.hostname=e.hostname,this.port=e.port,this.pathname=e.pathname,this.search=e.search,this.hash=e.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},e}(),r=function(e){function t(e){return this.link=e,this.link.constructor===t?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void t.__super__.constructor.apply(this,arguments))}return tt(t,e),t.HTML_EXTENSIONS=["html"],t.allowExtensions=function(){var e,i,s,r;for(i=1<=arguments.length?it.call(arguments,0):[],s=0,r=i.length;r>s;s++)e=i[s],t.HTML_EXTENSIONS.push(e);return t.HTML_EXTENSIONS},t.prototype.shouldIgnore=function(){return this._crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},t.prototype._crossOrigin=function(){return this.origin!==(new i).origin},t.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new i).withoutHash()},t.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+t.HTML_EXTENSIONS.join("|")+")?$","g"))},t.prototype._optOut=function(){var e,t;for(t=this.originalElement;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},t.prototype._target=function(){return 0!==this.link.target.length},t}(i),t=function(){function e(e){this.event=e,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(E(this.link.absolute)||Y(this.link.href),this.event.preventDefault()))}return e.installHandlerLast=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",e.handle,!1),document.addEventListener("click",e.handle,!1))},e.handle=function(t){return new e(t)},e.prototype._extractLink=function(){var e;for(e=this.event.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return"A"===e.nodeName&&0!==e.href.length?this.link=new r(e):void 0},e.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},e.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},e}(),h=function(e){return setTimeout(e,500)},I=function(){return document.addEventListener("DOMContentLoaded",function(){return X(s.CHANGE),X(s.UPDATE)},!0)},C=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,t){return jQuery.trim(t.responseText)?X(s.UPDATE):void 0}):void 0},T=function(e){var t,s;return(null!=(s=e.state)?s.turbolinks:void 0)?(t=P[new i(e.state.url).absolute])?(c(),_(t)):Y(e.target.location.href):void 0},k=function(){return F(),N(),g=n(),document.addEventListener("click",t.installHandlerLast,!0),window.addEventListener("hashchange",function(){return F(),N()},!1),h(function(){return window.addEventListener("popstate",T,!1)})},q=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),l=window.history&&window.history.pushState&&window.history.replaceState&&q,a=!navigator.userAgent.match(/CriOS\//),$="GET"===(Z=B("request_method"))||""===Z,d=l&&a&&$,o=document.addEventListener&&document.createEvent,o&&(I(),C()),d?(Y=y,k()):Y=function(e){return document.location.href=e},this.Turbolinks={visit:Y,pagesCached:H,enableTransitionCache:b,allowLinkExtensions:r.allowExtensions,supported:d,EVENTS:f(s)}}.call(this),function(e,t,i,s){"use strict";function r(e){return("string"==typeof e||e instanceof String)&&(e=e.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),e}var n=function(t){for(var i=t.length;i--;)0===e("head").has("."+t[i]).length&&e("head").append('<meta class="'+t[i]+'">')};n(["foundation-mq-small","foundation-mq-medium","foundation-mq-large","foundation-mq-xlarge","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),e(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof i.body&&FastClick.attach(i.body)});var a=function(t,s){if("string"==typeof t){if(s){var r;return r=s.jquery?s[0]:s,e(r.querySelectorAll(t))}return e(i.querySelectorAll(t))}return e(t,s)},o=function(e){var t=[];return e||t.push("data"),this.namespace.length>0&&t.push(this.namespace),t.push(this.name),t.join("-")},n=function(t){for(var i=t.length;i--;)0===e("head").has("."+t[i]).length&&e("head").append('<meta class="'+t[i]+'">')},l=function(e){for(var t=e.split("-"),i=t.length,s=[];i--;)0!==i?s.push(t[i]):this.namespace.length>0?s.push(this.namespace,t[i]):s.push(t[i]);return s.reverse().join("-")},d=function(t,i){var s=this,r=!a(this).data(this.attr_name(!0));return"string"==typeof t?this[t].call(this,i):void(a(this.scope).is("["+this.attr_name()+"]")?(a(this.scope).data(this.attr_name(!0)+"-init",e.extend({},this.settings,i||t,this.data_options(a(this.scope)))),r&&this.events(this.scope)):a("["+this.attr_name()+"]",this.scope).each(function(){var r=!a(this).data(s.attr_name(!0)+"-init");a(this).data(s.attr_name(!0)+"-init",e.extend({},s.settings,i||t,s.data_options(a(this)))),r&&s.events(this)}))},h=function(e,t){function i(){t(e[0])}function s(){if(this.one("load",i),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var e=this.attr("src"),t=e.match(/\?/)?"&":"?";t+="random="+(new Date).getTime(),this.attr("src",e+t)}}return e.attr("src")?void(e[0].complete||4===e[0].readyState?i():s.call(e)):void i()};t.matchMedia=t.matchMedia||function(e){var t,i=e.documentElement,s=i.firstElementChild||i.firstChild,r=e.createElement("body"),n=e.createElement("div");return n.id="mq-test-1",n.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(n),function(e){return n.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(r,s),t=42===n.offsetWidth,i.removeChild(r),{matches:t,media:e}}}(i),function(){function e(){i&&(n(e),jQuery.fx.tick())}for(var i,s=0,r=["webkit","moz"],n=t.requestAnimationFrame,a=t.cancelAnimationFrame;s<r.length&&!n;s++)n=t[r[s]+"RequestAnimationFrame"],a=a||t[r[s]+"CancelAnimationFrame"]||t[r[s]+"CancelRequestAnimationFrame"];n?(t.requestAnimationFrame=n,t.cancelAnimationFrame=a,jQuery.fx.timer=function(t){t()&&jQuery.timers.push(t)&&!i&&(i=!0,e())},jQuery.fx.stop=function(){i=!1}):(t.requestAnimationFrame=function(e){var i=(new Date).getTime(),r=Math.max(0,16-(i-s)),n=t.setTimeout(function(){e(i+r)},r);return s=i+r,n},t.cancelAnimationFrame=function(e){clearTimeout(e)})}(jQuery),t.Foundation={name:"Foundation",version:"5.1.1",media_queries:{small:a(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:a(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:a(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:a(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:a(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:e("<style></style>").appendTo("head")[0].sheet,global:{namespace:""},init:function(e,t,i,s,r){var n=[e,i,s,r],o=[];if(this.rtl=/rtl/i.test(a("html").attr("dir")),this.scope=e||this.scope,this.set_namespace(),t&&"string"==typeof t&&!/reflow/i.test(t))this.libs.hasOwnProperty(t)&&o.push(this.init_lib(t,n));else for(var l in this.libs)o.push(this.init_lib(l,t));return e},init_lib:function(e,t){return this.libs.hasOwnProperty(e)?(this.patch(this.libs[e]),t&&t.hasOwnProperty(e)?this.libs[e].init.apply(this.libs[e],[this.scope,t[e]]):(t=t instanceof Array?t:Array(t),this.libs[e].init.apply(this.libs[e],t))):function(){}},patch:function(e){e.scope=this.scope,e.namespace=this.global.namespace,e.rtl=this.rtl,e.data_options=this.utils.data_options,e.attr_name=o,e.add_namespace=l,e.bindings=d,e.S=this.utils.S},inherit:function(e,t){for(var i=t.split(" "),s=i.length;s--;)this.utils.hasOwnProperty(i[s])&&(e[i[s]]=this.utils[i[s]])},set_namespace:function(){var t=e(".foundation-data-attribute-namespace").css("font-family");/false/i.test(t)||(this.global.namespace=t)},libs:{},utils:{S:a,throttle:function(e,t){var i=null;return function(){var s=this,r=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(s,r)},t)}},debounce:function(e,t,i){var s,r;return function(){var n=this,a=arguments,o=function(){s=null,i||(r=e.apply(n,a))},l=i&&!s;return clearTimeout(s),s=setTimeout(o,t),l&&(r=e.apply(n,a)),r}},data_options:function(t){function i(e){return!isNaN(e-0)&&null!==e&&""!==e&&e!==!1&&e!==!0}function s(t){return"string"==typeof t?e.trim(t):t}var r,n,a,o={},l=function(e){var t=Foundation.global.namespace;return e.data(t.length>0?t+"-options":"options")},d=l(t);if("object"==typeof d)return d;for(a=(d||":").split(";"),r=a.length;r--;)n=a[r].split(":"),/true/i.test(n[1])&&(n[1]=!0),/false/i.test(n[1])&&(n[1]=!1),i(n[1])&&(n[1]=parseInt(n[1],10)),2===n.length&&n[0].length>0&&(o[s(n[0])]=s(n[1]));return o},register_media:function(t,i){Foundation.media_queries[t]===s&&(e("head").append('<meta class="'+i+'">'),Foundation.media_queries[t]=r(e("."+i).css("font-family")))},add_custom_rule:function(e,t){if(t===s)Foundation.stylesheet.insertRule(e,Foundation.stylesheet.cssRules.length);else{var i=Foundation.media_queries[t];i!==s&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[t]+"{ "+e+" }")}},image_loaded:function(e,t){var i=this,s=e.length;e.each(function(){h(i.S(this),function(){s-=1,0==s&&t(e)})})},random_str:function(e){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");e||(e=Math.floor(Math.random()*t.length));for(var i="";e--;)i+=t[Math.floor(Math.random()*t.length)];return i}}},e.fn.foundation=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(e)),this})}}(jQuery,this,this.document),function(e,t,i){"use strict";Foundation.libs.abide={name:"abide",version:"5.1.1",settings:{live_validate:!0,focus_on_invalid:!0,error_labels:!0,timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^\d+$/,number:/-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?/,password:/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,url:/(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,datetime:/([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))/,time:/(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}/,dateISO:/\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,month_day_year:/(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.](19|20)\d\d/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/}},timer:null,init:function(e,t,i){this.bindings(t,i)},events:function(t){{var i=this,s=i.S(t).attr("novalidate","novalidate");s.data(this.attr_name(!0)+"-init")}this.invalid_attr=this.add_namespace("data-invalid"),s.off(".abide").on("submit.fndtn.abide validate.fndtn.abide",function(e){var t=/ajax/i.test(i.S(this).attr(i.attr_name()));return i.validate(i.S(this).find("input, textarea, select").get(),e,t)}).on("reset",function(){return i.reset(e(this))}).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(e){i.validate([this],e)}).on("keydown.fndtn.abide",function(t){var s=e(this).closest("form").data("abide-init");s.live_validate===!0&&(clearTimeout(i.timer),i.timer=setTimeout(function(){i.validate([this],t)}.bind(this),s.timeout))})},reset:function(t){t.removeAttr(this.invalid_attr),e(this.invalid_attr,t).removeAttr(this.invalid_attr),e(".error",t).not("small").removeClass("error")},validate:function(e,t,i){for(var s=this.parse_patterns(e),r=s.length,n=this.S(e[0]).closest("form"),a=/submit/.test(t.type),o=0;r>o;o++)if(!s[o]&&(a||i))return this.settings.focus_on_invalid&&e[o].focus(),n.trigger("invalid"),this.S(e[o]).closest("form").attr(this.invalid_attr,""),!1;return(a||i)&&n.trigger("valid"),n.removeAttr(this.invalid_attr),i?!1:!0},parse_patterns:function(e){for(var t=e.length,i=[];t--;)i.push(this.pattern(e[t]));return this.check_validation_and_apply_styles(i)},pattern:function(e){var t=e.getAttribute("type"),i="string"==typeof e.getAttribute("required"),s=e.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(s)&&s.length>0?[e,this.settings.patterns[s],i]:s.length>0?[e,new RegExp(s),i]:this.settings.patterns.hasOwnProperty(t)?[e,this.settings.patterns[t],i]:(s=/.*/,[e,s,i])},check_validation_and_apply_styles:function(t){for(var i=t.length,s=[];i--;){var r,n=t[i][0],a=t[i][2],o=n.value,l=this.S(n).parent(),d=n.getAttribute(this.add_namespace("data-equalto")),h="radio"===n.type,c="checkbox"===n.type,u=this.S('label[for="'+n.getAttribute("id")+'"]'),p=a?n.value.length>0:!0;r=l.is("label")?l.parent():l,h&&a?s.push(this.valid_radio(n,a)):c&&a?s.push(this.valid_checkbox(n,a)):d&&a?s.push(this.valid_equal(n,a,r)):t[i][1].test(o)&&p||!a&&n.value.length<1?(this.S(n).removeAttr(this.invalid_attr),r.removeClass("error"),u.length>0&&this.settings.error_labels&&u.removeClass("error"),s.push(!0),e(n).triggerHandler("valid")):(this.S(n).attr(this.invalid_attr,""),r.addClass("error"),u.length>0&&this.settings.error_labels&&u.addClass("error"),s.push(!1),e(n).triggerHandler("invalid"))}return s},valid_checkbox:function(e,t){var e=this.S(e),i=e.is(":checked")||!t;return i?e.removeAttr(this.invalid_attr).parent().removeClass("error"):e.attr(this.invalid_attr,"").parent().addClass("error"),i},valid_radio:function(e){for(var t=e.getAttribute("name"),s=i.getElementsByName(t),r=s.length,n=!1,a=0;r>a;a++)s[a].checked&&(n=!0);for(var a=0;r>a;a++)n?this.S(s[a]).removeAttr(this.invalid_attr).parent().removeClass("error"):this.S(s[a]).attr(this.invalid_attr,"").parent().addClass("error");return n},valid_equal:function(e,t,s){var r=i.getElementById(e.getAttribute(this.add_namespace("data-equalto"))).value,n=e.value,a=r===n;return a?(this.S(e).removeAttr(this.invalid_attr),s.removeClass("error")):(this.S(e).attr(this.invalid_attr,""),s.addClass("error")),a}}}(jQuery,this,this.document),function(e){"use strict";Foundation.libs.accordion={name:"accordion",version:"5.1.1",settings:{active_class:"active",toggleable:!0},init:function(e,t,i){this.bindings(t,i)},events:function(){var t=this,i=this.S;i(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > dd > a",function(s){var r=i(this).closest("["+t.attr_name()+"]"),n=i("#"+this.href.split("#")[1]),a=i("dd > .content",r),o=e("> dd",r),l=r.data(t.attr_name(!0)+"-init"),d=i("dd > .content."+l.active_class,r),h=i("dd."+l.active_class,r);return s.preventDefault(),d[0]==n[0]&&l.toggleable?(h.toggleClass(l.active_class,!1),n.toggleClass(l.active_class,!1)):(a.removeClass(l.active_class),o.removeClass(l.active_class),void n.addClass(l.active_class).parent().addClass(l.active_class))})},off:function(){},reflow:function(){}}}(jQuery,this,this.document),function(e){"use strict";Foundation.libs.alert={name:"alert",version:"5.1.1",settings:{animation:"fadeOut",speed:300,callback:function(){}},init:function(e,t,i){this.bindings(t,i)},events:function(){var t=this,i=this.S;e(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] a.close",function(e){var s=i(this).closest("["+t.attr_name()+"]"),r=s.data(t.attr_name(!0)+"-init")||t.settings;e.preventDefault(),s[r.animation](r.speed,function(){i(this).trigger("closed").remove(),r.callback()})})},reflow:function(){}}}(jQuery,this,this.document),function(e,t,i,s){"use strict";Foundation.libs.clearing={name:"clearing",version:"5.1.1",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close",touch_label:"&larr;&nbsp;Swipe to Advance&nbsp;&rarr;",init:!1,locked:!1},init:function(e,t,i){var s=this;Foundation.inherit(this,"throttle image_loaded"),this.bindings(t,i),s.S(this.scope).is("["+this.attr_name()+"]")?this.assemble(s.S("li",this.scope)):s.S("["+this.attr_name()+"]",this.scope).each(function(){s.assemble(s.S("li",this))})},events:function(e){var i=this,s=i.S;s(this.scope).off(".clearing").on("click.fndtn.clearing","ul["+this.attr_name()+"] li",function(e,t,r){var t=t||s(this),r=r||t,n=t.next("li"),a=t.closest("["+i.attr_name()+"]").data(i.attr_name(!0)+"-init"),o=s(e.target);e.preventDefault(),a||(i.init(),a=t.closest("["+i.attr_name()+"]").data(i.attr_name(!0)+"-init")),r.hasClass("visible")&&t[0]===r[0]&&n.length>0&&i.is_open(t)&&(r=n,o=s("img",r)),i.open(o,t,r),i.update_paddles(r)}).on("click.fndtn.clearing",".clearing-main-next",function(e){i.nav(e,"next")}).on("click.fndtn.clearing",".clearing-main-prev",function(e){i.nav(e,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(e){Foundation.libs.clearing.close(e,this)}).on("keydown.fndtn.clearing",function(e){i.keydown(e)}),s(t).off(".clearing").on("resize.fndtn.clearing",function(){i.resize()}),this.swipe_events(e)},swipe_events:function(){var e=this,t=e.S;t(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(e){e.touches||(e=e.originalEvent);var i={start_page_x:e.touches[0].pageX,start_page_y:e.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:s};t(this).data("swipe-transition",i),e.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(i){if(i.touches||(i=i.originalEvent),!(i.touches.length>1||i.scale&&1!==i.scale)){var s=t(this).data("swipe-transition");if("undefined"==typeof s&&(s={}),s.delta_x=i.touches[0].pageX-s.start_page_x,"undefined"==typeof s.is_scrolling&&(s.is_scrolling=!!(s.is_scrolling||Math.abs(s.delta_x)<Math.abs(i.touches[0].pageY-s.start_page_y))),!s.is_scrolling&&!s.active){i.preventDefault();var r=s.delta_x<0?"next":"prev";s.active=!0,e.nav(i,r)}}}).on("touchend.fndtn.clearing",".visible-img",function(e){t(this).data("swipe-transition",{}),e.stopPropagation()})},assemble:function(t){var i=t.parent();if(!i.parent().hasClass("carousel")){i.after('<div id="foundationClearingHolder"></div>');var s=this.S("#foundationClearingHolder"),r=i.data(this.attr_name(!0)+"-init"),n=i.detach(),a={grid:'<div class="carousel">'+n[0].outerHTML+"</div>",viewing:r.templates.viewing},o='<div class="clearing-assembled"><div>'+a.viewing+a.grid+"</div></div>",l=this.settings.touch_label;Modernizr.touch&&(o=e(o).find(".clearing-touch-label").html(l).end()),s.after(o).remove()}},open:function(e,t,i){var s=this,r=i.closest(".clearing-assembled"),n=s.S("div",r).first(),a=s.S(".visible-img",n),o=s.S("img",a).not(e),l=s.S(".clearing-touch-label",n);
this.locked()||(o.attr("src",this.load(e)).css("visibility","hidden"),this.image_loaded(o,function(){o.css("visibility","visible"),r.addClass("clearing-blackout"),n.addClass("clearing-container"),a.show(),this.fix_height(i).caption(s.S(".clearing-caption",a),e).center_and_label(o,l).shift(t,i,function(){i.siblings().removeClass("visible"),i.addClass("visible")})}.bind(this)))},close:function(t,i){t.preventDefault();var s,r,n=function(e){return/blackout/.test(e.selector)?e:e.closest(".clearing-blackout")}(e(i));return i===t.target&&n&&(s=e("div",n).first(),r=e(".visible-img",s),this.settings.prev_index=0,e("ul["+this.attr_name()+"]",n).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),s.removeClass("clearing-container"),r.hide()),!1},is_open:function(e){return e.parent().prop("style").length>0},keydown:function(t){var i=e("ul["+this.attr_name()+"]",".clearing-blackout"),s=this.rtl?37:39,r=this.rtl?39:37,n=27;t.which===s&&this.go(i,"next"),t.which===r&&this.go(i,"prev"),t.which===n&&this.S("a.clearing-close").trigger("click")},nav:function(t,i){var s=e("ul["+this.attr_name()+"]",".clearing-blackout");t.preventDefault(),this.go(s,i)},resize:function(){var t=e("img",".clearing-blackout .visible-img"),i=e(".clearing-touch-label",".clearing-blackout");t.length&&this.center_and_label(t,i)},fix_height:function(e){var t=e.parent().children(),i=this;return t.each(function(){var e=i.S(this),t=e.find("img");e.height()>t.outerHeight()&&e.addClass("fix-height")}).closest("ul").width(100*t.length+"%"),this},update_paddles:function(e){var t=e.closest(".carousel").siblings(".visible-img");e.next().length>0?this.S(".clearing-main-next",t).removeClass("disabled"):this.S(".clearing-main-next",t).addClass("disabled"),e.prev().length>0?this.S(".clearing-main-prev",t).removeClass("disabled"):this.S(".clearing-main-prev",t).addClass("disabled")},center_and_label:function(e,t){return this.rtl?(e.css({marginRight:-(e.outerWidth()/2),marginTop:-(e.outerHeight()/2),left:"auto",right:"50%"}),t.css({marginRight:-(t.outerWidth()/2),marginTop:-(e.outerHeight()/2)-t.outerHeight()-10,left:"auto",right:"50%"})):(e.css({marginLeft:-(e.outerWidth()/2),marginTop:-(e.outerHeight()/2)}),t.css({marginLeft:-(t.outerWidth()/2),marginTop:-(e.outerHeight()/2)-t.outerHeight()-10})),this},load:function(e){if("A"===e[0].nodeName)var t=e.attr("href");else var t=e.parent().attr("href");return this.preload(e),t?t:e.attr("src")},preload:function(e){this.img(e.closest("li").next()).img(e.closest("li").prev())},img:function(e){if(e.length){var t=new Image,i=this.S("a",e);t.src=i.length?i.attr("href"):this.S("img",e).attr("src")}return this},caption:function(e,t){var i=t.data("caption");return i?e.html(i).show():e.text("").hide(),this},go:function(e,t){var i=this.S(".visible",e),s=i[t]();s.length&&this.S("img",s).trigger("click",[i,s])},shift:function(e,t,i){var s,r=t.parent(),n=this.settings.prev_index||t.index(),a=this.direction(r,e,t),o=this.rtl?"right":"left",l=parseInt(r.css("left"),10),d=t.outerWidth(),h={};t.index()===n||/skip/.test(a)?/skip/.test(a)&&(s=t.index()-this.settings.up_count,this.lock(),s>0?(h[o]=-(s*d),r.animate(h,300,this.unlock())):(h[o]=0,r.animate(h,300,this.unlock()))):/left/.test(a)?(this.lock(),h[o]=l+d,r.animate(h,300,this.unlock())):/right/.test(a)&&(this.lock(),h[o]=l-d,r.animate(h,300,this.unlock())),i()},direction:function(e,t,i){var s,r=this.S("li",e),n=r.outerWidth()+r.outerWidth()/4,a=Math.floor(this.S(".clearing-container").outerWidth()/n)-1,o=r.index(i);return this.settings.up_count=a,s=this.adjacent(this.settings.prev_index,o)?o>a&&o>this.settings.prev_index?"right":o>a-1&&o<=this.settings.prev_index?"left":!1:"skip",this.settings.prev_index=o,s},adjacent:function(e,t){for(var i=t+1;i>=t-1;i--)if(i===e)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){this.S(this.scope).off(".fndtn.clearing"),this.S(t).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,this,this.document),function(e,t){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.1.1",settings:{active_class:"open",is_hover:!1,opened:function(){},closed:function(){}},init:function(e,t,i){Foundation.inherit(this,"throttle"),this.bindings(t,i)},events:function(){var i=this,s=i.S;s(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(e){var t=s(this).data(i.attr_name(!0)+"-init")||i.settings;e.preventDefault(),(!t.is_hover||Modernizr.touch)&&i.toggle(s(this))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(e){var t=s(this);if(clearTimeout(i.timeout),t.data(i.data_attr()))var r=s("#"+t.data(i.data_attr())),n=t;else{var r=t;n=s("["+i.attr_name()+"='"+r.attr("id")+"']")}var a=n.data(i.attr_name(!0)+"-init")||i.settings;s(e.target).data(i.data_attr())&&a.is_hover&&i.closeall.call(i),a.is_hover&&i.open.apply(i,[r,n])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var e=s(this);i.timeout=setTimeout(function(){if(e.data(i.data_attr())){var t=e.data(i.data_attr(!0)+"-init")||i.settings;t.is_hover&&i.close.call(i,s("#"+e.data(i.data_attr())))}else{var r=s("["+i.attr_name()+'="'+s(this).attr("id")+'"]'),t=r.data(i.attr_name(!0)+"-init")||i.settings;t.is_hover&&i.close.call(i,e)}}.bind(this),150)}).on("click.fndtn.dropdown",function(t){var r=s(t.target).closest("["+i.attr_name()+"-content]");if(!s(t.target).data(i.data_attr())&&!s(t.target).parent().data(i.data_attr()))return!s(t.target).data("revealId")&&r.length>0&&(s(t.target).is("["+i.attr_name()+"-content]")||e.contains(r.first()[0],t.target))?void t.stopPropagation():void i.close.call(i,s("["+i.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+i.attr_name()+"-content]",function(){i.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+i.attr_name()+"-content]",function(){i.settings.closed.call(this)}),s(t).off(".dropdown").on("resize.fndtn.dropdown",i.throttle(function(){i.resize.call(i)},50)).trigger("resize")},close:function(e){var t=this;e.each(function(){t.S(this).hasClass(t.settings.active_class)&&(t.S(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(t.settings.active_class),t.S(this).trigger("closed"))})},closeall:function(){var t=this;e.each(t.S("["+this.attr_name()+"-content]"),function(){t.close.call(t,t.S(this))})},open:function(e,t){this.css(e.addClass(this.settings.active_class),t),e.trigger("opened")},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(e){var t=this.S("#"+e.data(this.data_attr()));0!==t.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(t)),t.hasClass(this.settings.active_class)?this.close.call(this,t):(this.close.call(this,this.S("["+this.attr_name()+"-content]")),this.open.call(this,t,e)))},resize:function(){var e=this.S("["+this.attr_name()+"-content].open"),t=this.S("["+this.attr_name()+"='"+e.attr("id")+"']");e.length&&t.length&&this.css(e,t)},css:function(e,i){var s=e.offsetParent(),r=i.offset();if(r.top-=s.offset().top,r.left-=s.offset().left,this.small())e.css({position:"absolute",width:"95%","max-width":"none",top:r.top+i.outerHeight()}),e.css(Foundation.rtl?"right":"left","2.5%");else{if(!Foundation.rtl&&this.S(t).width()>e.outerWidth()+i.offset().left){var n=r.left;e.hasClass("right")&&e.removeClass("right")}else{e.hasClass("right")||e.addClass("right");var n=r.left-(e.outerWidth()-i.outerWidth())}e.attr("style","").css({position:"absolute",top:r.top+i.outerHeight(),left:n})}return e},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(t).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown"),this.settings.init=!1},reflow:function(){}}}(jQuery,this,this.document),function(e,t){"use strict";Foundation.libs.interchange={name:"interchange",version:"5.1.1",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen",small:Foundation.media_queries.small,medium:Foundation.media_queries.medium,large:Foundation.media_queries.large,xlarge:Foundation.media_queries.xlarge,xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(t,i,s){if(/IMG/.test(t[0].nodeName)){var r=t[0].src;if(new RegExp(i,"i").test(r))return;return t[0].src=i,s(t[0].src)}var n=t.data(this.data_attr+"-last-path");if(n!=i)return e.get(i,function(e){t.html(e),t.data(this.data_attr+"-last-path",i),s()})}}},init:function(t,i,s){Foundation.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),e.extend(!0,this.settings,i,s),this.bindings(i,s),this.load("images"),this.load("nodes")},events:function(){var i=this;return e(t).off(".interchange").on("resize.fndtn.interchange",i.throttle(function(){i.resize()},50)),this},resize:function(){var t=this.cache;if(!this.images_loaded||!this.nodes_loaded)return void setTimeout(e.proxy(this.resize,this),50);for(var i in t)if(t.hasOwnProperty(i)){var s=this.results(i,t[i]);s&&this.settings.directives[s.scenario[1]].call(this,s.el,s.scenario[0],function(){if(arguments[0]instanceof Array)var e=arguments[0];else var e=Array.prototype.slice.call(arguments,0);s.el.trigger(s.scenario[1],e)})}},results:function(e,t){var i=t.length;if(i>0)for(var s=this.S("["+this.add_namespace("data-uuid")+'="'+e+'"]');i--;){var r,n=t[i][2];if(r=matchMedia(this.settings.named_queries.hasOwnProperty(n)?this.settings.named_queries[n]:n),r.matches)return{el:s,scenario:t[i]}}return!1},load:function(e,t){return("undefined"==typeof this["cached_"+e]||t)&&this["update_"+e](),this["cached_"+e]},update_images:function(){var e=this.S("img["+this.data_attr+"]"),t=e.length,i=t,s=0,r=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===t;i--;){if(s++,e[i]){var n=e[i].getAttribute(r)||"";n.length>0&&this.cached_images.push(e[i])}s===t&&(this.images_loaded=!0,this.enhance("images"))}return this},update_nodes:function(){var e=this.S("["+this.data_attr+"]").not("img"),t=e.length,i=t,s=0,r=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===t;i--;){s++;var n=e[i].getAttribute(r)||"";n.length>0&&this.cached_nodes.push(e[i]),s===t&&(this.nodes_loaded=!0,this.enhance("nodes"))}return this},enhance:function(i){for(var s=this["cached_"+i].length;s--;)this.object(e(this["cached_"+i][s]));return e(t).trigger("resize")},parse_params:function(e,t,i){return[this.trim(e),this.convert_directive(t),this.trim(i)]},convert_directive:function(e){var t=this.trim(e);return t.length>0?t:"replace"},object:function(e){var t=this.parse_data_attr(e),i=[],s=t.length;if(s>0)for(;s--;){var r=t[s].split(/\((.*?)(\))$/);if(r.length>1){var n=r[0].split(","),a=this.parse_params(n[0],n[1],r[1]);i.push(a)}}return this.store(e,i)},uuid:function(e){function t(){return s.random_str(6)}var i=e||"-",s=this;return t()+t()+i+t()+i+t()+i+t()+i+t()+t()+t()},store:function(e,t){var i=this.uuid(),s=e.data(this.add_namespace("uuid",!0));return this.cache[s]?this.cache[s]:(e.attr(this.add_namespace("data-uuid"),i),this.cache[i]=t)},trim:function(t){return"string"==typeof t?e.trim(t):t},set_data_attr:function(e){return e?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(e){for(var t=e.attr(this.attr_name()).split(/\[(.*?)\]/),i=t.length,s=[];i--;)t[i].replace(/[\W\d]+/,"").length>4&&s.push(t[i]);return s},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,this,this.document),function(e,t,i,s){"use strict";Foundation.libs.joyride={name:"joyride",version:"5.1.1",defaults:{expose:!1,modal:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(e,t,i){Foundation.inherit(this,"throttle random_str"),this.settings=this.defaults,this.bindings(t,i)},events:function(){var i=this;e(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(e){e.preventDefault(),this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(e){e.preventDefault(),this.end()}.bind(this)),e(t).off(".joyride").on("resize.fndtn.joyride",i.throttle(function(){if(e("["+i.attr_name()+"]").length>0&&i.settings.$next_tip){if(i.settings.exposed.length>0){var t=e(i.settings.exposed);t.each(function(){var t=e(this);i.un_expose(t),i.expose(t)})}i.is_phone()?i.pos_phone():i.pos_default(!1,!0)}},100))},start:function(){var t=this,i=e("["+this.attr_name()+"]",this.scope),s=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],r=s.length;!i.length>0||(this.settings.init||this.events(),this.settings=i.data(this.attr_name(!0)+"-init"),this.settings.$content_el=i,this.settings.$body=e(this.settings.tip_container),this.settings.body_offset=e(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,"function"!=typeof e.cookie&&(this.settings.cookie_monster=!1),(!this.settings.cookie_monster||this.settings.cookie_monster&&!e.cookie(this.settings.cookie_name))&&(this.settings.$tip_content.each(function(i){var n=e(this);this.settings=e.extend({},t.defaults,t.data_options(n));for(var a=r;a--;)t.settings[s[a]]=parseInt(t.settings[s[a]],10);t.create({$li:n,index:i})}),!this.settings.start_timer_on_click&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init")))},resume:function(){this.set_li(),this.show()},tip_template:function(t){var i,s;return t.tip_class=t.tip_class||"",i=e(this.settings.template.tip).addClass(t.tip_class),s=e.trim(e(t.li).html())+this.button_text(t.button_text)+this.settings.template.link+this.timer_instance(t.index),i.append(e(this.settings.template.wrapper)),i.first().attr(this.add_namespace("data-index"),t.index),e(".joyride-content-wrapper",i).append(s),i[0]},timer_instance:function(t){var i;return i=0===t&&this.settings.start_timer_on_click&&this.settings.timer>0||0===this.settings.timer?"":e(this.settings.template.timer)[0].outerHTML},button_text:function(t){return this.settings.next_button?(t=e.trim(t)||"Next",t=e(this.settings.template.button).append(t)[0].outerHTML):t="",t},create:function(t){console.log(t.$li);var i=t.$li.attr(this.add_namespace("data-button"))||t.$li.attr(this.add_namespace("data-text")),s=t.$li.attr("class"),r=e(this.tip_template({tip_class:s,index:t.index,button_text:i,li:t.$li}));e(this.settings.tip_container).append(r)},show:function(t){var i=null;this.settings.$li===s||-1===e.inArray(this.settings.$li.index(),this.settings.pause_after)?(this.settings.paused?this.settings.paused=!1:this.set_li(t),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0?(t&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=e.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],/body/i.test(this.settings.$target.selector)||this.scroll_to(),this.is_phone()?this.pos_phone(!0):this.pos_default(!0),i=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?(i.width(0),this.settings.timer>0?(this.settings.$next_tip.show(),setTimeout(function(){i.animate({width:i.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&(i.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),setTimeout(function(){i.animate({width:i.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fadeSpeed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip):this.settings.$li&&this.settings.$target.length<1?this.show():this.end()):this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||e(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout(e.proxy(function(){this.hide(),this.css("visibility","visible")},this.settings.$current_tip),0),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(e){e?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=e(".joyride-tip-guide").eq(this.settings.$li.index()),this.settings.$next_tip.data("closed","")},set_target:function(){console.log(this.add_namespace("data-class"));var t=this.settings.$li.attr(this.add_namespace("data-class")),s=this.settings.$li.attr(this.add_namespace("data-id")),r=function(){return s?e(i.getElementById(s)):t?e("."+t).first():e("body")};console.log(t,s),this.settings.$target=r()},scroll_to:function(){var i,s;i=e(t).height()/2,s=Math.ceil(this.settings.$target.offset().top-i+this.settings.$next_tip.outerHeight()),0!=s&&e("html, body").animate({scrollTop:s},this.settings.scroll_speed,"swing")},paused:function(){return-1===e.inArray(this.settings.$li.index()+1,this.settings.pause_after)},restart:function(){this.hide(),this.settings.$li=s,this.show("init")},pos_default:function(i,s){var r=(Math.ceil(e(t).height()/2),this.settings.$next_tip.offset(),this.settings.$next_tip.find(".joyride-nub")),n=Math.ceil(r.outerWidth()/2),a=Math.ceil(r.outerHeight()/2),o=i||!1;o&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),"undefined"==typeof s&&(s=!1),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(r):(this.bottom()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top+a+this.settings.$target.outerHeight(),left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}:{top:this.settings.$target.offset().top+a+this.settings.$target.outerHeight(),left:this.settings.$target.offset().left}),this.nub_position(r,this.settings.tip_settings.nub_position,"top")):this.top()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-a,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}:{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-a,left:this.settings.$target.offset().left}),this.nub_position(r,this.settings.tip_settings.nub_position,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top,left:this.outerWidth(this.settings.$target)+this.settings.$target.offset().left+n}),this.nub_position(r,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top,left:this.settings.$target.offset().left-this.outerWidth(this.settings.$next_tip)-n}),this.nub_position(r,this.settings.tip_settings.nub_position,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&(r.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())),o&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(t){var i=this.settings.$next_tip.outerHeight(),s=(this.settings.$next_tip.offset(),this.settings.$target.outerHeight()),r=e(".joyride-nub",this.settings.$next_tip),n=Math.ceil(r.outerHeight()/2),a=t||!1;r.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),a&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(r):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-i-n}),r.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+s+n}),r.addClass("top")),a&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(e){this.center(),e.hide(),this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var t=e(".joyride-modal-bg");t.length<1&&e("body").append(this.settings.template.modal).show(),/pop/i.test(this.settings.tip_animation)?t.show():t.fadeIn(this.settings.tip_animation_fade_speed)}},expose:function(){var i,s,r,n,a,o="expose-"+this.random_str(6);if(arguments.length>0&&arguments[0]instanceof e)r=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;r=this.settings.$target}return r.length<1?(t.console&&console.error("element not valid",r),!1):(i=e(this.settings.template.expose),this.settings.$body.append(i),i.css({top:r.offset().top,left:r.offset().left,width:r.outerWidth(!0),height:r.outerHeight(!0)}),s=e(this.settings.template.expose_cover),n={zIndex:r.css("z-index"),position:r.css("position")},a=null==r.attr("class")?"":r.attr("class"),r.css("z-index",parseInt(i.css("z-index"))+1),"static"==n.position&&r.css("position","relative"),r.data("expose-css",n),r.data("orig-class",a),r.attr("class",a+" "+this.settings.expose_add_class),s.css({top:r.offset().top,left:r.offset().left,width:r.outerWidth(!0),height:r.outerHeight(!0)}),this.settings.modal&&this.show_modal(),this.settings.$body.append(s),i.addClass(o),s.addClass(o),r.data("expose",o),this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,r),void this.add_exposed(r))},un_expose:function(){var i,s,r,n,a,o=!1;if(arguments.length>0&&arguments[0]instanceof e)s=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;s=this.settings.$target}return s.length<1?(t.console&&console.error("element not valid",s),!1):(i=s.data("expose"),r=e("."+i),arguments.length>1&&(o=arguments[1]),o===!0?e(".joyride-expose-wrapper,.joyride-expose-cover").remove():r.remove(),n=s.data("expose-css"),"auto"==n.zIndex?s.css("z-index",""):s.css("z-index",n.zIndex),n.position!=s.css("position")&&("static"==n.position?s.css("position",""):s.css("position",n.position)),a=s.data("orig-class"),s.attr("class",a),s.removeData("orig-classes"),s.removeData("expose"),s.removeData("expose-z-index"),void this.remove_exposed(s))},add_exposed:function(t){this.settings.exposed=this.settings.exposed||[],t instanceof e||"object"==typeof t?this.settings.exposed.push(t[0]):"string"==typeof t&&this.settings.exposed.push(t)},remove_exposed:function(t){var i,s;for(t instanceof e?i=t[0]:"string"==typeof t&&(i=t),this.settings.exposed=this.settings.exposed||[],s=this.settings.exposed.length;s--;)if(this.settings.exposed[s]==i)return void this.settings.exposed.splice(s,1)},center:function(){var i=e(t);return this.settings.$next_tip.css({top:(i.height()-this.settings.$next_tip.outerHeight())/2+i.scrollTop(),left:(i.width()-this.settings.$next_tip.outerWidth())/2+i.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(i){var s=e(t),r=s.height()/2,n=Math.ceil(this.settings.$target.offset().top-r+this.settings.$next_tip.outerHeight()),a=s.width()+s.scrollLeft(),o=s.height()+n,l=s.height()+s.scrollTop(),d=s.scrollTop();return d>n&&(d=0>n?0:n),o>l&&(l=o),[i.offset().top<d,a<i.offset().left+i.outerWidth(),l<i.offset().top+i.outerHeight(),s.scrollLeft()>i.offset().left]},visible:function(e){for(var t=e.length;t--;)if(e[t])return!1;return!0},nub_position:function(e,t,i){e.addClass("auto"===t?i:t)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(){this.settings.cookie_monster&&e.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.$next_tip.data("closed",!0),e(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip),e(".joyride-tip-guide").remove()},off:function(){e(this.scope).off(".joyride"),e(t).off(".joyride"),e(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),e(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}},reflow:function(){}}}(jQuery,this,this.document),function(e,t){"use strict";Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.1.1",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30},init:function(e,t,i){Foundation.inherit(this,"throttle"),this.bindings(t,i)},events:function(){var i=this,s=i.S,r=i.settings;i.set_expedition_position(),s(i.scope).off(".magellan").on("click.fndtn.magellan","["+i.add_namespace("data-magellan-arrival")+'] a[href^="#"]',function(s){s.preventDefault();var r=e(this).closest("["+i.attr_name()+"]"),n=(r.data("magellan-expedition-init"),this.hash.split("#").join("")),a=e("a[name="+n+"]");0===a.length&&(a=e("#"+n));var o=a.offset().top;"fixed"===r.css("position")&&(o-=r.outerHeight()),e("html, body").stop().animate({scrollTop:o},700,"swing",function(){t.location.hash="#"+n})}).on("scroll.fndtn.magellan",i.throttle(this.check_for_arrivals.bind(this),r.throttle_delay)).on("resize.fndtn.magellan",i.throttle(this.set_expedition_position.bind(this),r.throttle_delay))},check_for_arrivals:function(){var e=this;e.update_arrivals(),e.update_expedition_positions()},set_expedition_position:function(){var t=this;e("["+this.attr_name()+"=fixed]",t.scope).each(function(){var i,s=e(this),r=s.attr("styles");s.attr("style",""),i=s.offset().top,s.data(t.data_attr("magellan-top-offset"),i),s.attr("style",r)})},update_expedition_positions:function(){var i=this,s=e(t).scrollTop();e("["+this.attr_name()+"=fixed]",i.scope).each(function(){var t=e(this),r=t.data("magellan-top-offset");if(s>=r){var n=t.prev("["+i.add_namespace("data-magellan-expedition-clone")+"]");0===n.length&&(n=t.clone(),n.removeAttr(i.attr_name()),n.attr(i.add_namespace("data-magellan-expedition-clone"),""),t.before(n)),t.css({position:"fixed",top:0})}else t.prev("["+i.add_namespace("data-magellan-expedition-clone")+"]").remove(),t.attr("style","")})},update_arrivals:function(){var i=this,s=e(t).scrollTop();e("["+this.attr_name()+"]",i.scope).each(function(){var t=e(this),r=r=t.data(i.attr_name(!0)+"-init"),n=i.offsets(t,s),a=t.find("["+i.add_namespace("data-magellan-arrival")+"]"),o=!1;n.each(function(e,s){if(s.viewport_offset>=s.top_offset){var n=t.find("["+i.add_namespace("data-magellan-arrival")+"]");return n.not(s.arrival).removeClass(r.active_class),s.arrival.addClass(r.active_class),o=!0,!0}}),o||a.removeClass(r.active_class)})},offsets:function(t,i){var s=this,r=t.data(s.attr_name(!0)+"-init"),n=i+r.destination_threshold;return t.find("["+s.add_namespace("data-magellan-arrival")+"]").map(function(){var t=e(this).data(s.data_attr("magellan-arrival")),i=e("["+s.add_namespace("data-magellan-destination")+"="+t+"]");if(i.length>0){var r=i.offset().top;return{destination:i,arrival:e(this),top_offset:r,viewport_offset:n}}}).sort(function(e,t){return e.top_offset<t.top_offset?-1:e.top_offset>t.top_offset?1:0})},data_attr:function(e){return this.namespace.length>0?this.namespace+"-"+e:e},off:function(){this.S(this.scope).off(".magellan"),this.S(t).off(".magellan")},reflow:function(){var t=this;e("["+t.add_namespace("data-magellan-expedition-clone")+"]",t.scope).remove()}}}(jQuery,this,this.document),function(){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.1.1",settings:{},init:function(){this.events()},events:function(){var e=this.S;e(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(t){t.preventDefault(),e(this).closest(".off-canvas-wrap").toggleClass("move-right")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(t){t.preventDefault(),e(".off-canvas-wrap").removeClass("move-right")}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(t){t.preventDefault(),e(this).closest(".off-canvas-wrap").toggleClass("move-left")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(t){t.preventDefault(),e(".off-canvas-wrap").removeClass("move-left")})},reflow:function(){}}}(jQuery,this,this.document),function(e,t,i,s){"use strict";var r=function(){},n=function(r,n){if(r.hasClass(n.slides_container_class))return this;var d,h,c,u,p,f,m=this,g=r,v=0,b=!1;m.slides=function(){return g.children(n.slide_selector)},m.slides().first().addClass(n.active_slide_class),m.update_slide_number=function(t){n.slide_number&&(h.find("span:first").text(parseInt(t)+1),h.find("span:last").text(m.slides().length)),n.bullets&&(c.children().removeClass(n.bullets_active_class),e(c.children().get(t)).addClass(n.bullets_active_class))},m.update_active_link=function(t){var i=e('a[data-orbit-link="'+m.slides().eq(t).attr("data-orbit-slide")+'"]');i.siblings().removeClass(n.bullets_active_class),i.addClass(n.bullets_active_class)},m.build_markup=function(){g.wrap('<div class="'+n.container_class+'"></div>'),d=g.parent(),g.addClass(n.slides_container_class),n.navigation_arrows&&(d.append(e('<a href="#"><span></span></a>').addClass(n.prev_class)),d.append(e('<a href="#"><span></span></a>').addClass(n.next_class))),n.timer&&(u=e("<div>").addClass(n.timer_container_class),u.append("<span>"),u.append(e("<div>").addClass(n.timer_progress_class)),u.addClass(n.timer_paused_class),d.append(u)),n.slide_number&&(h=e("<div>").addClass(n.slide_number_class),h.append("<span></span> "+n.slide_number_text+" <span></span>"),d.append(h)),n.bullets&&(c=e("<ol>").addClass(n.bullets_container_class),d.append(c),c.wrap('<div class="orbit-bullets-container"></div>'),m.slides().each(function(t){var i=e("<li>").attr("data-orbit-slide",t);
c.append(i)})),n.stack_on_small&&d.addClass(n.stack_on_small_class)},m._goto=function(t,i){if(t===v)return!1;"object"==typeof f&&f.restart();var s=m.slides(),r="next";if(b=!0,v>t&&(r="prev"),t>=s.length){if(!n.circular)return!1;t=0}else if(0>t){if(!n.circular)return!1;t=s.length-1}var a=e(s.get(v)),o=e(s.get(t));a.css("zIndex",2),a.removeClass(n.active_slide_class),o.css("zIndex",4).addClass(n.active_slide_class),g.trigger("before-slide-change.fndtn.orbit"),n.before_slide_change(),m.update_active_link(t);var l=function(){var e=function(){v=t,b=!1,i===!0&&(f=m.create_timer(),f.start()),m.update_slide_number(v),g.trigger("after-slide-change.fndtn.orbit",[{slide_number:v,total_slides:s.length}]),n.after_slide_change(v,s.length)};g.height()!=o.height()&&n.variable_height?g.animate({height:o.height()},250,"linear",e):e()};if(1===s.length)return l(),!1;var d=function(){"next"===r&&p.next(a,o,l),"prev"===r&&p.prev(a,o,l)};o.height()>g.height()&&n.variable_height?g.animate({height:o.height()},250,"linear",d):d()},m.next=function(e){e.stopImmediatePropagation(),e.preventDefault(),m._goto(v+1)},m.prev=function(e){e.stopImmediatePropagation(),e.preventDefault(),m._goto(v-1)},m.link_custom=function(t){t.preventDefault();var i=e(this).attr("data-orbit-link");if("string"==typeof i&&""!=(i=e.trim(i))){var s=d.find("[data-orbit-slide="+i+"]");-1!=s.index()&&m._goto(s.index())}},m.link_bullet=function(){var t=e(this).attr("data-orbit-slide");if("string"==typeof t&&""!=(t=e.trim(t)))if(isNaN(parseInt(t))){var i=d.find("[data-orbit-slide="+t+"]");-1!=i.index()&&m._goto(i.index()+1)}else m._goto(parseInt(t))},m.timer_callback=function(){m._goto(v+1,!0)},m.compute_dimensions=function(){var t=e(m.slides().get(v)),i=t.height();n.variable_height||m.slides().each(function(){e(this).height()>i&&(i=e(this).height())}),g.height(i)},m.create_timer=function(){var e=new a(d.find("."+n.timer_container_class),n,m.timer_callback);return e},m.stop_timer=function(){"object"==typeof f&&f.stop()},m.toggle_timer=function(){var e=d.find("."+n.timer_container_class);e.hasClass(n.timer_paused_class)?("undefined"==typeof f&&(f=m.create_timer()),f.start()):"object"==typeof f&&f.stop()},m.init=function(){m.build_markup(),n.timer&&(f=m.create_timer(),Foundation.utils.image_loaded(this.slides().children("img"),f.start)),p=new l(n,g),"slide"===n.animation&&(p=new o(n,g)),d.on("click","."+n.next_class,m.next),d.on("click","."+n.prev_class,m.prev),d.on("click","[data-orbit-slide]",m.link_bullet),d.on("click",m.toggle_timer),n.swipe&&d.on("touchstart.fndtn.orbit",function(e){e.touches||(e=e.originalEvent);var t={start_page_x:e.touches[0].pageX,start_page_y:e.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:s};d.data("swipe-transition",t),e.stopPropagation()}).on("touchmove.fndtn.orbit",function(e){if(e.touches||(e=e.originalEvent),!(e.touches.length>1||e.scale&&1!==e.scale)){var t=d.data("swipe-transition");if("undefined"==typeof t&&(t={}),t.delta_x=e.touches[0].pageX-t.start_page_x,"undefined"==typeof t.is_scrolling&&(t.is_scrolling=!!(t.is_scrolling||Math.abs(t.delta_x)<Math.abs(e.touches[0].pageY-t.start_page_y))),!t.is_scrolling&&!t.active){e.preventDefault();var i=t.delta_x<0?v+1:v-1;t.active=!0,m._goto(i)}}}).on("touchend.fndtn.orbit",function(e){d.data("swipe-transition",{}),e.stopPropagation()}),d.on("mouseenter.fndtn.orbit",function(){n.timer&&n.pause_on_hover&&m.stop_timer()}).on("mouseleave.fndtn.orbit",function(){n.timer&&n.resume_on_mouseout&&f.start()}),e(i).on("click","[data-orbit-link]",m.link_custom),e(t).on("resize",m.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),m.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),function(){d.prev(".preloader").css("display","none"),m.update_slide_number(0),m.update_active_link(0),g.trigger("ready.fndtn.orbit")})},m.init()},a=function(e,t,i){var s,r,n=this,a=t.timer_speed,o=e.find("."+t.timer_progress_class),l=-1;this.update_progress=function(e){var t=o.clone();t.attr("style",""),t.css("width",e+"%"),o.replaceWith(t),o=t},this.restart=function(){clearTimeout(r),e.addClass(t.timer_paused_class),l=-1,n.update_progress(0)},this.start=function(){return e.hasClass(t.timer_paused_class)?(l=-1===l?a:l,e.removeClass(t.timer_paused_class),s=(new Date).getTime(),o.animate({width:"100%"},l,"linear"),r=setTimeout(function(){n.restart(),i()},l),void e.trigger("timer-started.fndtn.orbit")):!0},this.stop=function(){if(e.hasClass(t.timer_paused_class))return!0;clearTimeout(r),e.addClass(t.timer_paused_class);var i=(new Date).getTime();l-=i-s;var o=100-l/a*100;n.update_progress(o),e.trigger("timer-stopped.fndtn.orbit")}},o=function(t){var i=t.animation_speed,s=1===e("html[dir=rtl]").length,r=s?"marginRight":"marginLeft",n={};n[r]="0%",this.next=function(e,t,s){e.animate({marginLeft:"-100%"},i),t.animate(n,i,function(){e.css(r,"100%"),s()})},this.prev=function(e,t,s){e.animate({marginLeft:"100%"},i),t.css(r,"-100%"),t.animate(n,i,function(){e.css(r,"100%"),s()})}},l=function(t){{var i=t.animation_speed;1===e("html[dir=rtl]").length}this.next=function(e,t,s){t.css({margin:"0%",opacity:"0.01"}),t.animate({opacity:"1"},i,"linear",function(){e.css("margin","100%"),s()})},this.prev=function(e,t,s){t.css({margin:"0%",opacity:"0.01"}),t.animate({opacity:"1"},i,"linear",function(){e.css("margin","100%"),s()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.1.1",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:r,after_slide_change:r},init:function(e,t,i){this.bindings(t,i)},events:function(e){var t=new n(this.S(e),this.S(e).data("orbit-init"));this.S(e).data(self.name+"-instance",t)},reflow:function(){var e=this;if(e.S(e.scope).is("[data-orbit]")){var t=e.S(e.scope),i=t.data(e.name+"-instance");i.compute_dimensions()}else e.S("[data-orbit]",e.scope).each(function(t,i){var s=e.S(i),r=(e.data_options(s),s.data(e.name+"-instance"));r.compute_dimensions()})}}}(jQuery,this,this.document),function(e,t,i,s){"use strict";Foundation.libs.reveal={name:"reveal",version:"5.1.1",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:e(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(t,i,s){e.extend(!0,this.settings,i,s),this.bindings(i,s)},events:function(){var e=this,t=e.S;return t(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]",function(i){if(i.preventDefault(),!e.locked){var s=t(this),r=s.data(e.data_attr("reveal-ajax"));if(e.locked=!0,"undefined"==typeof r)e.open.call(e,s);else{var n=r===!0?s.attr("href"):r;e.open.call(e,s,{url:n})}}}),t(i).on("click.fndtn.reveal",this.close_targets(),function(i){if(i.preventDefault(),!e.locked){var s=t("["+e.attr_name()+"].open").data(e.attr_name(!0)+"-init"),r=t(i.target)[0]===t("."+s.bg_class)[0];if(r&&!s.close_on_background_click)return;e.locked=!0,e.close.call(e,r?t("["+e.attr_name()+"].open"):t(this).closest("["+e.attr_name()+"]"))}}),t("["+e.attr_name()+"]",this.scope).length>0?t(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):t(this.scope).on("open.fndtn.reveal","["+e.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+e.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+e.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+e.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+e.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+e.attr_name()+"]",this.close_video),!0},key_up_on:function(){var e=this;return e.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(t){var i=e.S("["+e.attr_name()+"].open"),s=i.data(e.attr_name(!0)+"-init");s&&27===t.which&&s.close_on_esc&&!e.locked&&e.close.call(e,i)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(t,i){var s=this;if(t)if("undefined"!=typeof t.selector)var r=s.S("#"+t.data(s.data_attr("reveal-id")));else{var r=s.S(this.scope);i=t}else var r=s.S(this.scope);var n=r.data(s.attr_name(!0)+"-init");if(!r.hasClass("open")){var a=s.S("["+s.attr_name()+"].open");if("undefined"==typeof r.data("css-top")&&r.data("css-top",parseInt(r.css("top"),10)).data("offset",this.cache_offset(r)),this.key_up_on(r),r.trigger("open"),a.length<1&&this.toggle_bg(r),"string"==typeof i&&(i={url:i}),"undefined"!=typeof i&&i.url){var o="undefined"!=typeof i.success?i.success:null;e.extend(i,{success:function(t,i,l){if(e.isFunction(o)&&o(t,i,l),r.html(t),s.S(r).foundation("section","reflow"),a.length>0){var d=a.data(s.attr_name(!0));s.hide(a,d.css.close)}s.show(r,n.css.open)}}),e.ajax(i)}else{if(a.length>0){var l=a.data(s.attr_name(!0)+"-init");this.hide(a,l.css.close)}this.show(r,n.css.open)}}},close:function(e){var e=e&&e.length?e:this.S(this.scope),t=this.S("["+this.attr_name()+"].open"),i=e.data(this.attr_name(!0)+"-init");t.length>0&&(this.locked=!0,this.key_up_off(e),e.trigger("close"),this.toggle_bg(e),this.hide(t,i.css.close,i))},close_targets:function(){var e="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?e+", ."+this.settings.bg_class:e},toggle_bg:function(t){t.data(this.attr_name(!0));0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=e("<div />",{"class":this.settings.bg_class}).appendTo("body")),this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(i,s){if(s){var r=i.data(this.attr_name(!0)+"-init");if(0===i.parent("body").length){var n=i.wrap('<div style="display: none;" />').parent(),a=this.settings.rootElement||"body";i.on("closed.fndtn.reveal.wrapped",function(){i.detach().appendTo(n),i.unwrap().unbind("closed.fndtn.reveal.wrapped")}),i.detach().appendTo(a)}if(/pop/i.test(r.animation)){s.top=e(t).scrollTop()-i.data("offset")+"px";var o={top:e(t).scrollTop()+i.data("css-top")+"px",opacity:1};return setTimeout(function(){return i.css(s).animate(o,r.animation_speed,"linear",function(){this.locked=!1,i.trigger("opened")}.bind(this)).addClass("open")}.bind(this),r.animation_speed/2)}if(/fade/i.test(r.animation)){var o={opacity:1};return setTimeout(function(){return i.css(s).animate(o,r.animation_speed,"linear",function(){this.locked=!1,i.trigger("opened")}.bind(this)).addClass("open")}.bind(this),r.animation_speed/2)}return i.css(s).show().css({opacity:1}).addClass("open").trigger("opened")}var r=this.settings;return/fade/i.test(r.animation)?i.fadeIn(r.animation_speed/2):(this.locked=!1,i.show())},hide:function(i,s){if(s){var r=i.data(this.attr_name(!0)+"-init");if(/pop/i.test(r.animation)){var n={top:-e(t).scrollTop()-i.data("offset")+"px",opacity:0};return setTimeout(function(){return i.animate(n,r.animation_speed,"linear",function(){this.locked=!1,i.css(s).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),r.animation_speed/2)}if(/fade/i.test(r.animation)){var n={opacity:0};return setTimeout(function(){return i.animate(n,r.animation_speed,"linear",function(){this.locked=!1,i.css(s).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),r.animation_speed/2)}return i.hide().css(s).removeClass("open").trigger("closed")}var r=this.settings;return/fade/i.test(r.animation)?i.fadeOut(r.animation_speed/2):i.hide()},close_video:function(t){var i=e(".flex-video",t.target),s=e("iframe",i);s.length>0&&(s.attr("data-src",s[0].src),s.attr("src","about:blank"),i.hide())},open_video:function(t){var i=e(".flex-video",t.target),r=i.find("iframe");if(r.length>0){var n=r.attr("data-src");if("string"==typeof n)r[0].src=r.attr("data-src");else{var a=r[0].src;r[0].src=s,r[0].src=a}i.show()}},data_attr:function(e){return this.namespace.length>0?this.namespace+"-"+e:e},cache_offset:function(e){var t=e.show().height()+parseInt(e.css("top"),10);return e.hide(),t},off:function(){e(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,this,this.document),function(){"use strict";Foundation.libs.tab={name:"tab",version:"5.1.1",settings:{active_class:"active",callback:function(){}},init:function(e,t,i){this.bindings(t,i)},events:function(){var e=this,t=this.S;t(this.scope).off(".tab").on("click.fndtn.tab","["+this.attr_name()+"] > dd > a",function(i){i.preventDefault(),i.stopPropagation();var s=t(this).parent(),r=s.closest("["+e.attr_name()+"]"),n=t("#"+this.href.split("#")[1]),a=s.siblings(),o=r.data(e.attr_name(!0)+"-init");t(this).data(e.data_attr("tab-content"))&&(n=t("#"+t(this).data(e.data_attr("tab-content")).split("#")[1])),s.addClass(o.active_class).triggerHandler("opened"),a.removeClass(o.active_class),n.siblings().removeClass(o.active_class).end().addClass(o.active_class),o.callback(s),r.triggerHandler("toggled",[s])})},data_attr:function(e){return this.namespace.length>0?this.namespace+"-"+e:e},off:function(){},reflow:function(){}}}(jQuery,this,this.document),function(e,t,i){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.1.1",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,tip_template:function(e,t){return'<span data-selector="'+e+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'">'+t+'<span class="nub"></span></span>'}},cache:{},init:function(e,t,i){Foundation.inherit(this,"random_str"),this.bindings(t,i)},events:function(){var t=this,s=t.S;Modernizr.touch?s(i).off(".tooltip").on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip","["+this.attr_name()+"]:not(a)",function(i){var r=e.extend({},t.settings,t.data_options(s(this)));r.disable_for_touch||(i.preventDefault(),s(r.tooltip_class).hide(),t.showOrCreateTip(s(this)))}).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip",this.settings.tooltip_class,function(e){e.preventDefault(),s(this).fadeOut(150)}):s(i).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip","["+this.attr_name()+"]",function(e){var i=s(this);/enter|over/i.test(e.type)?this.timer=setTimeout(function(){t.showOrCreateTip(i)}.bind(this),t.settings.hover_delay):("mouseout"===e.type||"mouseleave"===e.type)&&(clearTimeout(this.timer),t.hide(i))})},showOrCreateTip:function(e){var t=this.getTip(e);return t&&t.length>0?this.show(e):this.create(e)},getTip:function(e){var t=this.selector(e),i=null;return t&&(i=this.S('span[data-selector="'+t+'"]'+this.settings.tooltip_class)),"object"==typeof i?i:!1},selector:function(e){var t=e.attr("id"),i=e.attr(this.attr_name())||e.attr("data-selector");return(t&&t.length<1||!t)&&"string"!=typeof i&&(i="tooltip"+this.random_str(6),e.attr("data-selector",i)),t&&t.length>0?t:i},create:function(t){var i=e(this.settings.tip_template(this.selector(t),e("<div></div>").html(t.attr("title")).html())),s=this.inheritable_classes(t);i.addClass(s).appendTo(this.settings.append_to),Modernizr.touch&&i.append('<span class="tap-to-close">'+this.settings.touch_close_text+"</span>"),t.removeAttr("title").attr("title",""),this.show(t)},reposition:function(e,t,i){var s,r,n,a,o;if(t.css("visibility","hidden").show(),s=e.data("width"),r=t.children(".nub"),n=r.outerHeight(),a=r.outerHeight(),t.css(this.small()?{width:"100%"}:{width:s?s:"auto"}),o=function(e,t,i,s,r){return e.css({top:t?t:"auto",bottom:s?s:"auto",left:r?r:"auto",right:i?i:"auto"}).end()},o(t,e.offset().top+e.outerHeight()+10,"auto","auto",e.offset().left),this.small())o(t,e.offset().top+e.outerHeight()+10,"auto","auto",12.5,this.S(this.scope).width()),t.addClass("tip-override"),o(r,-n,"auto","auto",e.offset().left+10);else{var l=e.offset().left;Foundation.rtl&&(l=e.offset().left+e.outerWidth()-t.outerWidth()),o(t,e.offset().top+e.outerHeight()+10,"auto","auto",l),t.removeClass("tip-override"),r.removeAttr("style"),i&&i.indexOf("tip-top")>-1?o(t,e.offset().top-t.outerHeight()-10,"auto","auto",l).removeClass("tip-override"):i&&i.indexOf("tip-left")>-1?o(t,e.offset().top+e.outerHeight()/2-t.outerHeight()/2,"auto","auto",e.offset().left-t.outerWidth()-n).removeClass("tip-override"):i&&i.indexOf("tip-right")>-1&&o(t,e.offset().top+e.outerHeight()/2-t.outerHeight()/2,"auto","auto",e.offset().left+e.outerWidth()+n).removeClass("tip-override")}t.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches},inheritable_classes:function(t){var i=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(this.settings.additional_inheritable_classes),s=t.attr("class"),r=s?e.map(s.split(" "),function(t){return-1!==e.inArray(t,i)?t:void 0}).join(" "):"";return e.trim(r)},show:function(e){var t=this.getTip(e);return this.reposition(e,t,e.attr("class")),t.fadeIn(150)},hide:function(e){var t=this.getTip(e);return t.fadeOut(150)},reload:function(){var t=e(this);return t.data("fndtn-tooltips")?t.foundationTooltips("destroy").foundationTooltips("init"):t.foundationTooltips("init")},off:function(){this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(t){e("["+this.attr_name()+"]").get(t).attr("title",e(this).text())}).remove()},reflow:function(){}}}(jQuery,this,this.document),function(e,t,i){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.1.1",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",is_hover:!0,mobile_show_parent_link:!1,scrolltop:!0},init:function(t,i,s){Foundation.inherit(this,"add_custom_rule register_media throttle");var r=this;r.register_media("topbar","foundation-mq-topbar"),this.bindings(i,s),r.S("["+this.attr_name()+"]",this.scope).each(function(){{var t=r.S(this),i=t.data(r.attr_name(!0)+"-init");r.S("section",this),e("> ul",this).first()}t.data("index",0);var s=t.parent();s.hasClass("fixed")||s.hasClass(i.sticky_class)?(r.settings.sticky_class=i.sticky_class,r.settings.sticky_topbar=t,t.data("height",s.outerHeight()),t.data("stickyoffset",s.offset().top)):t.data("height",t.outerHeight()),i.assembled||r.assemble(t),i.is_hover?r.S(".has-dropdown",t).addClass("not-click"):r.S(".has-dropdown",t).removeClass("not-click"),r.add_custom_rule(".f-topbar-fixed { padding-top: "+t.data("height")+"px }"),s.hasClass("fixed")&&r.S("body").addClass("f-topbar-fixed")})},toggle:function(i){var s=this;if(i)var r=s.S(i).closest("["+this.attr_name()+"]");else var r=s.S("["+this.attr_name()+"]");var n=r.data(this.attr_name(!0)+"-init"),a=s.S("section, .section",r);s.breakpoint()&&(s.rtl?(a.css({right:"0%"}),e(">.name",a).css({right:"100%"})):(a.css({left:"0%"}),e(">.name",a).css({left:"100%"})),s.S("li.moved",a).removeClass("moved"),r.data("index",0),r.toggleClass("expanded").css("height","")),n.scrolltop?r.hasClass("expanded")?r.parent().hasClass("fixed")&&(n.scrolltop?(r.parent().removeClass("fixed"),r.addClass("fixed"),s.S("body").removeClass("f-topbar-fixed"),t.scrollTo(0,0)):r.parent().removeClass("expanded")):r.hasClass("fixed")&&(r.parent().addClass("fixed"),r.removeClass("fixed"),s.S("body").addClass("f-topbar-fixed")):(r.parent().hasClass(s.settings.sticky_class)&&r.parent().addClass("fixed"),r.parent().hasClass("fixed")&&(r.hasClass("expanded")?(r.addClass("fixed"),r.parent().addClass("expanded"),s.S("body").addClass("f-topbar-fixed")):(r.removeClass("fixed"),r.parent().removeClass("expanded"),s.update_sticky_positioning())))},timer:null,events:function(){var e=this,i=this.S;i(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(t){t.preventDefault(),e.toggle(this)}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(t){var s=i(this),r=i(t.target),n=s.closest("["+e.attr_name()+"]"),a=n.data(e.attr_name(!0)+"-init");return r.data("revealId")?void e.toggle():void(e.breakpoint()||(!a.is_hover||Modernizr.touch)&&(t.stopImmediatePropagation(),s.hasClass("hover")?(s.removeClass("hover").find("li").removeClass("hover"),s.parents("li.hover").removeClass("hover")):(s.addClass("hover"),"A"===r[0].nodeName&&r.parent().hasClass("has-dropdown")&&t.preventDefault())))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(t){if(e.breakpoint()){t.preventDefault();var s=i(this),r=s.closest("["+e.attr_name()+"]"),n=r.find("section, .section"),a=(s.next(".dropdown").outerHeight(),s.closest("li"));r.data("index",r.data("index")+1),a.addClass("moved"),e.rtl?(n.css({right:-(100*r.data("index"))+"%"}),n.find(">.name").css({right:100*r.data("index")+"%"})):(n.css({left:-(100*r.data("index"))+"%"}),n.find(">.name").css({left:100*r.data("index")+"%"})),r.css("height",s.siblings("ul").outerHeight(!0)+r.data("height"))}}),i(t).off(".topbar").on("resize.fndtn.topbar",e.throttle(function(){e.resize.call(e)},50)).trigger("resize"),i("body").off(".topbar").on("click.fndtn.topbar touchstart.fndtn.topbar",function(t){var s=i(t.target).closest("li").closest("li.hover");s.length>0||i("["+e.attr_name()+"] li").removeClass("hover")}),i(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(t){t.preventDefault();var s=i(this),r=s.closest("["+e.attr_name()+"]"),n=r.find("section, .section"),a=(r.data(e.attr_name(!0)+"-init"),s.closest("li.moved")),o=a.parent();r.data("index",r.data("index")-1),e.rtl?(n.css({right:-(100*r.data("index"))+"%"}),n.find(">.name").css({right:100*r.data("index")+"%"})):(n.css({left:-(100*r.data("index"))+"%"}),n.find(">.name").css({left:100*r.data("index")+"%"})),0===r.data("index")?r.css("height",""):r.css("height",o.outerHeight(!0)+r.data("height")),setTimeout(function(){a.removeClass("moved")},300)})},resize:function(){var e=this;e.S("["+this.attr_name()+"]").each(function(){var t,s=e.S(this),r=(s.data(e.attr_name(!0)+"-init"),s.parent("."+e.settings.sticky_class));if(!e.breakpoint()){var n=s.hasClass("expanded");s.css("height","").removeClass("expanded").find("li").removeClass("hover"),n&&e.toggle(s)}r.length>0&&(r.hasClass("fixed")?(r.removeClass("fixed"),t=r.offset().top,e.S(i.body).hasClass("f-topbar-fixed")&&(t-=s.data("height")),s.data("stickyoffset",t),r.addClass("fixed")):(t=r.offset().top,s.data("stickyoffset",t)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},assemble:function(t){{var i=this,s=t.data(this.attr_name(!0)+"-init"),r=i.S("section",t);e("> ul",t).first()}r.detach(),i.S(".has-dropdown>a",r).each(function(){var t=i.S(this),r=t.siblings(".dropdown"),n=t.attr("href");if(!r.find(".title.back").length){if(s.mobile_show_parent_link&&n&&n.length>1)var a=e('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li><a class="parent-link js-generated" href="'+n+'">'+t.text()+"</a></li>");else var a=e('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li>');e("h5>a",a).html(1==s.custom_back_text?s.back_text:"&laquo; "+t.html()),r.prepend(a)}}),r.appendTo(t),this.sticky(),this.assembled(t)},assembled:function(t){t.data(this.attr_name(!0),e.extend({},t.data(this.attr_name(!0)),{assembled:!0}))},height:function(t){var i=0,s=this;return e("> li",t).each(function(){i+=s.S(this).outerHeight(!0)}),i},sticky:function(){var e=(this.S(t),this);this.S(t).on("scroll",function(){e.update_sticky_positioning()})},update_sticky_positioning:function(){var e="."+this.settings.sticky_class,i=this.S(t),s=this;if(s.S(e).length>0){var r=this.settings.sticky_topbar.data("stickyoffset");s.S(e).hasClass("expanded")||(i.scrollTop()>r?s.S(e).hasClass("fixed")||(s.S(e).addClass("fixed"),s.S("body").addClass("f-topbar-fixed")):i.scrollTop()<=r&&s.S(e).hasClass("fixed")&&(s.S(e).removeClass("fixed"),s.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(t).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,this,this.document),function(e,t){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.1.1",settings:{use_tallest:!0,before_height_change:e.noop,after_height_change:e.noop},init:function(e,t,i){this.bindings(t,i),this.reflow()},events:function(){this.S(t).off(".equalizer").on("resize.fndtn.equalizer",function(){this.reflow()}.bind(this))},equalize:function(t){var i=!1,s=t.find("["+this.attr_name()+"-watch]"),r=s.first().offset().top,n=t.data(this.attr_name(!0)+"-init");if(0!==s.length&&(n.before_height_change(),t.trigger("before-height-change"),s.height("inherit"),s.each(function(){var t=e(this);t.offset().top!==r&&(i=!0)}),!i)){var a=s.map(function(){return e(this).outerHeight()});if(n.use_tallest){var o=Math.max.apply(null,a);s.height(o)}else{var l=Math.min.apply(null,a);s.height(l)}n.after_height_change(),t.trigger("after-height-change")}},reflow:function(){var t=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){t.equalize(e(this))})}}}(jQuery,this,this.document);var jqxBaseFramework=window.minQuery||window.jQuery;!function(e){e.jqx=e.jqx||{},e.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance()},e[t].prototype.defineInstance=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},e.jqx.invoke=function(t,i){if(0!=i.length){for(var s=typeof i==Array||i.length>0?i[0]:i,r=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):e({}).toArray();void 0==t[s]&&null!=t.base;){if(void 0!=t[s]&&e.isFunction(t[s]))return t[s].apply(t,r);if("string"==typeof s){var n=s.toLowerCase();if(void 0!=t[n]&&e.isFunction(t[n]))return t[n].apply(t,r)}t=t.base}if(void 0!=t[s]&&e.isFunction(t[s]))return t[s].apply(t,r);if("string"==typeof s){var n=s.toLowerCase();if(void 0!=t[n]&&e.isFunction(t[n]))return t[n].apply(t,r)}}},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var s=e;s;){if(s.hasOwnProperty(i))return!0;if(s.hasOwnProperty(i.toLowerCase()))return!0;s=s.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},e.jqx.hasFunction=function(t,i){if(0==i.length)return!1;if(void 0==t)return!1;var s=typeof i==Array||i.length>0?i[0]:i;for(typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):{};void 0==t[s]&&null!=t.base;){if(t[s]&&e.isFunction(t[s]))return!0;if("string"==typeof s){var r=s.toLowerCase();if(t[r]&&e.isFunction(t[r]))return!0}t=t.base}if(t[s]&&e.isFunction(t[s]))return!0;if("string"==typeof s){var r=s.toLowerCase();if(t[r]&&e.isFunction(t[r]))return!0}return!1},e.jqx.isPropertySetter=function(t,i){return 1==i.length&&"object"==typeof i[0]?!0:2!=i.length||"string"!=typeof i[0]||e.jqx.hasFunction(t,i)?!1:!0},e.jqx.validatePropertySetter=function(t,i,s){if(!e.jqx.propertySetterValidation)return!0;if(1==i.length&&"object"==typeof i[0]){for(var r in i[0]){for(var n=t;!n.hasOwnProperty(r)&&n.base;)n=n.base;if(!n||!n.hasOwnProperty(r)){if(!s){var a=n.hasOwnProperty(r.toString().toLowerCase());if(a)return!0;throw"Invalid property: "+r}return!1}}return!0}if(2!=i.length){if(!s)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!s)throw"Invalid property: "+i[0];return!1}return!0},e.jqx.set=function(t,i){var s=0;if(1==i.length&&"object"==typeof i[0]){if(t.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){t.batchUpdate=i[0];var r={},n={};e.each(i[0],function(e,i){for(var a=t;!a.hasOwnProperty(e)&&null!=a.base;)a=a.base;a.hasOwnProperty(e)?t[e]!=i&&(r[e]=t[e],n[e]=i):a.hasOwnProperty(e.toLowerCase())&&t[e.toLowerCase()]!=i&&(r[e.toLowerCase()]=t[e.toLowerCase()],n[e.toLowerCase()]=i,s++)}),2>s&&(t.batchUpdate=null)}e.each(i[0],function(i,s){for(var r=t;!r.hasOwnProperty(i)&&null!=r.base;)r=r.base;if(r.hasOwnProperty(i))e.jqx.setvalueraiseevent(r,i,s);else if(r.hasOwnProperty(i.toLowerCase()))e.jqx.setvalueraiseevent(r,i.toLowerCase(),s);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'"}),null!=t.batchUpdate&&(t.batchUpdate=null,t.propertiesChangedHandler&&n.length>1&&t.propertiesChangedHandler(t,r,n))}else if(2==i.length){for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(t.hasOwnProperty(i[0]))e.jqx.setvalueraiseevent(t,i[0],i[1]);else if(t.hasOwnProperty(i[0].toLowerCase()))e.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,i){var s=e[t];e[t]=i,e.isInitialized&&(void 0!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,s,i),void 0!=e.propertyChangeMap&&void 0!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,s,i))},e.jqx.get=function(e,t){if(void 0==t||null==t)return void 0;if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var s=void 0;if(typeof t==Array){if(1!=t.length)return void 0;s=t[0]}else"string"==typeof t&&(s=t);for(;!e.hasOwnProperty(s)&&e.base;)e=e.base;return e?e[s]:void 0},e.jqx.serialize=function(t){var i="";if(e.isArray(t)){i="[";for(var s=0;s<t.length;s++)s>0&&(i+=", "),i+=e.jqx.serialize(t[s]);i+="]"}else if("object"==typeof t){i="{";var r=0;for(var s in t)r++>0&&(i+=", "),i+=s+": "+e.jqx.serialize(t[s]);i+="}"}else i=t.toString();return i},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,i,s){var r=(e(i),e.data(i,t));if(void 0==r)return void 0;var n=r.instance;if(e.jqx.hasFunction(n,s))return e.jqx.invoke(n,s);if(e.jqx.isPropertySetter(n,s)){if(e.jqx.validatePropertySetter(n,s))return void e.jqx.set(n,s)}else{if("object"==typeof s&&0==s.length)return;if("object"==typeof s&&1==s.length&&e.jqx.hasProperty(n,s[0]))return e.jqx.get(n,s[0]);if("string"==typeof s&&e.jqx.hasProperty(n,s[0]))return e.jqx.get(n,s)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(s)+"' does not exist."},e.jqx.applyWidget=function(t,i,s,r){var n=!1;try{n=void 0!=window.MSApp}catch(a){}var o=e(t);r?(r.host=o,r.element=t):r=new e.jqx["_"+i],""==t.id&&(t.id=e.jqx.utilities.createId());var l={host:o,element:t,instance:r};r.widgetName=i,e.data(t,i,l),e.data(t,"jqxWidget",l.instance);for(var d=new Array,r=l.instance;r;)r.isInitialized=!1,d.push(r),r=r.base;d.reverse(),d[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(i,t,s);for(var h in d)r=d[h],0==h&&(r.host=o,r.element=t,r.WinJS=n),void 0!=r&&(r.definedInstance&&r.definedInstance(),null!=r.createInstance&&(n?MSApp.execUnsafeLocalFunction(function(){r.createInstance(s)}):r.createInstance(s)));for(var h in d)void 0!=d[h]&&(d[h].isInitialized=!0);n?MSApp.execUnsafeLocalFunction(function(){l.instance.refresh(!0)}):l.instance.refresh(!0)},e.jqx.jqxWidget=function(t,i,s){var r=!1;try{jqxArgs=Array.prototype.slice.call(s,0)}catch(n){jqxArgs=""}try{r=void 0!=window.MSApp}catch(n){}var a=t,o="";i&&(o="_"+i),e.jqx.define(e.jqx,"_"+a,o);var l=new Array;if(!window[a]){var d=function(t){if(null==t)return"";var i=e.type(t);switch(i){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var s="";return e.each(t,function(t){var i=this;t>0&&(s+=", "),s+="[";var r=0;if("object"==e.type(i))for(var n in i)r>0&&(s+=", "),s+="{"+n+":"+i[n]+"}",r++;else r>0&&(s+=", "),s+="{"+t+":"+i+"}",r++;s+="]"}),s};window[a]=function(t,i){var s=[];i||(i={}),s.push(i);var r=t;if("object"===e.type(r)&&t[0]&&(r=t[0].id,""===r&&(r=t[0].id=e.jqx.utilities.createId())),window.jqxWidgets&&window.jqxWidgets[r]){if(i&&e.each(window.jqxWidgets[r],function(){var t=e(this.element).data();t&&t.jqxWidget&&e(this.element)[a](i)}),1==window.jqxWidgets[r].length){var n=e(window.jqxWidgets[r][0].widgetInstance.element).data();if(n&&n.jqxWidget)return window.jqxWidgets[r][0]}var n=e(window.jqxWidgets[r][0].widgetInstance.element).data();if(n&&n.jqxWidget)return window.jqxWidgets[r]
}var o=e(t);if(0===o.length)throw new Error("Invalid Selector - "+t+"! Please, check whether the used ID or CSS Class name is correct.");var h=[];return e.each(o,function(t){var i=o[t],n=null;if(!l[a]){var c=i.id;i.id="",n=e(i).clone(),i.id=c}if(e.jqx.applyWidget(i,a,s,void 0),!l[a]){var u=e.data(i,"jqxWidget"),p=n[a]().data().jqxWidget.defineInstance(),f=function(t){var i=e.data(t,"jqxWidget");this.widgetInstance=i;var s=e.extend(this,i);return s.on=function(e,t){s.addHandler(s.host,e,t)},s.off=function(e){s.removeHandler(s.host,e)},s};l[a]=f,e.each(p,function(e,t){Object.defineProperty(f.prototype,e,{get:function(){return this.widgetInstance?this.widgetInstance[e]:t},set:function(t){if(this.widgetInstance&&this.widgetInstance[e]!=t&&this.widgetInstance[e]!=t&&d(this.widgetInstance[e])!=d(t)){var i={};i[e]=t,this.widgetInstance.host[a](i),this.widgetInstance[e]=t}}})})}var u=new l[a](i);h.push(u),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[r]||(window.jqxWidgets[r]=new Array),window.jqxWidgets[r].push(u)}),1===h.length?h[0]:h}}e.fn[a]=function(){var t=Array.prototype.slice.call(arguments,0);if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw new Error(this.selector?"Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.":"Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var i=(e(this),this),s=e.data(i,a);null==s?e.jqx.applyWidget(i,a,t,void 0):e.jqx.jqxWidgetProxy(a,this,t)})}if(0==this.length)throw new Error(this.selector?"Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.":"Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var i=null,s=0;return this.each(function(){var r=e.jqx.jqxWidgetProxy(a,this,t);if(0==s)i=r,s++;else{if(1==s){var n=[];n.push(i),i=n}i.push(r)}}),i};try{e.extend(e.jqx["_"+a].prototype,Array.prototype.slice.call(s,0)[0])}catch(n){}e.extend(e.jqx["_"+a].prototype,{toThemeProperty:function(t,i){return e.jqx.toThemeProperty(this,t,i)}}),e.jqx["_"+a].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+a].prototype.createInstance=function(){},e.jqx["_"+a].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var s=[];s.push(i),i=s}e.jqx.applyWidget(t,a,i,this)},e.jqx["_"+a].prototype.getInstance=function(){return this},e.jqx["_"+a].prototype.propertyChangeMap={},e.jqx["_"+a].prototype.addHandler=function(t,i,s,r){e.jqx.addHandler(t,i,s,r)},e.jqx["_"+a].prototype.removeHandler=function(t,i,s){e.jqx.removeHandler(t,i,s)}},e.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var s=t.split(" "),r="",n=0;n<s.length;n++){n>0&&(r+=" ");var a=s[n];r+=null!=i&&i?a+"-"+e.theme:a+" "+a+"-"+e.theme}return r},e.jqx.addHandler=function(t,i,s,r){for(var n=i.split(" "),a=0;a<n.length;a++){var o=n[a];if(window.addEventListener)switch(o){case"mousewheel":e.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",s,!1):t[0].addEventListener("mousewheel",s,!1);continue;case"mousemove":if(!r){t[0].addEventListener("mousemove",s,!1);continue}}void 0==r||null==r?t.on?t.on(o,s):t.bind(o,s):t.on?t.on(o,r,s):t.bind(o,r,s)}},e.jqx.removeHandler=function(t,i,s){if(i)for(var r=i.split(" "),n=0;n<r.length;n++){var a=r[n];if(window.removeEventListener)switch(a){case"mousewheel":e.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",s,!1):t[0].removeEventListener("mousewheel",s,!1);continue;case"mousemove":if(s){t[0].removeEventListener("mousemove",s,!1);continue}}void 0!=a?void 0==s?t.off?t.off(a):t.unbind(a):t.off?t.off(a,s):t.unbind(a,s):t.off?t.off():t.unbind()}},e.jqx.theme=e.jqx.theme||"",e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],function(t,i){"theme"==t&&(e.jqx.theme=i),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=i)})},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:10,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()},setTheme:function(t,i,s){if("undefined"!=typeof s){for(var r=s[0].className.split(" "),n=[],a=[],o=s.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(t.length>0?(n.push(r[l]),a.push(r[l].replace(t,i))):a.push(r[l].replace("-"+i,"")+"-"+i));this._removeOldClasses(n,s),this._addNewClasses(a,s);for(var l=0;l<o.length;l+=1)this.setTheme(t,i,e(o[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(t){var i=e.jqx.mobile.getLeftPos(t[0]),s=e.jqx.mobile.getTopPos(t[0]);return{top:s,left:i}},resize:function(t,i,s,r){void 0===r&&(r=!0);var n=-1,a=this,o=function(e){if(!a.hiddenWidgets)return-1;for(var t=-1,i=0;i<a.hiddenWidgets.length;i++)if(e.id){if(a.hiddenWidgets[i].id==e.id){t=i;break}}else if(a.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){n=l;break}}else if(this.resizeHandlers[l].id==t[0].id){n=l;break}if(s===!0){if(-1!=n&&this.resizeHandlers.splice(n,1),0==this.resizeHandlers.length){var d=e(window);d.off?(d.off("resize.jqx"),d.off("orientationchange.jqx"),d.off("orientationchanged.jqx")):(d.unbind("resize.jqx"),d.unbind("orientationchange.jqx"),d.unbind("orientationchanged.jqx")),this.resizeHandlers=null}var h=o(t);return void(-1!=h&&this.hiddenWidgets&&this.hiddenWidgets.splice(h,1))}}else if(s===!0){var h=o(t);return void(-1!=h&&this.hiddenWidgets&&this.hiddenWidgets.splice(h,1))}var a=this,c=function(t,i){if(a.resizeHandlers){var s=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t},r=function(e,t){if(!e.widget||!t.widget)return 0;var i=s(e.widget[0]),r=s(t.widget[0]);try{if(r>i)return-1;if(i>r)return 1}catch(n){}return 0},n=function(t){if(a.hiddenWidgets.length>0){a.hiddenWidgets.sort(r);var s=function(){for(var t=!1,s=new Array,r=0;r<a.hiddenWidgets.length;r++){var n=a.hiddenWidgets[r];e.jqx.isHidden(n.widget)?(t=!0,s.push(n)):n.callback&&n.callback(i)}a.hiddenWidgets=s,t||clearInterval(a.__resizeInterval)};if(0==t)return s(),void(a.__resizeInterval&&clearInterval(a.__resizeInterval));a.__resizeInterval&&clearInterval(a.__resizeInterval),a.__resizeInterval=setInterval(function(){s()},100)}};a.hiddenWidgets&&a.hiddenWidgets.length>0&&n(!1),a.hiddenWidgets=new Array,a.resizeHandlers.sort(r);for(var l=0;l<a.resizeHandlers.length;l++){var d=a.resizeHandlers[l],h=d.widget,c=d.data;if(c&&c.jqxWidget){var u=c.jqxWidget.width,p=c.jqxWidget.height;c.jqxWidget.base&&(void 0==u&&(u=c.jqxWidget.base.width),void 0==p&&(p=c.jqxWidget.base.height)),void 0===u&&void 0===p&&(u=c.jqxWidget.element.style.width,p=c.jqxWidget.element.style.height);var f=!1;if(null!=u&&-1!=u.toString().indexOf("%")&&(f=!0),null!=p&&-1!=p.toString().indexOf("%")&&(f=!0),e.jqx.isHidden(h))-1===o(h)&&(f||t===!0)&&d.data.nestedWidget!==!0&&a.hiddenWidgets.push(d);else if((void 0===t||t!==!0)&&(f&&(d.callback(i),a.hiddenWidgets.indexOf(d)>=0&&a.hiddenWidgets.splice(a.hiddenWidgets.indexOf(d),1)),c.jqxWidget.element)){var m=c.jqxWidget.element.className;if((m.indexOf("dropdownlist")>=0||m.indexOf("datetimeinput")>=0||m.indexOf("combobox")>=0||m.indexOf("menu")>=0)&&c.jqxWidget.isOpened){var g=c.jqxWidget.isOpened();g&&c.jqxWidget.close()}}}}n()}};if(!this.resizeHandlers){this.resizeHandlers=new Array;var d=e(window);d.on?(this._resizeTimer=null,d.on("resize.jqx",function(){void 0!=a._resizeTimer&&clearTimeout(a._resizeTimer),a._resizeTimer=setTimeout(function(){c(null,"resize")},e.jqx.resizeDelay)}),d.on("orientationchange.jqx",function(){c(null,"orientationchange")}),d.on("orientationchanged.jqx",function(){c(null,"orientationchange")})):(d.bind("resize.jqx",function(){c(null,"orientationchange")}),d.bind("orientationchange.jqx",function(){c(null,"orientationchange")}),d.bind("orientationchanged.jqx",function(){c(null,"orientationchange")}))}r&&-1===n&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:t.data()}),e.jqx.isHidden(t)&&r===!0&&c(!0),e.jqx.resize=function(){c(null,"resize")}},html:function(t,i){if(!e(t).on)return e(t).html(i);try{return e.access(t,function(i){var s=t[0]||{},r=0,n=t.length;if(void 0===i)return 1===s.nodeType?s.innerHTML.replace(rinlinejQuery,""):void 0;var a=/<(?:script|style|link)/i,o="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",l=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,d=/<([\w:]+)/,h=new RegExp("<(?:"+o+")[\\s/>]","i"),c=/^\s+/,u={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if(!("string"!=typeof i||a.test(i)||!e.support.htmlSerialize&&h.test(i)||!e.support.leadingWhitespace&&c.test(i)||u[(d.exec(i)||["",""])[1].toLowerCase()])){i=i.replace(l,"<$1></$2>");try{for(;n>r;r++)s=this[r]||{},1===s.nodeType&&(e.cleanData(s.getElementsByTagName("*")),s.innerHTML=i);s=0}catch(p){}}s&&t.empty().append(i)},null,i,arguments.length)}catch(s){return e(t).html(i)}},hasTransform:function(t){var i="";if(i=t.css("transform"),""==i||"none"==i){if(i=t.parents().css("transform"),""!=i&&"none"!=i)return""!=i&&"none"!=i;var s=e.jqx.utilities.getBrowser();"msie"==s.browser?(i=t.css("-ms-transform"),(""==i||"none"==i)&&(i=t.parents().css("-ms-transform"))):"chrome"==s.browser?(i=t.css("-webkit-transform"),(""==i||"none"==i)&&(i=t.parents().css("-webkit-transform"))):"opera"==s.browser?(i=t.css("-o-transform"),(""==i||"none"==i)&&(i=t.parents().css("-o-transform"))):"mozilla"==s.browser&&(i=t.css("-moz-transform"),(""==i||"none"==i)&&(i=t.parents().css("-moz-transform")))}return(""==i||"none"==i)&&(i=e(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),i[t[1]]=t[1],i}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){try{var t=e[0].offsetWidth,i=e[0].offsetHeight;return 0===t||0===i?!0:!1}catch(s){return!1}},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,i,s){if(e.jqx.ariaEnabled)if(void 0==i)e.each(t.aria,function(i,s){var r=t.base?t.base.host.attr(i):t.host.attr(i);if(void 0==r||e.isFunction(r)){var r=t[s.name];e.isFunction(r)&&(r=t[s.name]()),void 0==r&&(r="");try{t.base?t.base.host.attr(i,r.toString()):t.host.attr(i,r.toString())}catch(n){}}else{var a=r;switch(s.type){case"number":a=new Number(r),isNaN(a)&&(a=r);break;case"boolean":a="true"==r?!0:!1;break;case"date":a=new Date(r),("Invalid Date"==a||isNaN(a))&&(a=r)}t[s.name]=a}});else try{t.host?t.base?t.base.host?t.base.host.attr(i,s.toString()):t.attr(i,s.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,s.toString()):t.host.attr(i,s.toString()):t.attr(i,s.toString()):t.setAttribute&&t.setAttribute(i,s.toString())}catch(r){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var i=parseInt(t.pageX),s=parseInt(t.pageY);if(e.jqx.mobile.isTouchDevice()){var r=e.jqx.mobile.getTouches(t),n=r[0];i=parseInt(n.pageX),s=parseInt(n.pageY)}return{left:i,top:s}},e.extend(e.jqx.mobile,{_touchListener:function(e){var t=function(e,t){var i=document.createEvent("MouseEvents");return i.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),i._pageX=t.pageX,i._pageY=t.pageY,i},i={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},s=t(i[e.type],e);e.target.dispatchEvent(s);var r=e.target["on"+i[e.type]];"function"==typeof r&&r(e)},setMobileSimulator:function(t,i){if(!this.isTouchDevice()){this.simulatetouches=!0,0==i&&(this.simulatetouches=!1);var s={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=this;if(window.addEventListener){var n=function(){for(var e in s)t.addEventListener&&(t.removeEventListener(e,r._touchListener),t.addEventListener(e,r._touchListener,!1))};e.jqx.browser.msie,n()}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,e+="User-agent header: "+navigator.userAgent,-1!=e.indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(i in t)if(t.hasOwnProperty(i)&&(prefix=t[i],match=e.match(new RegExp("(?:"+prefix+")([^\\s;]+)"))))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);var s=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(s.indexOf("Windows Phone")>=0||s.indexOf("WPDesktop")>=0||s.indexOf("IEMobile")>=0||s.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(s.indexOf("Touch")>=0){var r="MSPointerDown"in window||"pointerdown"in window;return r?(this.touchDevice=!0,!0):s.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(n){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(t){for(var i=t.offsetTop,s=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(i+=t.offsetTop-t.scrollTop,document.all&&(i+=t.clientTop));var r=navigator.userAgent.toLowerCase(),n=(-1!=r.indexOf("windows phone")||-1!=r.indexOf("WPDesktop")||-1!=r.indexOf("ZuneWP7")||-1!=r.indexOf("msie 9")||-1!=r.indexOf("msie 11")||-1!=r.indexOf("msie 10"))&&-1!=r.indexOf("touch");return n?s.top:this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=r.indexOf("version/7")?s.top:((-1!=r.indexOf("version/6")||-1!=r.indexOf("version/5"))&&(i+=e(window).scrollTop()),s.top):i},isChromeMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("android");return t},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi");return t},isOperaMiniBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("opera mini");return t},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch");return t},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t},isIPadSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad");return t},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android");return t},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=void 0!=e.originalEvent?e.originalEvent:e,void 0!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;var t=navigator.userAgent.toLowerCase();if(-1!=t.indexOf("windows phone 8.1")){if(-1!=e.toLowerCase().indexOf("start"))return"pointerdown";if(-1!=e.toLowerCase().indexOf("move"))return"pointermove";if(-1!=e.toLowerCase().indexOf("end"))return"pointerup"}return-1!=e.toLowerCase().indexOf("start")?"MSPointerDown":-1!=e.toLowerCase().indexOf("move")?"MSPointerMove":-1!=e.toLowerCase().indexOf("end")?"MSPointerUp":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var s=document.createEvent("MouseEvent");s.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(s)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,i,s,r,n,a){if(null!=t){var o=this,l=0,d=0,h=0,c=0,u=0,p=0;this.scrolling||(this.scrolling=[]),this.scrolling[r]=!1;var f=!1,m=e(t),g=["select","input","textarea"],v=0,b=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[r]=!0;var r=r,x=this.getTouchEventName("touchstart")+".touchScroll",w=this.getTouchEventName("touchend")+".touchScroll",y=this.getTouchEventName("touchmove")+".touchScroll",v=function(t){if(!o.enableScrolling[r])return!0;if(-1===e.inArray(t.target.tagName.toLowerCase(),g)){var i=o.getTouches(t),s=i[0];return 1==i.length&&o.dispatchMouseEvent("mousedown",s,o.getRootNode(s.target)),f=!1,d=s.pageY,u=s.pageX,o.simulatetouches&&void 0!=s._pageY&&(d=s._pageY,u=s._pageX),o.scrolling[r]=!0,l=0,c=0,!0}};m.on?m.on(x,v):m.bind(x,v);var _=function(e){if(!o.enableScrolling[r])return!0;if(!o.scrolling[r])return!0;var t=o.getTouches(e);if(t.length>1)return!0;var i=t[0].pageY,m=t[0].pageX;o.simulatetouches&&void 0!=t[0]._pageY&&(i=t[0]._pageY,m=t[0]._pageX);var g=i-d,v=m-u;b=i,touchHorizontalEnd=m,h=g-l,p=v-c,f=!0,l=g,c=v;var x=null!=n?"hidden"!=n[0].style.visibility:!0,w=null!=a?"hidden"!=a[0].style.visibility:!0;return(x||w)&&(0!==p&&x||0!==h&&w)?(s(1*-p,1*-h,v,g,e),e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1):void 0};if(m.on?m.on(y,_):m.bind(y,_),this.simulatetouches){var j=(void 0!=e(window).on||e(window).bind,function(){o.scrolling[r]=!1});if(void 0!=e(window).on?e(document).on("mouseup.touchScroll",j):e(document).bind("mouseup.touchScroll",j),window.frameElement&&null!=window.top){var q=function(){o.scrolling[r]=!1};window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",q):e(window.top.document).bind("mouseup",q))}var k=(void 0!=e(document).on||e(document).bind,function(e){if(!o.scrolling[r])return!0;o.scrolling[r]=!1;var t=o.getTouches(e)[0],i=o.getRootNode(t.target);o.dispatchMouseEvent("mouseup",t,i),o.dispatchMouseEvent("click",t,i)});void 0!=e(document).on?e(document).on("touchend",k):e(document).bind("touchend",k)}var I=function(e){if(!o.enableScrolling[r])return!0;var t=o.getTouches(e)[0];if(!o.scrolling[r])return!0;if(o.scrolling[r]=!1,!f){var t=o.getTouches(e)[0],i=o.getRootNode(t.target);return o.dispatchMouseEvent("mouseup",t,i),o.dispatchMouseEvent("click",t,i),!0}o.dispatchMouseEvent("mouseup",t,i)};m.on&&(m.on("dragstart",function(e){e.preventDefault()}),m.on("selectstart",function(e){e.preventDefault()})),m.on?m.on(w+" touchcancel.touchScroll",I):m.bind(w+" touchcancel.touchScroll",I)}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,i,s){if(arguments.length>1&&"[object Object]"!==String(i)){if(s=e.extend({},s),(null===i||void 0===i)&&(s.expires=-1),"number"==typeof s.expires){var r=s.expires,n=s.expires=new Date;n.setDate(n.getDate()+r)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",s.raw?i:encodeURIComponent(i),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}s=i||{};var a,o=s.raw?function(e){return e}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?o(a[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var s=e,r=s.indexOf(t);-1!=r;)s=s.replace(t,i),r=s.indexOf(t);return s},contains:function(e,t){return null==e||null==t?!1:-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null==e||null==t?!1:-1!=e.toUpperCase().indexOf(t.toUpperCase())},equals:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),t.length==e.length?e.slice(0,t.length)==t:!1)},equalsIgnoreCase:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),t.length==e.length?e.toUpperCase().slice(0,t.length)==t.toUpperCase():!1)},startsWith:function(e,t){return null==e||null==t?!1:e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null==e||null==t?!1:e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),e.slice(-t.length)==t)},endsWithIgnoreCase:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),e.toUpperCase().slice(-t.length)==t.toUpperCase())}}),e.extend(e.easing,{easeOutBack:function(e,t,i,s,r,n){return void 0==n&&(n=1.70158),s*((t=t/r-1)*t*((n+1)*t+n)+1)+i},easeInQuad:function(e,t,i,s,r){return s*(t/=r)*t+i},easeInOutCirc:function(e,t,i,s,r){return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+i:s/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i},easeInCubic:function(e,t,i,s,r){return s*(t/=r)*t*t+i},easeOutCubic:function(e,t,i,s,r){return s*((t=t/r-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,s,r){return(t/=r/2)<1?s/2*t*t*t+i:s/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,s,r){return-s*Math.cos(t/r*(Math.PI/2))+s+i},easeOutSine:function(e,t,i,s,r){return s*Math.sin(t/r*(Math.PI/2))+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i}})}(jqxBaseFramework),function(e){e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend({ischildof:function(t){for(var i=e(this).parents().get(),s=0;s<i.length;s++)if("string"!=typeof t){var r=i[s];if(void 0!==t&&r==t[0])return!0}else if(void 0!==t&&e(i[s]).is(t))return!0;return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),s=t.element;return s||(s=t.base.element),e.jqx.jqxWidgetProxy(t.widgetName,s,i)};var t=this.originalVal=e.fn.val;e.fn.val=function(i){if("undefined"==typeof i){if(e(this).hasClass("jqx-widget")){var s=e(this).data().jqxWidget;if(s&&s.val)return s.val()}return t.call(this)}if(e(this).hasClass("jqx-widget")){var s=e(this).data().jqxWidget;if(s&&s.val)return 2!=arguments.length?s.val(i):s.val(i,arguments[1])}return t.call(this,i)},e.fn.coord=function(t){var i,s,r={top:0,left:0},n=this[0],a=n&&n.ownerDocument;if(a){if(i=a.documentElement,!e.contains(i,n))return r;void 0!==typeof n.getBoundingClientRect&&(r=n.getBoundingClientRect());var o=function(t){return e.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1};s=o(a);var l=0,d=0,h=navigator.userAgent.toLowerCase(),c=-1!=h.indexOf("ipad")||-1!=h.indexOf("iphone");if(c&&(l=2),1==t&&"static"!=e(document.body).css("position")){var u=e(document.body).coord();l=-u.left,d=-u.top}return{top:d+r.top+(s.pageYOffset||i.scrollTop)-(i.clientTop||0),left:l+r.left+(s.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}}}(jqxBaseFramework),function(e){function t(t){return function(i,s){"string"!=typeof i&&(s=i,i="*");var r,n,a,o=i.toLowerCase().split(b),l=0,d=o.length;if(e.isFunction(s))for(;d>l;l++)r=o[l],a=/^\+/.test(r),a&&(r=r.substr(1)||"*"),n=t[r]=t[r]||[],n[a?"unshift":"push"](s)}}function i(e,t,s,r,n,a){n=n||t.dataTypes[0],a=a||{},a[n]=!0;for(var o,l=e[n],d=0,h=l?l.length:0,c=e===x;h>d&&(c||!o);d++)o=l[d](t,s,r),"string"==typeof o&&(!c||a[o]?o=void 0:(t.dataTypes.unshift(o),o=i(e,t,s,r,o,a)));return!c&&o||a["*"]||(o=i(e,t,s,r,"*",a)),o}function s(t,i){var s,r,n=e.jqx.data.ajaxSettings.flatOptions||{};for(s in i)void 0!==i[s]&&((n[s]?t:r||(r={}))[s]=i[s]);r&&e.extend(!0,t,r)}function r(e,t,i){var s,r,n,a,o=e.contents,l=e.dataTypes,d=e.responseFields;for(r in d)r in i&&(t[d[r]]=i[r]);for(;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("content-type"));if(s)for(r in o)if(o[r]&&o[r].test(s)){l.unshift(r);break}if(l[0]in i)n=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){n=r;break}a||(a=r)}n=n||a}return n?(n!==l[0]&&l.unshift(n),i[n]):void 0}function n(e,t){var i,s,r,n,a=e.dataTypes.slice(),o=a[0],l={},d=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;r=a[++d];)if("*"!==r){if("*"!==o&&o!==r){if(i=l[o+" "+r]||l["* "+r],!i)for(s in l)if(n=s.split(" "),n[1]===r&&(i=l[o+" "+n[0]]||l["* "+n[0]])){i===!0?i=l[s]:l[s]!==!0&&(r=n[0],a.splice(d--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(h){return{state:"parsererror",error:i?h:"No conversion from "+o+" to "+r}}}o=r}return{state:"success",data:t}}function a(){try{return new window.XMLHttpRequest}catch(e){}}function o(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}e.jqx.observableArray=function(t,i){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var s=Object.defineProperty;Object.defineProperty=function(e,t,i){if(s)try{return s(e,t,i)}catch(r){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var s,r=arguments[1];for(s=0;i>s;s++)s in t&&e.call(r,t[s],s,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i});var r,n=this,a=[];n.notifier=null,n.name="observableArray",n.observing=!0,n.changes=new Array;var i=i;return n.observe=function(){n.observing=!0,1==arguments.length&&(i=arguments[0])},n.unobserve=function(){n.observing=!1},n.toArray=function(){return a.slice(0)},n.toJSON=function(e,t){function i(e){return'"'+e.replace(u,function(e){var t=p[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function s(e){return 10>e?"0"+e:e}function r(e){var t;return t=isFinite(e.valueOf())?e.getUTCFullYear()+"-"+s(e.getUTCMonth()+1)+"-"+s(e.getUTCDate())+"T"+s(e.getUTCHours())+":"+s(e.getUTCMinutes())+":"+s(e.getUTCSeconds())+'Z"':"null"}function n(e){var t,i=e.length,s=[];for(t=0;i>t;t++)s.push(h(t,e)||"null");return"["+s.join(",")+"]"}function o(t){var s,r,n=[];for(s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(""!=s&&e&&-1===e.indexOf(s))continue;r=h(s,t),r&&n.push(i(s)+":"+r)}return"{"+n.join(",")+"}"}function l(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return r(e);case"[object Array]":return n(e)}return o(e)}function d(e,t){switch(t){case"string":return i(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}function h(e,t){var i=t[e],s=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(e),s=typeof i),/(number|float|int|integer|string|boolean)/.test(s)||!i&&"object"===s?d(i,s):l(i)}var c=a;t&&(c=t);var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(c):h("",{"":c})},n.defineIndexProperty=function(t){if(!(t in n)){var i=function(t,i,s,o){var l=t[i],d=l,h=function(){return d},c=function(t){if(l=t,d!==l){var s=d;if(d=l,"function"==typeof r){var h=a.indexOf(o),c="",u=function(t,s){Object.getOwnPropertyNames(t).forEach(function(r){var n=e.type(t[r]);"array"==n||"object"==n?u(t[r],s+"."+r):i===r&&(c=s+"."+r)})}(o,h);r({object:n,type:"update",path:c,index:h,name:i,newValue:l,oldValue:s})}}return d=l,l};t[i]&&"length"!=i&&(Object.defineProperty?Object.defineProperty(t,i,{get:h,set:c}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,i,h),Object.prototype.__defineSetter__.call(t,i,c)))},s=function(t,r,n){var a=e.type(t);/(number|float|int|integer|string|boolean)/.test(a)||void 0!==t&&Object.getOwnPropertyNames(t).forEach(function(a){var o=e.type(t[a]);"array"==o||"object"==o?(i(t,a,r+"."+a,n),s(t[a],r+"."+a,n)):i(t,a,r+"."+a,n)})};Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){return a[t]},set:function(e){var i=a[t];n.toJSON(null,i)!=n.toJSON(null,e)&&(a[t]=e,"function"==typeof r&&r({object:n,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:i}),s(e,t,e))}}),s(n[t],t,n[t])}},n.push=function(){for(var e,t=0,i=arguments.length;i>t;t++)e=a.length,a.push(arguments[t]),n.defineIndexProperty(e),"function"==typeof r&&r({object:n,type:"add",name:"length",index:e,newValue:a.length,oldValue:e});return a.length},n.pop=function(){if(~a.length){var e=a.length-1,t=a.pop();return delete n[e],"function"==typeof r&&r({object:n,type:"delete",name:"length",index:e,newValue:a.length,oldValue:e}),t}},n.unshift=function(){for(var e=a.length,t=0,i=arguments.length;i>t;t++)a.splice(t,0,arguments[t]),defineIndexProperty(a.length-1);return"function"==typeof r&&r({object:n,type:"add",index:e,name:"length",newValue:a.length,oldValue:e}),a.length},n.shift=function(){var e=a.length;if(~a.length){var t=a.shift();return 0===a.length&&delete n[e],"function"==typeof r&&r({object:n,type:"delete",index:e,name:"length",newValue:a.length,oldValue:e}),t}},n.slice=function(t,i,s){var r=a.slice(t,i),n=new e.jqx.observableArray(r,s);return n},n.splice=function(t,i,s){var o,l=[];for(t=~t?t:a.length-t,i=(null==i?a.length-t:i)||0;i--;)o=a.splice(t,1)[0],l.push(o),delete n[a.length],"function"==typeof r&&r({object:n,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(var d=2,h=arguments.length;h>d;d++)a.splice(t,0,arguments[d]),defineIndexProperty(a.length-1),"function"==typeof r&&r({object:n,type:"add",index:t,name:"length",newValue:a.length-1,oldValue:t}),t++;
var c=new e.jqx.observableArray(l,s);return c},Object.defineProperty(n,"length",{configurable:!1,enumerable:!0,get:function(){return a.length},set:function(e){var t=Number(e);if(!(t%1===0&&t>=0))throw new RangeError("Invalid array length");return t<a.length?n.splice(t):t>a.length&&n.push.apply(n,new Array(t-a.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,i){var s=new e.jqx.observableArray(t,i);return s},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(a,i);return t.observing=n.observing,t.changes=n.changes,t.notifier=n.notifier,t},n.remove=function(e){if(0>e||e>=n.length)throw new Error("Invalid index : "+e);if(n.hasOwnProperty(e)){var t=n[e];return n[e]=void 0,a[e]=void 0,"function"==typeof r&&r({object:n,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},n.concat=function(t,i){var s=a.concat(t),r=new e.jqx.observableArray(s,i);return r},Object.getOwnPropertyNames(Array.prototype).forEach(function(e){if(!(e in n)){var t=function(){var t=n.observing;n.observing=!1;var i=a[e],s=i.apply(a,arguments);return n.observing=t,s};Object.defineProperty(n,e,{configurable:!1,enumerable:!0,writeable:!1,value:t})}}),n.set=function(t,i){if("string"==e.type(t)&&t.split(".").length>1){for(var s=t.split("."),r=n,a=0;a<s.length;a++){if(0===a&&s[a]>=n.length)throw new Error("Invalid Index: "+t);a<s.length-1?r=r[s[a]]:r[s[a]]=i}return!0}return t>=n.length?n.push(i):n[t]=i,!0},n.get=function(e){return n[e]},t instanceof Array&&n.push.apply(n,t),r=function(){n.observing&&(arguments&&arguments[0]&&n.changes.push(arguments[0]),i&&i.apply(n,arguments),n.notifier&&n.notifier.apply(n,arguments))},n},e.jqx.formatDate=function(t,i,s){var r=e.jqx.dataFormat.formatdate(t,i,s);return r},e.jqx.formatNumber=function(t,i,s){var r=e.jqx.dataFormat.formatnumber(t,i,s);return r},e.jqx.dataAdapter=function(t,i){if(void 0!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),void 0!=t.totalRecords&&(t.totalrecords=t.totalRecords),void 0!=t.loadError&&(t.loadError=t.loadError),void 0!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=i||{},void 0!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),void 0!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),void 0!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),void 0!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),void 0!=t.formatData&&(this._options.formatData=this._source.formatData),void 0!=t.loadError&&(this._options.loadError=this._source.loadError),void 0!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),void 0!=t.contentType&&(this._options.contentType=this._source.contentType),void 0!=t.async&&(this._options.async=this._source.async),void 0!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),void 0!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=t&&null!=t.localdata&&"function"==typeof t.localdata){var s=t.localdata();if(null!=s){t._localdata=t.localdata;var r=this;t._localdata.subscribe&&(r._oldlocaldata=[],t._localdata.subscribe(function(t){var i=function(t){return e.isArray(t)?e.makeArray(i(e(t))):e.extend(!0,{},t)};(0==r.suspendKO||void 0==r.suspendKO||0==r._oldlocaldata.length)&&(r._oldlocaldata=i(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(e){if(0==r.suspendKO||void 0==r.suspendKO){var i="";r._oldrecords=r.records,0==r._oldlocaldata.length&&(t.localdata=t._localdata()),0==r._oldlocaldata.length?i="change":e&&(r._oldlocaldata.length==e.length&&(i="update"),r._oldlocaldata.length>e.length&&(i="remove"),r._oldlocaldata.length<e.length&&(i="add")),r.dataBind(null,i)}},t._localdata,"change"),r._knockoutdatasource=!0),t.localdata=s}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,s){var r=e.jqx.dataFormat.formatdate(t,i,s);return r},formatNumber:function(t,i,s){var r=e.jqx.dataFormat.formatnumber(t,i,s);return r},dataBind:function(t,i){if(1!=this.isUpdating){var s=this._source;if(s){s.generatedfields&&(s.datafields=null,s.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=s.dataFields&&(s.datafields=s.dataFields),void 0==s.recordstartindex&&(s.recordstartindex=0),void 0==s.recordendindex&&(s.recordendindex=0),void 0==s.loadallrecords&&(s.loadallrecords=!0),void 0==s.root&&(s.root=""),void 0==s.record&&(s.record=""),void 0!=s.sort&&(this.sort=s.sort),this.filter=void 0!=s.filter?s.filter:null,void 0!=s.sortcolumn&&(this.sortcolumn=s.sortcolumn),void 0!=s.sortdirection&&(this.sortdirection=s.sortdirection),void 0!=s.sortcomparer&&(this.sortcomparer=s.sortcomparer),this.records=new Array;var r=this._options||{};if(this.virtualmode=void 0!=r.virtualmode?r.virtualmode:!1,this.totalrecords=void 0!=r.totalrecords?r.totalrecords:0,this.pageable=void 0!=r.pageable?r.pageable:!1,this.pagesize=void 0!=r.pagesize?r.pagesize:0,this.pagenum=void 0!=r.pagenum?r.pagenum:0,this.cachedrecords=void 0!=r.cachedrecords?r.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=r.updaterow?r.updaterow:null,this.addrow=void 0!=r.addrow?r.addrow:null,this.deleterow=void 0!=r.deleterow?r.deleterow:null,this.cache=void 0!=r.cache?r.cache:!1,this.unboundmode=!1,void 0!=s.formatdata&&(r.formatData=s.formatdata),void 0!=s.data&&(void 0==r.data&&(r.data={}),e.extend(r.data,s.data)),this.mapChar=void 0!=s.mapchar?s.mapchar?s.mapchar:">":r.mapChar?r.mapChar:">",(r.unboundmode||s.unboundmode)&&(this.unboundmode=r.unboundmode||s.unboundmode),void 0!=s.cache&&(this.cache=s.cache),this.koSubscriptions)for(var n=0;n<this.koSubscriptions.length;n++)this.koSubscriptions[n].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var a=this,o=s.datatype;("csv"===s.datatype||"tab"===s.datatype||"tsv"===s.datatype||"text"==s.datatype)&&(o="text");var l=void 0!=r.async?r.async:!0;switch(void 0!=s.async&&(l=s.async),o){case"local":case"array":case"observablearray":case"observableArray":default:if(void 0==s.localdata&&s.length){s.localdata=new Array;for(var d=0;d<s.length;d++)s.localdata[s.localdata.length]=s[d],s[d].uid=d}s.beforeprocessing&&e.isFunction(s.beforeprocessing)&&s.beforeprocessing(s.localdata);var h=s.localdata.length;if(this.totalrecords=this.virtualmode?s.totalrecords||h:h,this.unboundmode){this.totalrecords=this.unboundmode?s.totalrecords||h:h;var c=s.datafields?s.datafields.length:0;if(c>0)for(var d=0;d<this.totalrecords;d++){for(var u={},p=0;c>p;p++)u[s.datafields[p].name]="";u.uid=d,s.localdata[s.localdata.length]=u}}void 0==this.totalrecords&&(this.totalrecords=0);var c=s.datafields?s.datafields.length:0,f=function(t,i){for(var r={},n=0;i>n;n++){var o=s.datafields?s.datafields[n]:{},l="";if(void 0!=o&&null!=o){if(o.map){if(e.isFunction(o.map))l=o.map(t);else{var d=o.map.split(a.mapChar);if(d.length>0){for(var h=t,c=0;c<d.length;c++)h&&(h=h[d[c]]);l=h}else l=t[o.map]}void 0!=l&&null!=l?l=l.toString():void 0==l&&null!=l&&(l="")}""==l&&(l=t[o.name],void 0!=l&&null!=l&&(s._localdata&&l.subscribe?l=l():"array"!=o.type&&(l=l.toString()))),l=a.getvaluebytype(l,o),void 0!=o.displayname?r[o.displayname]=l:r[o.name]=l}}return r};if(s._localdata){this._changedrecords=[],this.records=new Array;var m=s._localdata();if(e.each(m,function(t,r){if("string"==typeof r)a.records.push(r);else{var n={},o=0,l=this;e.each(this,function(i){var r=null,d="string",h=i;if(c>0){for(var u=!1,p=!1,f=0;c>f;f++){var m=s.datafields[f];if(void 0!=m&&m.name==i){u=!0,r=m.map,d=m.type,h=m.name;break}if(void 0!=m&&m.map&&m.map.indexOf(i)>=0){u=!0,r=m.map,d=m.type,h=m.name,p=!0;var g=l[i];if(null!=r){var v=r.split(a.mapChar);if(v.length>0){for(var b=l,x=0;x<v.length;x++)b=b[v[x]];g=b}else g=l[r]}"string"!=d&&(g=a.getvaluebytype(g,{type:d})),n[h]=g,void 0!=n[h]&&(o+=n[h].toString().length+n[h].toString().substr(0,1))}}if(!u)return!0;if(p)return!0}var w=e.isFunction(l[i]);if(w){var g=l[i]();if("string"!=d&&(g=a.getvaluebytype(g,{type:d})),n[i]=g,l[i].subscribe){var y=t;a.koSubscriptions[a.koSubscriptions.length]=l[i].subscribe(function(e){var t=y;n[i]=e;var s={index:t,oldrecord:n,record:n};return a._changedrecords.push(s),a.isUpdating?void 0:(a.callBindingUpdate("update"),a._changedrecords=[],!1)})}}else{var g=l[i];if(null!=r){var v=r.split(a.mapChar);if(v.length>0){for(var b=l,x=0;x<v.length;x++)b=b[v[x]];g=b}else g=l[r]}"string"!=d&&(g=a.getvaluebytype(g,{type:d})),n[h]=g,void 0!=n[h]&&(o+=n[h].toString().length+n[h].toString().substr(0,1))}});var d=a.getid(s.id,l,t);if(n.uid=d,a.records.push(n),n._koindex=o,a._oldrecords){var h=a.records.length-1;if("update"==i&&a._oldrecords[h]._koindex!=o){var u={index:h,oldrecord:a._oldrecords[h],record:n};a._changedrecords.push(u)}}}}),"add"==i)for(var h=a.records.length,d=0;h>d;d++){for(var u=a.records[d],g=!1,v=0;v<a._oldrecords.length;v++)if(a._oldrecords[v]._koindex===u._koindex){g=!0;break}g||a._changedrecords.push({index:d,oldrecord:null,record:u,position:0!=d?"last":"first"})}else if("remove"==i)for(var h=a._oldrecords.length,d=0;h>d;d++){var b=a._oldrecords[d];a.records[d]?a.records[d]._koindex!=b._koindex&&a._changedrecords.push({index:d,oldrecord:b,record:null}):a._changedrecords.push({index:d,oldrecord:b,record:null})}}else if(e.isArray(s.localdata))if(0==c){var x=0,w=new Array;e.each(s.localdata,function(t,i){var r=e.extend({},this);if("string"==typeof i)return a.records=s.localdata,!1;var n=a.getid(s.id,r,t);if("object"==typeof n&&(n=t),r.uid=n,0==t){for(var o in this){x++;var l=e.type(this[o]);w.push({name:o,type:l})}c=x,s.datafields=w,s.generatedfields=w}if(c>0){var d=f(r,c);d.uid=n,a.records[a.records.length]=d}else a.records[a.records.length]=r})}else e.each(s.localdata,function(t){var i=this,r=f(i,c),n=a.getid(s.id,r,t);"object"==typeof n&&(n=t);var i=e.extend({},r);i.uid=n,a.records[a.records.length]=i});else{this.records=new Array;var x=0,w=new Array;e.each(s.localdata,function(t){var i=a.getid(s.id,this,t);if(0==c&&!("string"==typeof this||this instanceof String)){for(var r in this){x++;var n=e.type(this[r]);w.push({name:r,type:n})}c=x,s.datafields=w,s.generatedfields=w}if(c>0){var o=this,l=f(o,c);l.uid=i,a.records[a.records.length]=l}else this.uid=i,a.records[a.records.length]=this})}if(this.originaldata=s.localdata,this.cachedrecords=this.records,this.addForeignValues(s),r.uniqueDataFields){var y=this.getUniqueRecords(this.records,r.uniqueDataFields);this.records=y,this.cachedrecords=y}if(r.beforeLoadComplete){var _=r.beforeLoadComplete(a.records,this.originaldata);void 0!=_&&(a.records=_,a.cachedrecords=_)}if(r.autoSort&&r.autoSortField){var j=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[r.autoSortField]},a.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(t=t.toString(),i=i.toString(),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(i>t)return-1;if(t>i)return 1}catch(s){}return 0}),Object.prototype.toString=j}a.loadedData=s.localdata,a.buildHierarchy(),e.isFunction(r.loadComplete)&&r.loadComplete(s.localdata,a.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(null!=s.localdata){if(e.isFunction(s.beforeprocessing)&&s.beforeprocessing(s.localdata),"xml"===s.datatype?a.loadxml(s.localdata,s.localdata,s):"text"===o?a.loadtext(s.localdata,s):a.loadjson(s.localdata,s.localdata,s),a.addForeignValues(s),r.uniqueDataFields){var y=a.getUniqueRecords(a.records,r.uniqueDataFields);a.records=y,a.cachedrecords=y}if(r.beforeLoadComplete){var _=r.beforeLoadComplete(a.records,this.originaldata);void 0!=_&&(a.records=_,a.cachedrecords=_)}return a.loadedData=s.localdata,a.buildHierarchy.call(a),e.isFunction(r.loadComplete)&&r.loadComplete(s.localdata,a.records),void a.callBindingUpdate(i)}var q=void 0!=r.data?r.data:{};if(s.processdata&&s.processdata(q),e.isFunction(r.processData)&&r.processData(q),e.isFunction(r.formatData)){var k=r.formatData(q);void 0!=k&&(q=k)}var I="application/x-www-form-urlencoded";r.contentType&&(I=r.contentType);var T="GET";if(s.type&&(T=s.type),r.type&&(T=r.type),s.url&&s.url.length>0)e.isFunction(r.loadServerData)?a._requestData(q,s,r):this.xhr=e.jqx.data.ajax({dataType:o,cache:this.cache,type:T,url:s.url,async:l,timeout:s.timeout,contentType:I,data:q,success:function(t,i,n){if(e.isFunction(s.beforeprocessing)){var l=s.beforeprocessing(t,i,n);void 0!=l&&(t=l)}if(e.isFunction(r.downloadComplete)){var l=r.downloadComplete(t,i,n);void 0!=l&&(t=l)}if(null==t)return a.records=new Array,a.cachedrecords=new Array,a.originaldata=new Array,a.callDownloadComplete(),void(e.isFunction(r.loadComplete)&&r.loadComplete(new Array));var d=t;if(t.records&&(d=t.records),void 0!=t.totalrecords?s.totalrecords=t.totalrecords:void 0!=t.totalRecords&&(s.totalrecords=t.totalRecords),"xml"===s.datatype?a.loadxml(null,d,s):"text"===o?a.loadtext(d,s):a.loadjson(null,d,s),a.addForeignValues(s),r.uniqueDataFields){var h=a.getUniqueRecords(a.records,r.uniqueDataFields);a.records=h,a.cachedrecords=h}if(r.beforeLoadComplete){var c=r.beforeLoadComplete(a.records,t);void 0!=c&&(a.records=c,a.cachedrecords=c)}a.loadedData=t,a.buildHierarchy.call(a),a.callDownloadComplete(),e.isFunction(r.loadComplete)&&r.loadComplete(t,i,n,a.records)},error:function(t,i,n){e.isFunction(s.loaderror)&&s.loaderror(t,i,n),e.isFunction(r.loadError)&&r.loadError(t,i,n),t=null,a.callDownloadComplete()},beforeSend:function(t,i){e.isFunction(r.beforeSend)&&r.beforeSend(t,i),e.isFunction(s.beforesend)&&s.beforesend(t,i)}});else if(a.buildHierarchy(new Array),a.callDownloadComplete(),e.isFunction(r.loadComplete)){if(!C)var C={};r.loadComplete(C)}}this.callBindingUpdate(i)}}},buildHierarchy:function(e){var t=this._source,i=new Array;if(t.datafields){if(t.hierarchy&&!t.hierarchy.reservedNames)t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(t.hierarchy){var s=t.hierarchy.reservedNames;s.leaf||(s.leaf="leaf"),s.parent||(s.parent="parent"),s.expanded||(s.expanded="expanded"),s.checked||(s.checked="checked"),s.selected||(s.selected="selected"),s.level||(s.level="level"),s.data||(s.data="data")}if(t.hierarchy){var r=this,s=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType){var i=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=i,i}this.hierarchy=this.records;for(var n=t.hierarchy.root,a=0;a<this.records.length;a++){var o=this.records[a];if(o){var l=function(e){if(t.hierarchy.record)e.records=e[n][t.hierarchy.record];else{var i=n.split(r.mapChar),a=null;if(i.length>1){for(var o=e,l=0;l<i.length;l++)void 0!=o&&(o=o[i[l]]);a=o}else a=e[n];e.records=a}(null==e.records||e.records&&0==e.records.length)&&(e[s.leaf]=!0)};l(o),o[s.level]=0;var d=this.getid(t.id,o,a);o.uid=d,o[s.parent]=null,o[s.data]=o,void 0===o[s.expanded]&&(o[s.expanded]=!1);var h=function(e,i){if(!i)return void(e.records=new Array);for(var n=0;n<i.length;n++){var a=i[n];if(a){l(a),a[s.level]=e[s.level]+1,a[s.parent]=e,a[s.data]=a;var o=r.getid(t.id,a,n);a.uid=o==n&&null==t.id?e.uid+"_"+o:o,void 0===a[s.expanded]&&(a[s.expanded]=!1),h(a,a.records)}}};h(o,o.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){var i=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=i,i}if(t.hierarchy.groupingDataFields){for(var c=new Array,a=0;a<t.hierarchy.groupingDataFields.length;a++)c.push(t.hierarchy.groupingDataFields[a].name);var i=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",e);return this.hierarchy=i,i}}}},addRecord:function(e,t,i,s){var r=this,n=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=e){if(void 0==i){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||s)){var a=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;null==a&&(a=n()),e[a.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){var o=function(s){if(s)for(var a=0;a<s.length;a++){var l=s[a];if(l.uid==i){var d=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;return null==d&&(d=n()),e[d.parent]=l,e[d.level]=l[d.level]+1,l.records?l[d.leaf]=!1:(l.records=new Array,l[d.leaf]=!1),"last"==t?l.records.push(e):"number"==typeof t&&isFinite(t)?l.records.splice(t,0,e):l.records.splice(0,0,e),!0}l.records&&o(l.records)}};o(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){var i=function(s){if(s)for(var r=0;r<s.length;r++){var n=s[r];if(n.uid==e){s.splice(r,1),t.recordids[e]&&delete t.recordids[e];var a=function(e){for(var i=0;i<e.length;i++){for(var s=e[i].uid,r=0;r<t.records.length;r++){var n=t.records[r];if(n.uid==s){t.records.splice(r,1);break}}e[i].records&&a(e[i].records)}};n.records&&a(n.records);for(var o=0;o<t.records.length;o++){var n=t.records[o];if(n.uid==e){t.records.splice(o,1);break}}return!0}n.records&&i(n.records)}};i(this.hierarchy)}else for(var s=0;s<this.records.length;s++){var r=this.records[s];if(r.uid==e)return this.records.splice(s,1),!0}return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,s=0;i>s;s++){var r=e.datafields[s];if(void 0!=r)if(void 0!=r.values){void 0==r.value&&(r.value=r.name),void 0==r.values.value&&(r.values.value=r.value);var n,a,o=new Array;t.pageable&&t.virtualmode?(n=t.pagenum*t.pagesize,a=n+t.pagesize,a>t.totalrecords&&(a=t.totalrecords)):t.virtualmode?(n=e.recordstartindex,a=e.recordendindex,a>t.totalrecords&&(a=t.totalrecords)):(n=0,a=t.records.length);for(var l=n;a>l;l++){var d=t.records[l],h=r.name,c=d[r.value];if(void 0!=o[c])d[h]=o[c];else for(var u=0;u<r.values.source.length;u++){var p=r.values.source[u],f=p[r.values.value];if(void 0==f&&(f=p.uid),f==c){var m=p[r.values.name];d[h]=m,o[c]=m;break}}}}else if(void 0!=r.value)for(var l=0;l<t.records.length;l++){var d=t.records[l];d[r.name]=d[r.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(t,i,s){var r=this,n=function(t){if(t.totalrecords&&(i.totalrecords=t.totalrecords,r.totalrecords=t.totalrecords),t.records&&(r.records=t.records,r.cachedrecords=t.records),r.addForeignValues(i),s.uniqueDataFields){var n=r.getUniqueRecords(r.records,s.uniqueDataFields);r.records=n,r.cachedrecords=n}if(s.beforeLoadComplete){var a=s.beforeLoadComplete(r.records,data);void 0!=a&&(r.records=a,r.cachedrecords=a)}for(var o=0;o<r.records.length;o++){var l=r.records[o];void 0!=l&&void 0==l.uid&&(l.uid=r.getid(i.id,l,o))}r.buildHierarchy.call(r),e.isFunction(s.loadComplete)&&s.loadComplete(t),r.callDownloadComplete()};s.loadServerData(t,i,n)},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,s=t.length,r=new Array,n=new Array,a=0;i>a;a++){var o=e[a],l="";if(void 0!=o){for(var d=0;s>d;d++){var h=t[d];l+=o[h]+"_"}n[l]||(r[r.length]=o),n[l]=!0}}return r},getAggregatedData:function(t,i,s,r){var n=s;n||(n=this.records);var a={},o=new Array,l=n.length;if(0!=l&&void 0!=l){for(var d=0;l>d;d++)for(var h=n[d],c=0;c<t.length;c++){var u=t[c],p=h[u.name];if(u.aggregates){a[u.name]=a[u.name]||{},o[u.name]=o[u.name]||0,o[u.name]++;var f=function(t){for(obj in t){var i=a[u.name][obj];null==i&&(a[u.name][obj]=0,i=0),e.isFunction(t[obj])&&(i=t[obj](i,p,u.name,h,r)),a[u.name][obj]=i}},m=parseFloat(p);m=isNaN(m)?!1:!0,m&&(p=parseFloat(p)),"number"==typeof p&&isFinite(p)?e.each(u.aggregates,function(){var e=a[u.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(p);else if("product"==this)0==d?e=parseFloat(p):e*=parseFloat(p);else if("min"==this)e=Math.min(e,parseFloat(p));else if("max"==this)e=Math.max(e,parseFloat(p));else if("count"==this)e++;else if("object"==typeof this)return void f(this);a[u.name][this]=e}):e.each(u.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===p)return!0;var e=a[u.name][this];return null==e&&(e=0),a[u.name][this]=e,!0}"object"==typeof this&&f(this)})}}for(var c=0;c<t.length;c++){var u=t[c];if(a[u.name]||(a[u.name]={},e.each(u.aggregates,function(){a[u.name][this]=0})),void 0!=a[u.name].avg){var p=a[u.name].avg,g=o[u.name];a[u.name].avg=0===g||void 0==g?0:p/g}else void 0!=a[u.name].count&&(a[u.name].count=l);(a[u.name].stdev||a[u.name].stdevp||a[u.name]["var"]||a[u.name].varp)&&e.each(u.aggregates,function(){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var e=a[u.name][this],t=l,i=e/l,s=0,r=0;l>r;r++){var o=n[r],d=o[u.name];s+=(d-i)*(d-i)}var h="stdevp"==this||"varp"==this?t:t-1;0==h&&(h=1),"var"==this||"varp"==this?a[u.name][this]=s/h:("stdevp"==this||"stdev"==this)&&(a[u.name][this]=Math.sqrt(s/h))}}),u.formatStrings&&e.each(u.aggregates,function(t){var s=u.formatStrings[t];if(s)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var r=a[u.name][this];a[u.name][this]=e.jqx.dataFormat.formatnumber(r,s,i)}else if("object"==typeof this)for(obj in this){var r=a[u.name][obj];a[u.name][obj]=e.jqx.dataFormat.formatnumber(r,s,i)}})}return a}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,i,s,r,n,a,o,l,d){var h=this;d||(d=0);for(var c=new Array,u=0;u<t.length;u++)c[u]=h.generatekey();i||(i="items"),s||(s="group"),n||(n="record"),o||(o="parentItem"),void 0===a&&(a="value");{var p=new Array,f=0,m=new Array,g=t.length;new Array}if(!l)var l=this.records;for(var v=l.length,b=function(t){var i=t;return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},x=0;v>x;x++){var w=b(l[x]);id=w[h.uniqueId];var y=new Array,_=0;for(u=0;g>u;u++){var j=t[u],q=w[j];null!=q&&(y[_++]={value:q,hash:c[u]})}if(y.length!=g)break;for(var k=null,I="",T=-1,C=0;C<y.length;C++){T++;var S=y[C].value,D=y[C].hash;if(I=I+"_"+D+"_"+S,void 0==m[I]||null==m[I]){if(null==k){k={level:0},k[o]=null,k[s]=S,k[n]=w,k.expanded=void 0!==w.expanded?w.expanded:!1,a&&(k[a]=w[a]),k[i]=new Array;var P=p.length+d;(!this._source.id||"number"==typeof w.uid||isFinite(w.uid))&&(P="Row"+P),k.uid=P,p[f++]=k}else{var E={level:k.level+1};E[o]=k,E[s]=S,E[i]=new Array,E[n]=w,E.expanded=void 0!==w.expanded?w.expanded:!1,a&&(E[a]=w[a]),E.uid=k.uid+"_"+k[i].length,k[i][k[i].length]=E,k=E}m[I]=k}else k=m[I]}w&&(w.leaf=!0),null!=k?(null==this._source.id&&(w.uid=k.uid+"_"+k[i].length),w[o]=k,w.level=k.level+1,k[i][k[i].length]=w):w.uid||(w.uid=this.generatekey())}return p},getRecordsHierarchy:function(t,i,s,r,n){var a=new Array,o=this.records;if(n&&(o=n),0==this.records.length)return null;for(var l=null!=s?s:"items",d=[],h=o,c=h.length,u=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,p=function(t){var i=t;return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},f=0;c>f;f++){var m=e.extend({},h[f]),g=m[i],v=m[t];d[v]={parentid:g,item:m}}for(var f=0;c>f;f++){var m=e.extend({},h[f]),g=m[i],v=m[t];if(void 0!=d[g]){var m={parentid:g,item:d[v].item},b=d[g].item;b[l]||(b[l]=[]);var x=b[l].length,w=m.item;u?void 0==w[u.parent]&&(w[u.parent]=b):void 0==w.parent&&(w.parent=b);var y=p(w);b[l][x]=y,d[g].item=b,d[v]=m}else{var w=d[v].item;u?void 0==w[u.parent]&&(w[u.parent]=null):void 0==w.parent&&(w.parent=null);var y=p(w);u?y[u.level]=0:y.level=0,a[a.length]=y}}if(0!=a.length){var _=function(e,t){for(var i=0;i<t.length;i++){u?t[i][u.level]=e:t[i].level=e;var s=t[i][l];s&&s.length>0?_(e+1,s):u?t[i][u.leaf]=!0:t[i].leaf=!0}};_(0,a)}return a},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t];null!=i.func&&i.func(e)}},getid:function(t,i,s){if(null==t||void 0==t.name||!t.name){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var r=e(i).attr(t);if(null!=r&&r.toString().length>0)return r;var n=t.split(this.mapChar);if(n.length>1){for(var a=i,o=0;o<n.length;o++)void 0!=a&&(a=a[n[o]]);if(void 0!=a)return a}else if(void 0!=i[t])return i[t]}return s}var r=e(i).attr(t.name);if(null!=r&&r.toString().length>0)return r;if(t.map)try{var r=e(i).attr(t.map);if(null!=r&&r.toString().length>0)return r;if(e(t.map,i).length>0)return e(t.map,i).text();if(e(t.name,i).length>0)return e(t.name,i).text()}catch(l){return s}},loadjson:function(t,i,s){"string"==typeof t&&(t=e.parseJSON(t)),void 0==s.root&&(s.root=""),void 0==s.record&&(s.record="");var t=t||i;t||(t=[]);var r=this;if(""!=s.root){var n=s.root.split(r.mapChar);if(n.length>1){for(var a=t,o=0;o<n.length;o++)void 0!=a&&(a=a[n[o]]);t=a}else if(void 0!=t[s.root]?t=t[s.root]:e.each(t,function(){return this==s.root?(t=this,!1):void(void 0!=this[s.root]&&(t=this[s.root]))}),!t){var n=s.root.split(r.mapChar);if(n.length>0){for(var a=t,o=0;o<n.length;o++)void 0!=a&&(a=a[n[o]]);t=a}}}else if(!t.length)for(obj in t)if(e.isArray(t[obj])){t=t[obj];break}if(null!=t&&void 0==t.length&&(t=e.makeArray(t)),null==t||void 0==t.length)return void alert("JSON Parse error.");if(0==t.length)return void(this.totalrecords=0);var l=t.length;this.totalrecords=this.virtualmode?s.totalrecords||l:l,this.records=new Array,this.originaldata=new Array;var d=this.records,h=this.pageable?this.pagesize*this.pagenum:s.recordstartindex;this.recordids=new Array,s.loadallrecords&&(h=0,l=this.totalrecords);var c=0;this.virtualmode&&(h=this.pageable?this.pagesize*this.pagenum:s.recordstartindex,c=h,h=0,l=this.totalrecords);var u=s.datafields?s.datafields.length:0;if(0==u){var p=t[0],f=new Array;for(obj in p){var m=obj;f[f.length]={name:m}}s.datafields=f,s.generatedfields=s.datafields,u=f.length}for(var g=h,v=h;l>v;v++){var b=t[v];if(void 0==b)break;if(!s.record||""==s.record||(b=b[s.record],void 0!=b)){var x=this.getid(s.id,b,v);if("object"==typeof x&&(x=v),!this.recordids[x]){this.recordids[x]=b;for(var w={},y=0;u>y;y++){var _=s.datafields[y],j="";if(void 0!=_&&null!=_){if(_.map){if(e.isFunction(_.map))j=_.map(b);else{var n=_.map.split(r.mapChar);if(n.length>0){for(var q=b,o=0;o<n.length;o++)void 0!=q&&(q=q[n[o]]);j=q}else j=b[_.map]}void 0!=j&&null!=j?j=this.getvaluebytype(j,_):void 0==j&&null!=j&&(j="")}if(""==j&&!_.map&&(j=b[_.name],void 0==j&&null!=j&&(j=""),void 0!=_.value&&void 0!=j)){var k=j[_.value];void 0!=k&&(j=k)}if(j=this.getvaluebytype(j,_),void 0!=_.displayname?w[_.displayname]=j:w[_.name]=j,"array"===_.type){var I=function(t){if(t)for(var i=0;i<t.length;i++){var n=t[i];if(n)for(var a=0;u>a;a++){var o=s.datafields[a],l="";if(void 0!=o&&null!=o){if(o.map){if(e.isFunction(o.map))l=o.map(n);else{var d=o.map.split(r.mapChar);if(d.length>0){for(var h=n,c=0;c<d.length;c++)void 0!=h&&(h=h[d[c]]);l=h}else l=n[o.map]}void 0!=l&&null!=l?l=this.getvaluebytype(l,o):void 0==l&&null!=l&&(l="")}if(""==l&&!o.map&&(l=n[o.name],void 0==l&&null!=l&&(l=""),void 0!=o.value&&void 0!=l)){var p=l[o.value];void 0!=p&&(l=p)}l=this.getvaluebytype(l,o),void 0!=o.displayname?n[o.displayname]=l:n[o.name]=l,"array"===o.type&&I.call(this,l)}}}};I.call(this,j)}}}(s.recordendindex<=0||h<s.recordendindex)&&(d[c+g]=e.extend({},w),d[c+g].uid=x,this.originaldata[c+g]=e.extend({},d[v]),g++)}}}this.records=d,this.cachedrecords=this.records},loadxml:function(t,i,s){"string"==typeof t&&(t=i=e(e.parseXML(t)),t=null),void 0==s.root&&(s.root=""),void 0==s.record&&(s.record="");var t;t=e.jqx.browser.msie&&i&&void 0!=i.xml?e(s.root+" "+s.record,e.parseXML(i.xml)):t||e(s.root+" "+s.record,i),t||(t=[]);var r=t.length;if(0!=t.length){this.totalrecords=this.virtualmode?s.totalrecords||r:r,this.records=new Array,this.originaldata=new Array;var n=this.records,a=this.pageable?this.pagesize*this.pagenum:s.recordstartindex;this.recordids=new Array,s.loadallrecords&&(a=0,r=this.totalrecords);var o=0;this.virtualmode&&(a=this.pageable?this.pagesize*this.pagenum:s.recordstartindex,o=a,a=0,r=this.totalrecords);var l=s.datafields?s.datafields.length:0;if(0==l){var d=t[0],h=new Array;for(obj in d){var c=obj;h[h.length]={name:c}}s.datafields=h,s.generatedfields=s.datafields,l=h.length}for(var u=a,p=!1,f=a;r>f;f++){var m=t[f];if(void 0==m)break;var g=this.getid(s.id,m,f);if(!this.recordids[g]){this.recordids[g]=m;var v={},b=!1;s.hierarchy&&s.hierarchy.root&&(b=!0);for(var x=0;l>x;x++){var w=s.datafields[x],y="";if(void 0!=w&&null!=w){if(w.map)if(e.isFunction(w.map))y=w.map(m);else{var _=w.map.indexOf("[");if(0>_)if(y=e(w.map,m),1==y.length)y=y.text();else{p=!0;for(var j=new Array,q=0;q<y.length;q++)j.push(e(y[q]).text());y=j,b&&j.length>0&&(y=j[0])}else{var k=w.map.substring(0,_-1),I=w.map.indexOf("]"),T=w.map.substring(_+1,I);y=e(k,m).attr(T),void 0==y&&(y=e(m).attr(T)),void 0==y&&(y="")}""==y&&(y=e(m).attr(w.map),void 0==y&&(y=""))}if(""==y){if(y=e(w.name,m),1==y.length)y=y.text();else{for(var j=new Array,q=0;q<y.length;q++)j.push(e(y[q]).text());y=j,b&&j.length>0&&(y=j[0])}""==y&&(y=e(m).attr(w.name),void 0==y&&(y="")),""==y&&m.nodeName&&m.nodeName==w.name&&m.firstChild&&(y=e(m.firstChild).text())}y=this.getvaluebytype(y,w),void 0!=w.displayname?v[w.displayname]=y:v[w.name]=y}}(s.recordendindex<=0||a<s.recordendindex)&&(n[o+u]=e.extend({},v),n[o+u].uid=g,this.originaldata[o+u]=e.extend({},n[f]),u++)}}if(s.hierarchy&&s.hierarchy.root)for(var f=a;r>f;f++){var m=t[f],C=n[f];if(e(m).parent().length>0){var g=this.getid(s.id,e(m).parents(s.hierarchy.record+":first"));C.parentuid=g}else C.parentuid=null}this.records=n,this.cachedrecords=this.records}},loadtext:function(t,i){if(null!=t){var s=i.rowDelimiter||this.rowDelimiter||"\n",r=t.split(s),n=r.length,a=t.split("\r");1==n&&a.length>1&&(r=a,n=r.length),this.totalrecords=this.virtualmode?i.totalrecords||n:n,this.records=new Array,this.originaldata=new Array;var o=this.records,l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex;this.recordids=new Array,i.loadallrecords&&(l=0,n=this.totalrecords);var d=0;this.virtualmode&&(l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,d=l,l=0,n=this.totalrecords);
var h=i.datafields.length,c=i.columnDelimiter||this.columnDelimiter;c||(c="tab"===i.datatype||"tsv"===i.datatype?"	":",");for(var u=l;n>u;u++){var p=r[u],f=null;if(!this.recordids[f]){null==i.id&&(f=u,this.recordids[f]=p);for(var m={},g=r[u].split(c),v=0;h>v;v++)if(!(v>=g.length)){var b=i.datafields[v],x=g[v];b.map&&e.isFunction(b.map)&&(x=b.map(p)),b.type&&(x=this.getvaluebytype(x,b));var w=b.map||b.name||v.toString();m[w]=x,null!=i.id&&i.id===b.name&&(f=x,this.recordids[f]=p)}null==f&&(f=u),o[d+u]=e.extend({},m),o[d+u].uid=f,this.originaldata[d+u]=e.extend({},o[u])}}this.records=o,this.cachedrecords=this.records}},getvaluebytype:function(t,i){var s=t;if(null==t)return t;if(e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i);return t}if("date"==i.type)if("NaN"==t)t="";else{var n=new Date(t);if("string"==typeof t&&i.format){var a=e.jqx.dataFormat.parsedate(t,i.format);null!=a&&(n=a)}t=("NaN"==n.toString()||"Invalid Date"==n.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):n,null==t&&(t=s)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{var t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type||"integer"==i.type){var t=parseInt(t);isNaN(t)&&(t=s)}else("bool"==i.type||"boolean"==i.type)&&(null!=t&&void 0!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t?!0:0==t&&""!==t?!1:"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;s>i;i++)if(e[i]===t)return i;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return"undefined"==typeof e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!this.isString(t)&&this.isValue(t)?!1:this.isValue(t)?(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===t):!0},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){var e={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return e},expandFormat:function(e,t){t=t||"F";var i,s=e.patterns,r=t.length;if(1===r){if(i=s[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,s=e.getTime(),r=0,n=t.length;n>r;r++)if(i=t[r].start,null===i||s>=i)return r;return 0},toUpper:function(e){return e.split("\xa0").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],i=0,s=e.length;s>i;i++)t[i]=this.toUpper(e[i]);return t},getEraYear:function(e,t,i,s){var r=e.getFullYear();return!s&&t.eras&&(r-=t.eras[i].offset),r},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,i){var s,r=e.days,n=e._upperDays;return n||(e._upperDays=n=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr),this.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?(s=this.arrayIndexOf(n[1],t),-1===s&&(s=this.arrayIndexOf(n[2],t))):s=this.arrayIndexOf(n[0],t),s},getMonthIndex:function(e,t,i){var s=e.months,r=e.monthsGenitive||e.months,n=e._upperMonths,a=e._upperMonthsGen;n||(e._upperMonths=n=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr)],e._upperMonthsGen=a=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)]),t=this.toUpper(t);var o=this.arrayIndexOf(i?n[1]:n[0],t);return 0>o&&(o=this.arrayIndexOf(i?a[1]:a[0],t)),o},appendPreOrPostMatch:function(e,t){for(var i=0,s=!1,r=0,n=e.length;n>r;r++){var a=e.charAt(r);switch(a){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(a),s=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var i="";return t&&t.target&&(i="target="+t.target),""!=i?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,i){return this.formatnumber(e,t,i)},formatnumber:function(e,t,i){if((void 0==i||null==i||""==i)&&(i=this.defaultcalendar()),""===t||null===t)return e;this.isNumber(e)||(e*=1);var s;t.length>1&&(s=parseInt(t.slice(1),10));var r={},n=t.charAt(0).toUpperCase();switch(r.thousandsSeparator=i.thousandsseparator,r.decimalSeparator=i.decimalseparator,n){case"D":case"d":case"F":case"f":r.decimalPlaces=s;break;case"N":case"n":r.decimalPlaces=0;break;case"C":case"c":r.decimalPlaces=s,"before"==i.currencysymbolposition?r.prefix=i.currencysymbol:r.suffix=i.currencysymbol;break;case"P":case"p":r.suffix=i.percentsymbol,r.decimalPlaces=s;break;default:throw"Bad number format specifier: "+n}if(this.isNumber(e)){var a,o=0>e,l=e+"",d=r.decimalSeparator?r.decimalSeparator:".";if(this.isNumber(r.decimalPlaces)){var h=r.decimalPlaces,c=Math.pow(10,h);if(l=(e*c).toFixed(0)/c+"",a=l.lastIndexOf("."),h>0)for(0>a?(l+=d,a=l.length-1):"."!==d&&(l=l.replace(".",d));l.length-1-a<h;)l+="0"}else{var l=e+"";a=l.lastIndexOf("."),a>0&&void 0==h&&"."!==d&&(l=l.replace(".",d))}if(r.thousandsSeparator){var u=r.thousandsSeparator;a=l.lastIndexOf(d),a=a>-1?a:l.length;for(var p=l.substring(a),f=-1,m=a;m>0;m--)f++,f%3===0&&m!==a&&(!o||m>1)&&(p=u+p),p=l.charAt(m-1)+p;l=p}return l=r.prefix?r.prefix+l:l,l=r.suffix?l+r.suffix:l}return e},tryparsedate:function(e,t){(void 0==t||null==t)&&(t=this.defaultcalendar());var i=this;if(""==e)return null;if(null==e||e.substring||(e=e.toString()),null!=e&&"/Date("==e.substring(0,6)){var s=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,r=new Date(+e.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==r){var n=e.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),r=null;n&&(r=new Date(1*n[1]+36e5*n[2]+6e4*n[3]))}if(null==r||"Invalid Date"==r||isNaN(r)){var a=s.exec(e);if(a){var o=new Date(parseInt(a[1]));if(a[2]){var l=parseInt(a[3]);"-"===a[2]&&(l=-l);var d=o.getUTCMinutes();o.setUTCMinutes(d-l)}if(!isNaN(o.valueOf()))return o}}return r}patterns=t.patterns;for(prop in patterns)if(r=i.parsedate(e,patterns[prop],t)){if("ISO"==prop){var h=i.parsedate(e,patterns.ISO2,t);if(h)return h}return r}if(null!=e){for(var h=null,c=[":","/","-"],u=!0,p=0;p<c.length;p++)-1!=e.indexOf(c[p])&&(u=!1);if(u){var f=new Number(e);if(!isNaN(f))return new Date(f)}}return null},getparseregexp:function(e,t){var i=e._parseRegExp;if(i){var s=i[t];if(s)return s}else e._parseRegExp=i={};for(var r,n=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),a=["^"],o=[],l=0,d=0,h=this.getTokenRegExp();null!==(r=h.exec(n));){var c=n.slice(l,r.index);if(l=h.lastIndex,d+=this.appendPreOrPostMatch(c,a),d%2)a.push(r[0]);else{var u,p=r[0],f=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}u&&a.push(u),o.push(r[0])}}this.appendPreOrPostMatch(n.slice(l),a),a.push("$");var m=a.join("").replace(/\s+/g,"\\s+"),g={regExp:m,groups:o};return i[t]=g},outOfRange:function(e,t,i){return t>e||e>i},expandYear:function(e,t){var i=new Date,s=this.getEra(i);if(100>t){var r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var n=this.getEraYear(i,e,s);t+=n-n%100,t>r&&(t-=100)}return t},parsedate:function(e,t,i){(void 0==i||null==i)&&(i=this.defaultcalendar()),e=this.trim(e);var s=i,r=this.getparseregexp(s,t),n=new RegExp(r.regExp).exec(e);if(null===n)return null;for(var a,o=r.groups,l=null,d=null,h=null,c=null,u=null,p=0,f=0,m=0,g=0,v=null,b=!1,x=0,w=o.length;w>x;x++){var y=n[x+1];if(y){var _=o[x],j=_.length,q=parseInt(y,10);switch(_){case"dd":case"d":if(c=q,this.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":if(h=this.getMonthIndex(s,y,3===j),this.outOfRange(h,0,11))return null;break;case"M":case"MM":if(h=q-1,this.outOfRange(h,0,11))return null;break;case"y":case"yy":case"yyyy":if(d=4>j?this.expandYear(s,q):q,this.outOfRange(d,0,9999))return null;break;case"h":case"hh":if(p=q,12===p&&(p=0),this.outOfRange(p,0,11))return null;break;case"H":case"HH":if(p=q,this.outOfRange(p,0,23))return null;break;case"m":case"mm":if(f=q,this.outOfRange(f,0,59))return null;break;case"s":case"ss":if(m=q,this.outOfRange(m,0,59))return null;break;case"tt":case"t":if(b=s.PM&&(y===s.PM[0]||y===s.PM[1]||y===s.PM[2]),!b&&(!s.AM||y!==s.AM[0]&&y!==s.AM[1]&&y!==s.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=q*Math.pow(10,3-j),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(u=this.getDayIndex(s,y,3===j),this.outOfRange(u,0,6))return null;break;case"zzz":var k=y.split(/:/);if(2!==k.length)return null;if(a=parseInt(k[0],10),this.outOfRange(a,-12,13))return null;var I=parseInt(k[1],10);if(this.outOfRange(I,0,59))return null;v=60*a+(this.startsWith(y,"-")?-I:I);break;case"z":case"zz":if(a=q,this.outOfRange(a,-12,13))return null;v=60*a;break;case"g":case"gg":var T=y;if(!T||!s.eras)return null;T=trim(T.toLowerCase());for(var C=0,S=s.eras.length;S>C;C++)if(T===s.eras[C].name.toLowerCase()){l=C;break}if(null===l)return null}}}var D,P=new Date,E=s.convert;if(D=P.getFullYear(),null===d?d=D:s.eras&&(d+=s.eras[l||0].offset),null===h&&(h=0),null===c&&(c=1),E){if(P=E.toGregorian(d,h,c),null===P)return null}else{if(P.setFullYear(d,h,c),P.getDate()!==c)return null;if(null!==u&&P.getDay()!==u)return null}if(b&&12>p&&(p+=12),P.setHours(p,f,m,g),null!==v){var H=P.getMinutes()-(v+P.getTimezoneOffset());P.setHours(P.getHours()+parseInt(H/60,10),H%60)}return P},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,i){return this.formatdate(e,t,i)},formatdate:function(e,t,i){function s(e,t){var i,s=e+"";return t>1&&s.length<t?(i=u[t-2]+s,i.substr(i.length-t,t)):i=s}function r(e,t){if(c)return c[t];if(void 0!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}if((void 0==i||null==i)&&(i=this.defaultcalendar()),"string"==typeof e)return e;var n=e.toString()+"_"+t;if(this.datescache&&this.datescache[n])return this.datescache[n];if(!t||!t.length||"i"===t){var a;return a=this.formatDate(e,i.patterns.F,i)}var o=i.eras,l="s"===t;t=this.expandFormat(i,t),a=[];for(var d,h,c,u=["0","00","000"],p=0,f=this.getTokenRegExp();;){var m=f.lastIndex,g=f.exec(t),v=t.slice(m,g?g.index:t.length);if(p+=this.appendPreOrPostMatch(v,a),!g)break;if(p%2)a.push(g[0]);else{var b=g[0],x=b.length;switch(b){case"ddd":case"dddd":var w=3===x?i.days.namesAbbr:i.days.names;a.push(w[e.getDay()]);break;case"d":case"dd":h=!0,a.push(s(r(e,2),x));break;case"MMM":case"MMMM":var y=r(e,1);a.push(i.months[3===x?"namesAbbr":"names"][y]);break;case"M":case"MM":a.push(s(r(e,1)+1,x));break;case"y":case"yy":case"yyyy":y=this.getEraYear(e,i,this.getEra(e,o),l),4>x&&(y%=100),a.push(s(y,x));break;case"h":case"hh":d=e.getHours()%12,0===d&&(d=12),a.push(s(d,x));break;case"H":case"HH":a.push(s(e.getHours(),x));break;case"m":case"mm":a.push(s(e.getMinutes(),x));break;case"s":case"ss":a.push(s(e.getSeconds(),x));break;case"t":case"tt":y=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",a.push(1===x?y.charAt(0):y);break;case"f":case"ff":case"fff":a.push(s(e.getMilliseconds(),3).substr(0,x));break;case"z":case"zz":d=e.getTimezoneOffset()/60,a.push((0>=d?"+":"-")+s(Math.floor(Math.abs(d)),x));break;case"zzz":d=e.getTimezoneOffset()/60,a.push((0>=d?"+":"-")+s(Math.floor(Math.abs(d)),2)+":"+s(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&a.push(i.eras[this.getEra(e,o)].name);break;case"/":a.push(i["/"]);break;default:throw"Invalid date format pattern '"+b+"'."}}}var _=a.join("");return this.datescache||(this.datescache=new Array),this.datescache[n]=_,_}}),e.jqx.data={};var l,d,h=/#.*$/,c=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,u=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,p=/^(?:GET|HEAD)$/,f=/^\/\//,m=/\?/,g=/([?&])_=[^&]*/,v=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,b=/\s+/,x=(e.fn.load,{}),w={},y=["*/"]+["*"];try{d=location.href}catch(_){d=document.createElement("a"),d.href="",d=d.href}l=v.exec(d.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,i){return i?s(t,e.jqx.data.ajaxSettings):(i=t,t=e.jqx.data.ajaxSettings),s(t,i),t},ajaxSettings:{url:d,isLocal:u.test(l[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":y},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:t(x),ajaxTransport:t(w),ajax:function(t,s){function a(t,i,s,a){var l,h,c,u,p,f=i;2!==A&&(A=2,j&&clearTimeout(j),_=void 0,d=a||"",M.readyState=t>0?4:0,s&&(u=r(T,M,s)),t>=200&&300>t||304===t?(T.ifModified&&(p=M.getResponseHeader("Last-Modified"),p&&(e.lastModified[o]=p),p=M.getResponseHeader("Etag"),p&&(e.etag[o]=p)),304===t?(f="notmodified",l=!0):(l=n(T,u),f=l.state,h=l.data,c=l.error,l=!c)):(c=f,(!f||t)&&(f="error",0>t&&(t=0))),M.status=t,M.statusText=(i||f)+"",l?D.resolveWith(C,[h,f,M]):D.rejectWith(C,[M,f,c]),M.statusCode(E),E=void 0,k&&S.trigger("ajax"+(l?"Success":"Error"),[M,T,l?h:c]),P.fireWith(C,[M,f]),k&&(S.trigger("ajaxComplete",[M,T]),--e.active||e.event.trigger("ajaxStop")))}"object"==typeof t&&(s=t,t=void 0),s=s||{};var o,d,u,_,j,q,k,I,T=e.jqx.data.ajaxSetup({},s),C=T.context||T,S=C!==T&&(C.nodeType||C instanceof e)?e(C):e.event,D=e.Deferred(),P=e.Callbacks("once memory"),E=T.statusCode||{},H={},B={},A=0,z="canceled",M={readyState:0,setRequestHeader:function(e,t){if(!A){var i=e.toLowerCase();e=B[i]=B[i]||e,H[e]=t}return this},getAllResponseHeaders:function(){return 2===A?d:null},getResponseHeader:function(e){var t;if(2===A){if(!u)for(u={};t=c.exec(d);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return A||(T.mimeType=e),this},abort:function(e){return e=e||z,_&&_.abort(e),a(0,e),this}};if(D.promise(M),M.success=M.done,M.error=M.fail,M.complete=P.add,M.statusCode=function(e){if(e){var t;if(2>A)for(t in e)E[t]=[E[t],e[t]];else t=e[M.status],M.always(t)}return this},T.url=((t||T.url)+"").replace(h,"").replace(f,l[1]+"//"),T.dataTypes=e.trim(T.dataType||"*").toLowerCase().split(b),null==T.crossDomain&&(q=v.exec(T.url.toLowerCase()),T.crossDomain=!(!q||q[1]===l[1]&&q[2]===l[2]&&(q[3]||("http:"===q[1]?80:443))==(l[3]||("http:"===l[1]?80:443)))),T.data&&T.processData&&"string"!=typeof T.data&&(T.data=e.param(T.data,T.traditional)),i(x,T,s,M),2===A)return M;if(k=T.global,T.type=T.type.toUpperCase(),T.hasContent=!p.test(T.type),k&&0===e.active++&&e.event.trigger("ajaxStart"),!T.hasContent&&(T.data&&(T.url+=(m.test(T.url)?"&":"?")+T.data,delete T.data),o=T.url,T.cache===!1)){var L=e.now(),O=T.url.replace(g,"$1_="+L);T.url=O+(O===T.url?(m.test(T.url)?"&":"?")+"_="+L:"")}(T.data&&T.hasContent&&T.contentType!==!1||s.contentType)&&M.setRequestHeader("Content-Type",T.contentType),T.ifModified&&(o=o||T.url,e.lastModified[o]&&M.setRequestHeader("If-Modified-Since",e.lastModified[o]),e.etag[o]&&M.setRequestHeader("If-None-Match",e.etag[o])),M.setRequestHeader("Accept",T.dataTypes[0]&&T.accepts[T.dataTypes[0]]?T.accepts[T.dataTypes[0]]+("*"!==T.dataTypes[0]?", "+y+"; q=0.01":""):T.accepts["*"]);for(I in T.headers)M.setRequestHeader(I,T.headers[I]);if(T.beforeSend&&(T.beforeSend.call(C,M,T)===!1||2===A))return M.abort();z="abort";for(I in{success:1,error:1,complete:1})M[I](T[I]);if(_=i(w,T,s,M)){M.readyState=1,k&&S.trigger("ajaxSend",[M,T]),T.async&&T.timeout>0&&(j=setTimeout(function(){M.abort("timeout")},T.timeout));try{A=1,_.send(H,a)}catch(N){if(!(2>A))throw N;a(-1,N)}}else a(-1,"No Transport");return M},active:0,lastModified:{},etag:{}});var j=[],q=/\?/,k=/(=)\?(?=&|$)|\?\?/,I=e.now();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=j.pop()||e.expando+"_"+I++;return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",function(t,i,s){var r,n,a,o=t.data,l=t.url,d=t.jsonp!==!1,h=d&&k.test(l),c=d&&!h&&"string"==typeof o&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&k.test(o);return"jsonp"===t.dataTypes[0]||h||c?(r=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,n=window[r],h?t.url=l.replace(k,"$1"+r):c?t.data=o.replace(k,"$1"+r):d&&(t.url+=(q.test(l)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||e.error(r+" was not called"),a[0]},t.dataTypes[0]="json",window[r]=function(){a=arguments},s.always(function(){window[r]=n,t[r]&&(t.jsonpCallback=i.jsonpCallback,j.push(r)),a&&e.isFunction(n)&&n(a[0]),a=n=void 0}),"script"):void 0}),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),e.jqx.data.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(s,r){t=document.createElement("script"),t.async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,s){(s||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0,s||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var T,C=window.ActiveXObject?function(){for(var e in T)T[e](0,1)}:!1,S=0;e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&a()||o()}:a,function(t){e.extend(e.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(e.jqx.data.ajaxSettings.xhr()),e.support.ajax&&e.jqx.data.ajaxTransport(function(t){if(!t.crossDomain||e.support.cors){var i;return{send:function(s,r){var n,a,o=t.xhr();if(t.username?o.open(t.type,t.url,t.async,t.username,t.password):o.open(t.type,t.url,t.async),t.xhrFields)for(a in t.xhrFields)o[a]=t.xhrFields[a];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(a in s)o.setRequestHeader(a,s[a])}catch(l){}o.send(t.hasContent&&t.data||null),i=function(s,a){var l,d,h,c,u;try{if(i&&(a||4===o.readyState))if(i=void 0,n&&(o.onreadystatechange=e.noop,C&&delete T[n]),a)4!==o.readyState&&o.abort();else{l=o.status,h=o.getAllResponseHeaders(),c={},u=o.responseXML,u&&u.documentElement&&(c.xml=u);try{c.text=o.responseText}catch(p){}try{d=o.statusText}catch(p){d=""}l||!t.isLocal||t.crossDomain?1223===l&&(l=204):l=c.text?200:404}}catch(f){a||r(-1,f)}c&&r(l,d,c,h)},t.async?4===o.readyState?setTimeout(i,0):(n=++S,C&&(T||(T={},e(window).unload(C)),T[n]=i),o.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}}),e.jqx.filter=function(){this.operator="and";var t=1,i=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],s=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],n=["EQUAL","NOT_EQUAL"],a=new Array,o=new Array;this.evaluate=function(e){for(var i=!0,s=0;s<a.length;s++){var r=a[s].evaluate(e);i=0==s?r:o[s]==t||"or"==o[s]?i||r:i&&r}return i},this.getfilterscount=function(){return a.length},this.setoperatorsbyfiltertype=function(e,t){switch(e){case"numericfilter":s=t;break;case"stringfilter":i=t;break;case"datefilter":r=t;break;case"booleanfilter":n=t}},this.getoperatorsbyfiltertype=function(e){var t=new Array;switch(e){case"numericfilter":t=s.slice(0);break;case"stringfilter":t=i.slice(0);break;case"datefilter":t=r.slice(0);break;case"booleanfilter":t=n.slice(0)}return t};var l=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,i,s,r,n){if(null==e||void 0==e)return null;switch(e){case"numericfilter":return new c(t,i.toUpperCase());case"stringfilter":return new d(t,i.toUpperCase());case"datefilter":return new u(t,i.toUpperCase(),r,n);case"booleanfilter":return new h(t,i.toUpperCase());case"custom":return new p(t,i.toUpperCase(),s)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<a.length;t++){var i={value:a[t].filtervalue,condition:a[t].comparisonoperator,operator:o[t],type:a[t].type};a[t].data&&(i.id=a[t].data),e[t]=i}return e},this.addfilter=function(e,t){a[a.length]=t,t.key=l(),o[o.length]=e},this.removefilter=function(e){for(var t=0;t<a.length;t++)if(a[t].key==e.key){a.splice(t,1),o.splice(t,1);break}},this.getoperatorat=function(e){return void 0==e||null==e?null:0>e||e>a.length?null:o[e]},this.setoperatorat=function(e,t){return void 0==e||null==e?null:0>e||e>a.length?null:void(o[t]=t)},this.getfilterat=function(e){return void 0==e||null==e?null:0>e||e>a.length?null:a[e]},this.setfilterat=function(e,t){return void 0==e||null==e?null:0>e||e>a.length?null:(t.key=l(),void(a[e]=t))},this.clear=function(){a=new Array,o=new Array};var d=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="stringfilter",this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NULL"==s)return!0;if("EQUAL"==s&&t==i)return!0;if("NOT_EQUAL"==s&&t!=i)return!0;if("EMPTY"!=s)return!1;if(""==t)return!0}var r="";try{r=t.toString()}catch(n){return!0}var a=function(t,i){switch(s){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,i);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,i);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,i);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,i);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,i);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,i);case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,i);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,i);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,i);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,i);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,i);default:return!1}},o=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var l=a(r,i);if(l)return l;var d=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,h=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,c=i.indexOf(" and ")>=0?i.split(" and "):new Array,u=i.indexOf(" or ")>=0?i.split(" or "):new Array,p=i.indexOf("|")>=0?i.split("|"):new Array;if(p.length>0)for(var f=0;f<p.length;f++)p[f]=e.trim(p[f]);var m=i.indexOf(" ")>=0?i.split(" "):new Array;if(m.length>0)for(var f=0;f<m.length;f++)m[f]=e.trim(m[f]);if(d=d.concat(m),d=d.concat(c),h=h.concat(p),h=h.concat(u),d.length>0)for(var f=0;f<d.length;f++)!d[f].indexOf(" OR ")>=0&&o.push(d[f]);if(h.length>0)for(var f=0;f<h.length;f++)!h[f].indexOf(" AND ")>=0&&o.push(h[f]);for(var g=void 0,v=0;v<o.length;v++){var t=o[v],l=a(r,t),b=v<d.length?"and":"or";g=void 0==g?l:"or"==b?g||l:g&&l}return g}return a(r,i)}},h=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||void 0==e)return"NULL"==i?!0:!1;var s=e;switch(i){case"EQUAL":return s==t||s.toString()==t.toString();case"NOT_EQUAL":return s!=t&&s.toString()!=t.toString();default:return!1}}},c=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="numericfilter",this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null===t||void 0===t||""===t){if("NOT_NULL"==s)return!1;if("NULL"==s)return!0;switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==s)return!1;if("NOT_NULL"==s)return!0;var r=t;try{r=parseFloat(r)}catch(n){if(""!=t.toString())return!1}var a=function(t,i){switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i;case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return i>t;case"LESS_THAN_OR_EQUAL":return i>=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},o=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var l=a(r,i);if(l)return l;i=i.toString();var d=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,h=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,c=i.indexOf(" and ")>=0?i.split(" and "):new Array,u=i.indexOf(" or ")>=0?i.split(" or "):new Array;d=d.concat(c),h=h.concat(u);var p=i.indexOf("|")>=0?i.split("|"):new Array;if(p.length>0)for(var f=0;f<p.length;f++)p[f]=e.trim(p[f]);if(h=h.concat(p),d.length>0)for(var f=0;f<d.length;f++)!d[f].indexOf(" OR ")>=0&&o.push(d[f]);if(h.length>0)for(var f=0;f<h.length;f++)!h[f].indexOf(" AND ")>=0&&o.push(h[f]);for(var m=void 0,g=0;g<o.length;g++){var t=o[g];if(t&&t.indexOf&&t.indexOf("..")>=0){var v=t.toString().split("..");2==v.length&&(l=r>=v[0]&&r<=v[1])}else var l=a(r,t);var b=g<d.length?"and":"or";m=void 0==m?l:"or"==b?m||l:m&&l}return m}return i&&i.indexOf&&i.indexOf("..")>=0&&(o=i.toString().split(".."),2==o.length)?r>=o[0]&&r<=o[1]:a(r,i)}},u=function(t,i,s,r){if(this.filtervalue=t,this.type="datefilter",void 0!=s&&void 0!=r){var n=e.jqx.dataFormat.parsedate(t,s,r);if(null!=n)this.filterdate=n;else{var a=e.jqx.dataFormat.tryparsedate(t,r);null!=a&&(this.filterdate=a)}}else{var o=new Date(t);this.filterdate="NaN"==o.toString()||"Invalid Date"==o.toString()?e.jqx.dataFormat.tryparsedate(t):o}if(!this.filterdate){var o=new Date(t);this.filterdate="NaN"==o.toString()||"Invalid Date"==o.toString()?e.jqx.dataFormat.tryparsedate(t):o}this.comparisonoperator=i,this.evaluate=function(t){var i=this.filtervalue,n=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NOT_NULL"==n)return!1;if("NULL"==n)return!0;switch(n){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==n)return!1;if("NOT_NULL"==n)return!0;var a=new Date;a.setFullYear(1900,0,1),a.setHours(12,0,0,0);try{var o=new Date(t);t="NaN"==o.toString()||"Invalid Date"==o.toString()?e.jqx.dataFormat.tryparsedate(t):o,a=t;var l=!1;if(void 0!=s&&void 0!=r&&(s.indexOf("t")>=0||s.indexOf("T")>=0||s.indexOf(":")>=0||s.indexOf("f")>=0)&&(l=!0,i&&-1==i.toString().indexOf(":"))){var d=e.jqx.dataFormat.tryparsedate(i.toString()+":00",r);null!=d&&(this.filterdate=d)}l||(a.setHours(0),a.setMinutes(0),a.setSeconds(0))}catch(h){if(""!=t.toString())return!1}if(null!=this.filterdate)i=this.filterdate;else if(i.indexOf&&(-1!=i.indexOf(":")||!isNaN(parseInt(i)))){var c=new Date(a);c.setHours(12,0,0,0);for(var u=i.split(":"),p=0;p<u.length;p++)0==p&&c.setHours(u[p]),1==p&&c.setMinutes(u[p]),2==p&&c.setSeconds(u[p]);i=c}l&&i&&i.setFullYear&&a&&a.getFullYear&&-1==s.indexOf("d")&&-1==s.indexOf("M")&&-1==s.indexOf("y")&&i.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());var f=function(t,i){switch(null==t&&(t=""),n){case"EQUAL":return t.toString()==i.toString();case"NOT_EQUAL":return t.toString()!=i.toString();case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return i>t;case"LESS_THAN_OR_EQUAL":return i>=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},m=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var d=f(a,i);if(d)return d;var g=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,v=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,b=i.indexOf(" and ")>=0?i.split(" and "):new Array,x=i.indexOf(" or ")>=0?i.split(" or "):new Array;g=g.concat(b),v=v.concat(x);var w=i.indexOf("|")>=0?i.split("|"):new Array;if(w.length>0)for(var p=0;p<w.length;p++)w[p]=e.trim(w[p]);if(v=v.concat(w),g.length>0)for(var p=0;p<g.length;p++)!g[p].indexOf(" OR ")>=0&&m.push(g[p]);if(v.length>0)for(var p=0;p<v.length;p++)!v[p].indexOf(" AND ")>=0&&m.push(v[p]);for(var y=void 0,_=0;_<m.length;_++){var t=m[_];if(t&&t.indexOf&&t.indexOf("..")>=0){var j=t.toString().split("..");2==j.length&&(d=a>=j[0]&&a<=j[1])}else var d=f(a,t);var q=_<g.length?"and":"or";y=void 0==y?d:"or"==q?y||d:y&&d}return y}return i&&i.indexOf&&i.indexOf("..")>=0&&(m=i.toString().split(".."),2==m.length)?a>=m[0]&&a<=m[1]:f(a,i)}},p=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e){return i(this.filtervalue,e,this.comparisonoperator)}}},e.jqx.longInt=function(){var e=this;e.longObj=new Object;var t=e.longObj;t.math=new Object,t.math.Long=new Object,t.math.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},t.math.Long.IntCache={},t.math.Long.fromInt=function(e){if(e>=-128&&128>e){var i=t.math.Long.IntCache[e];if(i)return i}var s=new t.math.Long(0|e,0>e?-1:0);return e>=-128&&128>e&&(t.math.Long.IntCache[e]=s),s},t.math.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?t.math.Long.ZERO:e<=-t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MIN_VALUE:e+1>=t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MAX_VALUE:0>e?t.math.Long.fromNumber(-e).negate():new t.math.Long(e%t.math.Long.TWO_PWR_32_DBL_|0,e/t.math.Long.TWO_PWR_32_DBL_|0)
},t.math.Long.fromBits=function(e,i){return new t.math.Long(e,i)},t.math.Long.fromString=function(e,i){if(0===e.length)throw new Error("number format error: empty string");var s=i||10;if(2>s||s>36)throw new Error("radix out of range: "+s);if("-"===e.charAt(0))return t.math.Long.fromString(e.substring(1),s).negate();if(e.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+e);for(var r=t.math.Long.fromNumber(Math.pow(s,8)),n=t.math.Long.ZERO,a=0;a<e.length;a+=8){var o=Math.min(8,e.length-a),l=parseInt(e.substring(a,a+o),s);if(8>o){var d=t.math.Long.fromNumber(Math.pow(s,o));n=n.multiply(d).add(t.math.Long.fromNumber(l))}else n=n.multiply(r),n=n.add(t.math.Long.fromNumber(l))}return n},t.math.Long.TWO_PWR_16_DBL_=65536,t.math.Long.TWO_PWR_24_DBL_=1<<24,t.math.Long.TWO_PWR_32_DBL_=t.math.Long.TWO_PWR_16_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_31_DBL_=t.math.Long.TWO_PWR_32_DBL_/2,t.math.Long.TWO_PWR_48_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_64_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_32_DBL_,t.math.Long.TWO_PWR_63_DBL_=t.math.Long.TWO_PWR_64_DBL_/2,t.math.Long.ZERO=t.math.Long.fromInt(0),t.math.Long.ONE=t.math.Long.fromInt(1),t.math.Long.NEG_ONE=t.math.Long.fromInt(-1),t.math.Long.MAX_VALUE=t.math.Long.fromBits(-1,2147483647),t.math.Long.MIN_VALUE=t.math.Long.fromBits(0,-2147483648),t.math.Long.TWO_PWR_24_=t.math.Long.fromInt(1<<24),t.math.Long.prototype.toInt=function(){return this.lowBits},t.math.Long.prototype.toNumber=function(){return this.highBits*t.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},t.math.Long.prototype.toString=function(i){var s=i||10;if(2>s||s>36)throw new Error("radix out of range: "+s);if(this.isZero())return"0";var r,n;if(this.isNegative()){if(this.equals(t.math.Long.MIN_VALUE)){var a=t.math.Long.fromNumber(s),o=this.div(a);return r=o.multiply(a).subtract(this),o.toString(s)+r.toInt().toString(s)}switch(s){case 2:case 8:case 16:return n="-"+this.negate().toString(2),e._negativeBinary(n,s);default:return n="-"+this.negate().toString(s)}}var l=t.math.Long.fromNumber(Math.pow(s,6));for(r=this,n="";;){var d=r.div(l),h=r.subtract(d.multiply(l)).toInt(),c=h.toString(s);if(r=d,r.isZero())return c+n;for(;c.length<6;)c="0"+c;n=""+c+n}},t.math.Long.prototype.getHighBits=function(){return this.highBits},t.math.Long.prototype.getLowBits=function(){return this.lowBits},t.math.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:t.math.Long.TWO_PWR_32_DBL_+this.lowBits},t.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.highBits?this.highBits:this.lowBits,i=31;i>0&&0===(e&1<<i);i--);return 0!==this.highBits?i+33:i+1},t.math.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},t.math.Long.prototype.isNegative=function(){return this.highBits<0},t.math.Long.prototype.isOdd=function(){return 1===(1&this.lowBits)},t.math.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},t.math.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},t.math.Long.prototype.lessThan=function(e){return this.compare(e)<0},t.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},t.math.Long.prototype.greaterThan=function(e){return this.compare(e)>0},t.math.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},t.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},t.math.Long.prototype.negate=function(){return this.equals(t.math.Long.MIN_VALUE)?t.math.Long.MIN_VALUE:this.not().add(t.math.Long.ONE)},t.math.Long.prototype.add=function(e){var i=this.highBits>>>16,s=65535&this.highBits,r=this.lowBits>>>16,n=65535&this.lowBits,a=e.highBits>>>16,o=65535&e.highBits,l=e.lowBits>>>16,d=65535&e.lowBits,h=0,c=0,u=0,p=0;return p+=n+d,u+=p>>>16,p&=65535,u+=r+l,c+=u>>>16,u&=65535,c+=s+o,h+=c>>>16,c&=65535,h+=i+a,h&=65535,t.math.Long.fromBits(u<<16|p,h<<16|c)},t.math.Long.prototype.subtract=function(e){return this.add(e.negate())},t.math.Long.prototype.multiply=function(e){if(this.isZero())return t.math.Long.ZERO;if(e.isZero())return t.math.Long.ZERO;if(this.equals(t.math.Long.MIN_VALUE))return e.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO;if(e.equals(t.math.Long.MIN_VALUE))return this.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(t.math.Long.TWO_PWR_24_)&&e.lessThan(t.math.Long.TWO_PWR_24_))return t.math.Long.fromNumber(this.toNumber()*e.toNumber());var i=this.highBits>>>16,s=65535&this.highBits,r=this.lowBits>>>16,n=65535&this.lowBits,a=e.highBits>>>16,o=65535&e.highBits,l=e.lowBits>>>16,d=65535&e.lowBits,h=0,c=0,u=0,p=0;return p+=n*d,u+=p>>>16,p&=65535,u+=r*d,c+=u>>>16,u&=65535,u+=n*l,c+=u>>>16,u&=65535,c+=s*d,h+=c>>>16,c&=65535,c+=r*l,h+=c>>>16,c&=65535,c+=n*o,h+=c>>>16,c&=65535,h+=i*d+s*l+r*o+n*a,h&=65535,t.math.Long.fromBits(u<<16|p,h<<16|c)},t.math.Long.prototype.div=function(e){if(e.isZero())throw new Error("division by zero");if(this.isZero())return t.math.Long.ZERO;var i,s;if(this.equals(t.math.Long.MIN_VALUE)){if(e.equals(t.math.Long.ONE)||e.equals(t.math.Long.NEG_ONE))return t.math.Long.MIN_VALUE;if(e.equals(t.math.Long.MIN_VALUE))return t.math.Long.ONE;var r=this.shiftRight(1);if(i=r.div(e).shiftLeft(1),i.equals(t.math.Long.ZERO))return e.isNegative()?t.math.Long.ONE:t.math.Long.NEG_ONE;s=this.subtract(e.multiply(i));var n=i.add(s.div(e));return n}if(e.equals(t.math.Long.MIN_VALUE))return t.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var a=t.math.Long.ZERO;for(s=this;s.greaterThanOrEqual(e);){i=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(i)/Math.LN2),l=48>=o?1:Math.pow(2,o-48),d=t.math.Long.fromNumber(i),h=d.multiply(e);h.isNegative()||h.greaterThan(s);)i-=l,d=t.math.Long.fromNumber(i),h=d.multiply(e);d.isZero()&&(d=t.math.Long.ONE),a=a.add(d),s=s.subtract(h)}return a},t.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},t.math.Long.prototype.not=function(){return t.math.Long.fromBits(~this.lowBits,~this.highBits)},t.math.Long.prototype.and=function(e){return t.math.Long.fromBits(this.lowBits&e.lowBits,this.highBits&e.highBits)},t.math.Long.prototype.or=function(e){return t.math.Long.fromBits(this.lowBits|e.lowBits,this.highBits|e.highBits)},t.math.Long.prototype.xor=function(e){return t.math.Long.fromBits(this.lowBits^e.lowBits,this.highBits^e.highBits)},t.math.Long.prototype.shiftLeft=function(e){if(e&=63,0===e)return this;var i=this.lowBits;if(32>e){var s=this.highBits;return t.math.Long.fromBits(i<<e,s<<e|i>>>32-e)}return t.math.Long.fromBits(0,i<<e-32)},t.math.Long.prototype.shiftRight=function(e){if(e&=63,0===e)return this;var i=this.highBits;if(32>e){var s=this.lowBits;return t.math.Long.fromBits(s>>>e|i<<32-e,i>>e)}return t.math.Long.fromBits(i>>e-32,i>=0?0:-1)},t.math.Long.prototype.shiftRightUnsigned=function(e){if(e&=63,0===e)return this;var i=this.highBits;if(32>e){var s=this.lowBits;return t.math.Long.fromBits(s>>>e|i<<32-e,i>>>e)}return 32===e?t.math.Long.fromBits(i,0):t.math.Long.fromBits(i>>>e-32,0)}}}(jqxBaseFramework),function(e){e.jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in t)if(t.hasOwnProperty(prop)&&e==prop)return t[prop]},e.jqx.jqxWidget("jqxButton","",{}),e.extend(e.jqx._jqxButton.prototype,{defineInstance:function(){var t={cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},createInstance:function(){var t=this;t._setSize(),t._ariaDisabled||t.host.attr("role","button"),t.overrideTheme||(t.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t.enableDefault&&t.host.addClass(t.toThemeProperty("jqx-button")),t.host.addClass(t.toThemeProperty("jqx-widget"))),t.isTouchDevice=e.jqx.mobile.isTouchDevice(),t._ariaDisabled||e.jqx.aria(this),"arrow"!=t.cursor&&t.host.css(t.disabled?{cursor:"arrow"}:{cursor:t.cursor});var i="mouseenter mouseleave mousedown focus blur";if(t._scrollAreaButton)var i="mousedown";t.isTouchDevice&&(t.addHandler(t.host,e.jqx.mobile.getTouchEventName("touchstart"),function(){t.isPressed=!0,t.refresh()}),t.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id,function(){t.isPressed=!1,t.refresh()})),t.addHandler(t.host,i,function(e){switch(e.type){case"mouseenter":t.isTouchDevice||!t.disabled&&t.enableHover&&(t.isMouseOver=!0,t.refresh());break;case"mouseleave":t.isTouchDevice||!t.disabled&&t.enableHover&&(t.isMouseOver=!1,t.refresh());break;case"mousedown":t.disabled||(t.isPressed=!0,t.refresh());break;case"focus":t.disabled||(t.isFocused=!0,t.refresh());break;case"blur":t.disabled||(t.isFocused=!1,t.refresh())}}),t.mouseupfunc=function(){t.disabled||(t.isPressed=!1,t.refresh())},t.addHandler(e(document),"mouseup.button"+t.element.id,t.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s="";if(window.parent&&document.referrer&&(s=document.referrer),-1!=s.indexOf(document.location.host)){var r=function(){t.isPressed=!1,t.refresh()};window.top.document&&t.addHandler(e(window.top.document),"mouseup",r)}}}catch(n){}t.propertyChangeMap.roundedCorners=function(t,i,s,r){t.host.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(s))),t.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},t.propertyChangeMap.width=function(e){e._setSize(),e.refresh()},t.propertyChangeMap.height=function(e){e._setSize(),e.refresh()},t.propertyChangeMap.disabled=function(t,i,s,r){s!=r&&(t.host[0].disabled=r,t.host.attr("disabled",r),t.refresh(),t.host.css(r?{cursor:"default"}:{cursor:t.cursor}),e.jqx.aria(t,"aria-disabled",t.disabled))},t.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},t.propertyChangeMap.template=function(e,t,i,s){i!=s&&(e.host.removeClass("jqx-"+i),e.refresh())},t.propertyChangeMap.theme=function(t){t.host.removeClass(),t.enableDefault&&t.host.addClass(t.toThemeProperty("jqx-button")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.overrideTheme||t.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t._oldCSSCurrent=null,t.refresh()},t.disabled&&(t.element.disabled=!0,t.host.attr("disabled",!0))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(){var t=this,i=t.host.find("input");return i.length>0?0==arguments.length||"object"==typeof value?i.val():(i.val(value),t.refresh(),i.val()):0==arguments.length||"object"==typeof value?"button"==t.element.nodeName.toLowerCase()?e(t.element).text():t.element.value:(t.element.value=arguments[0],"button"==t.element.nodeName.toLowerCase()&&e(t.element).text(arguments[0]),void t.refresh())},_setSize:function(){var e=this;null==e.width||-1==e.width.toString().indexOf("px")&&-1==e.width.toString().indexOf("%")?void 0==e.width||isNaN(e.width)||e.host.css("width",e.width):e.host.css("width",e.width),null==e.height||-1==e.height.toString().indexOf("px")&&-1==e.height.toString().indexOf("%")?void 0==e.height||isNaN(e.height)||e.host.css("height",parseInt(e.height)):e.host.css("height",e.height)},_removeHandlers:function(){var t=this;t.removeHandler(t.host,"selectstart"),t.removeHandler(t.host,"click"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.removeHandler(t.host,"mousedown"),t.removeHandler(e(document),"mouseup.button"+t.element.id,t.mouseupfunc),t.isTouchDevice&&(t.removeHandler(t.host,e.jqx.mobile.getTouchEventName("touchstart")),t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id)),t.mouseupfunc=null,delete t.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var t=this;t._removeHandlers();var i=e.data(t.element,"jqxButton");i&&delete i.instance,t.host.removeClass(),t.host.removeData(),t.host.remove(),delete t.set,delete t.get,delete t.call,delete t.propertyChangeMap.roundedCorners,delete t.propertyChangeMap.width,delete t.propertyChangeMap.height,delete t.propertyChangeMap.disabled,delete t.propertyChangeMap.rtl,delete t.propertyChangeMap.theme,delete t.propertyChangeMap,delete t.element,delete t.host},render:function(){this.refresh()},refresh:function(){var e=this;if(!e.overrideTheme){var t=e.toThemeProperty("jqx-fill-state-focus"),i=e.toThemeProperty("jqx-fill-state-disabled"),s=e.toThemeProperty("jqx-fill-state-normal");e.enableDefault||(s="");var r=e.toThemeProperty("jqx-fill-state-hover"),n=e.toThemeProperty("jqx-fill-state-pressed"),a=e.toThemeProperty("jqx-fill-state-pressed");e.enablePressed||(n="");var o="";if(e.host){if(e.host[0].disabled=e.disabled,e.disabled)return o=s+" "+i,e.host.addClass(o),void(e._oldCSSCurrent=o);o=e.isMouseOver&&!e.isTouchDevice?e.isPressed?a:r:e.isPressed?n:s,e.isFocused&&(o+=" "+t),"default"!==e.template&&""!==e.template&&(o+=" jqx-"+e.template),o!=e._oldCSSCurrent&&(e._oldCSSCurrent&&e.host.removeClass(e._oldCSSCurrent),e.host.addClass(o),e._oldCSSCurrent=o),e.rtl&&(e.host.addClass(e.toThemeProperty("jqx-rtl")),e.host.css("direction","rtl"))}}}}),e.jqx.jqxWidget("jqxLinkButton","",{}),e.extend(e.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(e){var t=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var i=this.height||this.host.height(),s=this.width||this.host.width();this.href=this.host.attr("href"),this.target=this.host.attr("target"),this.content=this.host.text(),this.element.innerHTML="",this.host.append("<input type='button' class='jqx-wrapper'/>");var r=this.host.find("input");r.addClass(this.toThemeProperty("jqx-reset")),r.width(s),r.height(i),r.val(this.content),this.host.find("tr").addClass(this.toThemeProperty("jqx-reset")),this.host.find("td").addClass(this.toThemeProperty("jqx-reset")),this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset")),this.host.css("color","inherit"),this.host.addClass(this.toThemeProperty("jqx-link")),r.css({width:s}),r.css({height:i});var n=void 0==e?{}:e[0]||{};r.jqxButton(n),this.disabled&&(this.host[0].disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,s){e.host[0].disabled=s,e.host.find("input").jqxButton({disabled:s})},this.addHandler(r,"click",function(e){return this.disabled||t.onclick(e),!1})},onclick:function(){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),e.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),e.extend(e.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(){var t=this,i=e.jqx.mobile.isTouchDevice(),s=i?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,r=i?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(e(document),s,function(){null!=t.timeout&&(clearTimeout(t.timeout),t.timeout=null,t.refresh()),void 0!=t.timer&&(clearInterval(t.timer),t.timer=null,t.refresh())}),this.addHandler(this.base.host,r,function(){null!=t.timer&&clearInterval(t.timer),t.timeout=setTimeout(function(){clearInterval(t.timer),t.timer=setInterval(function(e){t.ontimer(e)},t.delay)},150)}),this.mousemovefunc=function(e){i||0==e.which&&null!=t.timer&&(clearInterval(t.timer),t.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var t=e.jqx.mobile.isTouchDevice(),i=t?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,s=t?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,s),this.removeHandler(e(document),i),this.timer=null,delete this.mousemovefunc,delete this.timer;var r=e.data(this.base.element,"jqxRepeatButton");r&&delete r.instance,e(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(t){var t=new e.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(t)}}),e.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),e.extend(e.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(){var t=this;t.base.overrideTheme=!0,t.isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),t.propertyChangeMap.roundedCorners=function(t,i,s,r){t.base.host.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(s))),t.base.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},t.propertyChangeMap.toggled=function(e){e.refresh()},t.propertyChangeMap.disabled=function(e,t,i,s){e.base.disabled=s,e.refresh()},t.addHandler(t.base.host,"click",function(){!t.base.disabled&&t.uiToggle&&t.toggle()}),t.isTouchDevice||(t.addHandler(t.base.host,"mouseenter",function(){t.base.disabled||t.refresh()}),t.addHandler(t.base.host,"mouseleave",function(){t.base.disabled||t.refresh()})),t.addHandler(t.base.host,"mousedown",function(){t.base.disabled||t.refresh()}),t.addHandler(e(document),"mouseup.togglebutton"+t.base.element.id,function(){t.base.disabled||t.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(e(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),e.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this,t=e.base.toThemeProperty("jqx-fill-state-disabled"),i=e.base.toThemeProperty("jqx-fill-state-normal");e.base.enableDefault||(i="");var s=e.base.toThemeProperty("jqx-fill-state-hover"),r=e.base.toThemeProperty("jqx-fill-state-pressed"),n=e.base.toThemeProperty("jqx-fill-state-pressed"),a="";return e.base.host[0].disabled=e.base.disabled,e.base.disabled?(a=i+" "+t,void e.base.host.addClass(a)):(a=e.base.isMouseOver&&!e.isTouchDevice?e.base.isPressed||e.toggled?n:s:e.base.isPressed||e.toggled?r:i,"default"!==e.base.template&&""!==e.base.template&&(a+=" jqx-"+e.base.template),e.base.host.hasClass(t)&&t!=a&&e.base.host.removeClass(t),e.base.host.hasClass(i)&&i!=a&&e.base.host.removeClass(i),e.base.host.hasClass(s)&&s!=a&&e.base.host.removeClass(s),e.base.host.hasClass(r)&&r!=a&&e.base.host.removeClass(r),e.base.host.hasClass(n)&&n!=a&&e.base.host.removeClass(n),void(e.base.host.hasClass(a)||e.base.host.addClass(a)))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxScrollBar","",{}),e.extend(e.jqx._jqxScrollBar.prototype,{defineInstance:function(){var t={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1};return e.extend(!0,this,t),t},createInstance:function(){this.render()},render:function(){this._mouseup=new Date;var t=this,i="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";if(e.jqx.utilities&&"hidden"==e.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.host.html(i)}):this.element.innerHTML=i,void 0!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),void 0!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var s=this;e.jqx.utilities.resize(this.host,function(){s._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=e(this.element.firstChild),this.scrollWrap=e(this.scrollOuterWrap[0].firstChild),this.btnUp=e(this.scrollWrap[0].firstChild),this.areaUp=e(this.btnUp[0].nextSibling),this.btnThumb=e(this.areaUp[0].nextSibling),this.arrowUp=e("<div></div>"),this.arrowUp.appendTo(this.btnUp),this.areaDown=e(this.btnThumb[0].nextSibling),this.btnDown=e(this.areaDown[0].nextSibling),this.arrowDown=e("<div></div>"),this.arrowDown.appendTo(this.btnDown);var r=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+r,this.btnDown[0].id="jqxScrollBtnDown"+r,this.btnThumb[0].id="jqxScrollThumb"+r,this.areaUp[0].id="jqxScrollAreaUp"+r,this.areaDown[0].id="jqxScrollAreaDown"+r,this.scrollWrap[0].id="jqxScrollWrap"+r,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+r,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=e.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=e.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(e,t,i,s){isNaN(s)||i!=s&&e.setPosition(parseFloat(s),!0)},this.propertyChangeMap.width=function(e){void 0!=e.width&&parseInt(e.width)>0&&(e.host.width(parseInt(e.width)),e._arrange())},this.propertyChangeMap.height=function(e){void 0!=e.height&&parseInt(e.height)>0&&(e.host.height(parseInt(e.height)),e._arrange())},this.propertyChangeMap.theme=function(e){e.setTheme()},this.propertyChangeMap.max=function(e,t,i,s){isNaN(s)||i!=s&&(e.max=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.min=function(e,t,i,s){isNaN(s)||i!=s&&(e.min=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.disabled=function(e,t,i,s){i!=s&&(s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.btnUp.jqxRepeatButton("disabled",e.disabled),e.btnDown.jqxRepeatButton("disabled",e.disabled),e.btnThumb.jqxButton("disabled",e.disabled))},this.propertyChangeMap.touchMode=function(e,t,i,s){i!=s&&(e._updateTouchBehavior(),s===!0?(e.showButtons=!1,e.refresh()):s===!1&&(e.showButtons=!0,e.refresh()))},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=e.jqx.mobile.isTouchDevice(),1==this.touchMode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,e.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var t=this,i=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0,this._touchSupport=!0)}catch(s){}if((t.isTouchDevice||i)&&(this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchend"),function(e){var i=t.toThemeProperty(t.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal"),s=t.toThemeProperty("jqx-fill-state-pressed");return t.btnThumb.removeClass(i),t.btnThumb.removeClass(s),t.disabled||t.handlemouseup(t,e),!1}),this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchstart"),function(e){if(!t.disabled){if(1==t.touchMode)e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY;else{var i=e;i.originalEvent.touches&&i.originalEvent.touches.length?(e.clientX=i.originalEvent.touches[0].clientX,e.clientY=i.originalEvent.touches[0].clientY):(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)}t.handlemousedown(e),e.preventDefault&&e.preventDefault()}}),e.jqx.mobile.touchScroll(this.element,t.max,function(e,i,s,r,n){if("visible"==t.host.css("visibility")){if(1==t.touchMode)n.clientX=n.originalEvent.clientX,n.clientY=n.originalEvent.clientY;else{var a=n;a.originalEvent.touches&&a.originalEvent.touches.length?(n.clientX=a.originalEvent.touches[0].clientX,n.clientY=a.originalEvent.touches[0].clientY):(n.clientX=n.originalEvent.clientX,n.clientY=n.originalEvent.clientY)}var o=t.toThemeProperty(t.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");t.btnThumb.addClass(o),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.thumbCapture=!0,t.handlemousemove(n)}},t.element.id)),this.addHandler(this.btnUp,"click",function(){var e=t.step;t.rtl&&!t.vertical&&(e=-t.step),t.buttonUpCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value-e):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value-e)}),this.addHandler(this.btnDown,"click",function(){var e=t.step;t.rtl&&!t.vertical&&(e=-t.step),t.buttonDownCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value+e):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value+e)}),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r=null;if(window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)){var n=function(e){t.disabled||t.handlemouseup(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",n,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",n)}}}catch(a){}this.addHandler(this.btnDown,"mouseup",function(e){if(!t.btnDownInstance.base.disabled&&t.buttonDownCapture){t.buttonDownCapture=!1,t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","down"),t.handlemouseup(t,e);var i=t.step;return t.rtl&&!t.vertical&&(i=-t.step),t.setPosition(t.value+i),!1}}),this.addHandler(this.btnUp,"mouseup",function(e){if(!t.btnUpInstance.base.disabled&&t.buttonUpCapture){t.buttonUpCapture=!1,t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","up"),t.handlemouseup(t,e);var i=t.step;return t.rtl&&!t.vertical&&(i=-t.step),t.setPosition(t.value-i),!1}}),this.addHandler(this.btnDown,"mousedown",function(){return t.btnDownInstance.base.disabled?void 0:(t.buttonDownCapture=!0,t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","down"),!1)}),this.addHandler(this.btnUp,"mousedown",function(){return t.btnUpInstance.base.disabled?void 0:(t.buttonUpCapture=!0,t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","up"),!1)})}var o="click";if(this.isTouchDevice&&(o=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,o,function(){if(!t.disabled){var e=t.largestep;return t.rtl&&!t.vertical&&(e=-t.largestep),t.setPosition(t.value-e),!1}}),this.addHandler(this.areaDown,o,function(){if(!t.disabled){var e=t.largestep;return t.rtl&&!t.vertical&&(e=-t.largestep),t.setPosition(t.value+e),!1}}),this.addHandler(this.areaUp,"mousedown",function(){return t.disabled?void 0:(t.areaUpCapture=!0,!1)}),this.addHandler(this.areaDown,"mousedown",function(){return t.disabled?void 0:(t.areaDownCapture=!0,!1)}),this.addHandler(this.btnThumb,"mousedown",function(e){return t.disabled||t.handlemousedown(e),!1}),this.addHandler(this.btnThumb,"dragstart",function(){return!1}),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.disabled||t.handlemouseup(t,e)}),!this.isTouchDevice&&(this.mousemoveFunc=function(e){t.disabled||t.handlemousemove(e)},this.addHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(e(document),"mouseleave."+this.element.id,function(e){t.disabled||t.handlemouseleave(e)}),this.addHandler(e(document),"mouseenter."+this.element.id,function(e){t.disabled||t.handlemouseenter(e)}),!t.disabled)){this.addHandler(this.btnUp,"mouseenter",function(){t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","up"))}),this.addHandler(this.btnUp,"mouseleave",function(){t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","up"))});var l=t.toThemeProperty("jqx-scrollbar-thumb-state-hover");t.vertical||(l=t.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter",function(){t.disabled||1==t.touchMode||(t.btnThumb.addClass(l),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnThumb,"mouseleave",function(){t.disabled||1==t.touchMode||(t.btnThumb.removeClass(l),t.btnThumb.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter",function(){t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","down"))}),this.addHandler(this.btnDown,"mouseleave",function(){t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","down"))})}},destroy:function(){var t=this.btnUp,i=this.btnDown,s=this.btnThumb,r=(this.scrollWrap,this.areaUp),n=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,n.removeClass(),r.removeClass(),i.removeClass(),t.removeClass(),s.removeClass(),t.jqxRepeatButton("destroy"),i.jqxRepeatButton("destroy"),r.jqxRepeatButton("destroy"),n.jqxRepeatButton("destroy"),s.jqxButton("destroy");var a=e.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,a&&delete a.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element
},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(e(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(e(document),"mousemove."+this.element.id),this.removeHandler(e(document),"mouseleave."+this.element.id),this.removeHandler(e(document),"mouseenter."+this.element.id)},_addArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?(("up"==t||void 0==t)&&this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),("down"==t||void 0==t)&&this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):(("up"==t||void 0==t)&&this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),("down"==t||void 0==t)&&this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},_removeArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?(("up"==t||void 0==t)&&this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),("down"==t||void 0==t)&&this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):(("up"==t||void 0==t)&&this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),("down"==t||void 0==t)&&this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},setTheme:function(){var t=this.btnUp,i=this.btnDown,s=this.btnThumb,r=this.scrollWrap,n=(this.areaUp,this.areaDown,this.arrowUp),a=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var o=this.toThemeProperty("jqx-reset");this.areaDown[0].className=o,this.areaUp[0].className=o;var l=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(l),i[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var d="";if(this.vertical?(n[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-up"),a[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-down"),d=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(n[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-left"),a[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-right"),d=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),d+=" "+this.toThemeProperty("jqx-fill-state-normal"),s[0].className=d,this.disabled?(r.addClass(this.toThemeProperty("jqx-fill-state-disabled")),r.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(r.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),r.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var h=e.jqx.cssroundedcorners("top");h=this.toThemeProperty(h),t.addClass(h);var c=e.jqx.cssroundedcorners("bottom");c=this.toThemeProperty(c),i.addClass(c)}else{var u=e.jqx.cssroundedcorners("left");u=this.toThemeProperty(u),t.addClass(u);var p=e.jqx.cssroundedcorners("right");p=this.toThemeProperty(p),i.addClass(p)}else{var f=e.jqx.cssroundedcorners(this.roundedCorners);f=this.toThemeProperty(f),elBtnUp.addClass(f),elBtnDown.addClass(f)}var f=e.jqx.cssroundedcorners(this.roundedCorners);f=this.toThemeProperty(f),s.hasClass(f)||s.addClass(f),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return void 0==this.thumbCapture||void 0==this.buttonDownCapture||void 0==this.buttonUpCapture||void 0==this.areaDownCapture||void 0==this.areaUpCapture?!1:this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture},handlemousedown:function(e){if(void 0==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var t=this.btnThumb;null!=t&&(t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),t.addClass(this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartValue=this.value},toggleHover:function(){},refresh:function(){this._arrange()},_setElementPosition:function(e,t,i){isNaN(t)||parseInt(e[0].style.left)!=parseInt(t)&&(e[0].style.left=t+"px"),isNaN(i)||parseInt(e[0].style.top)!=parseInt(i)&&(e[0].style.top=i+"px")},_setElementTopPosition:function(e,t){isNaN(t)||(e[0].style.top=t+"px")},_setElementLeftPosition:function(e,t){isNaN(t)||(e[0].style.left=t+"px")},handlemouseleave:function(){var e=this.btnUp,t=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(e.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var i=this.btnThumb,s=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");i.removeClass(s),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(){var e=this.btnUp,t=this.btnDown;if(this.buttonUpCapture&&(e.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),e.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var i=this.btnThumb;i.addClass(this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(e){var t=this.btnUp,i=this.btnDown,s=0;if(null!=i&&null!=t){if(null!=t&&null!=i&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&(this.buttonDownCapture&&e.which==s?(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&e.which==s&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var r=this.btnThumb;if(e.which==s&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var n=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");return r.removeClass(n),r.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}void 0!=e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation();var a=0;try{a=this.vertical?e.clientY-this.dragStartY:e.clientX-this.dragStartX;var o=this._btnAndThumbSize;this._btnAndThumbSize||(o=this.vertical?t.height()+i.height()+r.height():t.width()+i.width()+r.width());var l=(this.max-this.min)/(this.scrollBarSize-o);if("auto"!=this.thumbStep){if(a*=l,Math.abs(this.dragStartValue+a-this.value)>=parseInt(this.thumbStep)){var d=Math.round(parseInt(a)/this.thumbStep)*this.thumbStep;return this.setPosition(this.rtl&&!this.vertical?this.dragStartValue-d:this.dragStartValue+d),!1}return!1}a*=l;var d=a;this.rtl&&!this.vertical&&(d=-a),this.setPosition(this.dragStartValue+d)}catch(h){alert(h)}return!1}},handlemouseup:function(e,t){var i=!1;if(this.thumbCapture){this.thumbCapture=!1;var s=this.btnThumb,r=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i=!0,this._mouseup=new Date}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var n=this.btnUp,a=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,n.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),n.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),a.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),i=!0,this._mouseup=new Date}i&&(void 0!=t.preventDefault&&t.preventDefault(),null!=t.originalEvent&&(t.originalEvent.mouseHandled=!0),void 0!=t.stopPropagation&&t.stopPropagation())},setPosition:function(t,i){this.element;if((void 0==t||0/0==t)&&(t=this.min),t>=this.max&&(t=this.max),t<this.min&&(t=this.min),this.value!==t||1==i){if(t==this.max){var s=new e.Event("complete");this.host.trigger(s)}var r=this.value;if(this._triggervaluechanged){var n=new e.Event("valueChanged");n.previousValue=this.value,n.currentValue=t}this.value=t,this._positionelements(),this._triggervaluechanged&&this.host.trigger(n),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:r})}return t},val:function(e){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"==typeof e?!1:!0};return t(e)||0==arguments.length?this.value:(this.setPosition(e),e)},_getThumbSize:function(e){var t=this.max-this.min,i=0;return t>1?i=e/(t+e)*e:1==t&&(i=e),this.thumbSize>0&&(i=this.thumbSize),i<this.thumbMinSize&&(i=this.thumbMinSize),Math.min(i,e)},_positionelements:function(){var e=(this.element,this.areaUp),t=this.areaDown,i=(this.btnUp,this.btnDown,this.btnThumb),s=(this.scrollWrap,this._height?this._height:this.host.height()),r=this._width?this._width:this.host.width(),n=this.vertical?r:s;this.showButtons||(n=0);var a=this.vertical?s:r;this.scrollBarSize=a;var o=this._getThumbSize(a-2*n);o=Math.round(o),o<this.thumbMinSize&&(o=this.thumbMinSize),(0/0==s||10>s)&&(s=10),(0/0==r||10>r)&&(r=10),n+=2,this.btnSize=n;var l=this._btnAndThumbSize;if(!this._btnAndThumbSize){var l=this.vertical?2*this.btnSize+i.outerHeight():2*this.btnSize+i.outerWidth();l=Math.round(l)}var d=(a-l)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(d=(a-l)/(this.max-this.min)*(this.max-this.value-this.min)),d=Math.round(d),0>d&&(d=0),this.vertical){var h=a-d-l;0>h&&(h=0),t[0].style.height=h+"px",e[0].style.height=d+"px",this._setElementTopPosition(e,n),this._setElementTopPosition(i,n+d),this._setElementTopPosition(t,n+d+o)}else e[0].style.width=d+"px",t[0].style.width=a-d-l>=0?a-d-l+"px":"0px",this._setElementLeftPosition(e,n),this._setElementLeftPosition(i,n+d),this._setElementLeftPosition(t,2+n+d+o)},_arrange:function(){if(this._initialLayout)return void(this._initialLayout=!1);var e=(this.element,this.areaUp),t=this.areaDown,i=this.btnUp,s=this.btnDown,r=this.btnThumb,n=this.scrollWrap,a=parseInt(this.element.style.height),o=parseInt(this.element.style.width);if(this.isPercentage)var a=this.host.height(),o=this.host.width();isNaN(a)&&(a=0),isNaN(o)&&(o=0),this._width=o,this._height=a;var l=this.vertical?o:a;this.showButtons||(l=0),i[0].style.width=l+"px",i[0].style.height=l+"px",s[0].style.width=l+"px",s[0].style.height=l+"px",this.vertical?n[0].style.width=o+2+"px":n[0].style.height=a+2+"px",this._setElementPosition(i,0,0);var d=l+2;this.vertical?this._setElementPosition(s,0,a-d):this._setElementPosition(s,o-d,0);var h=this.vertical?a:o;this.scrollBarSize=h;var c=this._getThumbSize(h-2*l);c=Math.round(c),c<this.thumbMinSize&&(c=this.thumbMinSize);var u=!1;this.isTouchDevice&&0!=this.touchModeStyle&&(u=!0),this.vertical?(r[0].style.width=o+"px",r[0].style.height=c+"px",u&&0!==this.thumbTouchSize&&(r.css({width:this.thumbTouchSize+"px"}),r.css("margin-left",(this.host.width()-this.thumbTouchSize)/2))):(r[0].style.width=c+"px",r[0].style.height=a+"px",u&&0!==this.thumbTouchSize&&(r.css({height:this.thumbTouchSize+"px"}),r.css("margin-top",(this.host.height()-this.thumbTouchSize)/2))),(0/0==a||10>a)&&(a=10),(0/0==o||10>o)&&(o=10),l+=2,this.btnSize=l;var p=this.vertical?2*this.btnSize+(2+parseInt(r[0].style.height)):2*this.btnSize+(2+parseInt(r[0].style.width));p=Math.round(p),this._btnAndThumbSize=p;var f=(h-p)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(f=(h-p)/(this.max-this.min)*(this.max-this.value-this.min)),f=Math.round(f),(f===-1/0||1/0==f)&&(f=0),isNaN(f)&&(f=0),0>f&&(f=0),this.vertical){var m=h-f-p;0>m&&(m=0),t[0].style.height=m+"px",t[0].style.width=o+"px",e[0].style.height=f+"px",e[0].style.width=o+"px";var g=parseInt(this.element.style.height);this.isPercentage&&(g=this.host.height()),r[0].style.visibility="inherit",g-3*parseInt(l)<0?r[0].style.visibility="hidden":p>g?r[0].style.visibility="hidden":"visible"==this.element.style.visibility&&(r[0].style.visibility="inherit"),this._setElementPosition(e,0,l),this._setElementPosition(r,0,l+f),this._setElementPosition(t,0,l+f+c)}else{f>0&&(e[0].style.width=f+"px"),a>0&&(e[0].style.height=a+"px");var v=h-f-p;0>v&&(v=0),t[0].style.width=v+"px",t[0].style.height=a+"px";var b=parseInt(this.element.style.width);this.isPercentage&&(b=this.host.width()),r[0].style.visibility="inherit",b-3*parseInt(l)<0?r[0].style.visibility="hidden":p>b?r[0].style.visibility="hidden":"visible"==this.element.style.visibility&&(r[0].style.visibility="inherit"),this._setElementPosition(e,l,0),this._setElementPosition(r,l+f,0),this._setElementPosition(t,2+l+f+c,0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxMenu","",{}),e.extend(e.jqx._jqxMenu.prototype,{defineInstance:function(){var t={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized"]};return e.extend(!0,this,t),t},createInstance:function(){var t=this;if(this.host.attr("role","menubar"),e.jqx.utilities.resize(this.host,function(){t.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&e(window).resize(function(){t.refresh()}),this.host.css("outline","none"),this.source&&null!=this.source){var i=this.loadItems(this.source);this.element.innerHTML=i}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this.host.data("autoclose",{}),this._render(),this.setSize(),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if(this.host.focus(),"popup"===this.mode){var t=this.host.closest("div.jqx-menu-wrapper");t.focus()}this.keyboardNavigation&&(this.activeItem||(e(this.items[0].element).addClass(this.toThemeProperty("jqx-fill-state-focus")),this.activeItem=this.items[0]))}catch(i){}},loadItems:function(t,i){if(null!=t){if(0==t.length)return"";var s=this;this.items=new Array;var r="<ul>";return i&&(r='<ul style="width:'+i+';">'),e.map(t,function(e){return void 0==e?null:void(r+=s._parseItem(e))}),r+="</ul>"}},_parseItem:function(e){var t="";if(void 0==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);var s=!1;void 0!=e.selected&&e.selected&&(s=!0);var r=!1;return void 0!=e.disabled&&e.disabled&&(r=!0),t+="<li",r&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),void 0!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(t+=e.subMenuWidth?this.loadItems(e.items,e.subMenuWidth):this.loadItems(e.items)),t+="</li>"},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var t=e(window).width();if(!e.jqx.response){var i=!1;if(navigator.userAgent.match(/Windows|Linux|MacOS/)){var s=navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0;s||(i=!0)}var r=this.minimizeWidth;if(i&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&e.jqx.response){var n=new e.jqx.response;("Phone"==n.device.type||"Tablet"==n.device.type)&&(this.minimized||this.minimize())}else r>t&&!this.minimized?this.minimize():this.minimized&&t>=r&&this.restore()}},minimize:function(){if(!this.minimized){var t=this;this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple";var i=this.host.closest("div.jqx-menu-wrapper");if(i.remove(),e("#menuWrapper"+this.element.id).remove(),e.each(this.items,function(){var t=this,i=(e(t.element),e(t.subMenuElement)),s=i.closest("div.jqx-menu-popup");s.remove()}),this.source){var s=this.loadItems(this.source);this.element.innerHTML=s,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var r=this.host.find("ul:first");r.length>0&&this._createMenu(r[0])}this._render();var n=this.host.find("ul:first");n.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var i=n.closest("div.jqx-menu-wrapper");i[0].id="menuWrapper"+this.element.id,i.detach(),i.appendTo(e(document.body)),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-menu")),i.addClass(this.toThemeProperty("jqx-menu-minimized")),i.addClass(this.toThemeProperty("jqx-widget-header")),n.children().hide(),i.hide(),i.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=e("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(i,"keydown",function(e){return t.host.trigger(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=e("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),e("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),t.minimizedHidden=!0;var a=function(){t.minimizedHidden=!0,t.minimizedItem.show();var e=!1;"right"==t.minimizedItem.css("float")&&(e=!0),i.animate({left:e?t.host.coord().left+t.host.width()+i.width():-i.outerWidth(),opacity:0},t.animationHideDuration,function(){i.find("ul:first").children().hide(),i.hide()})},o=function(e){if(t.minimizedHidden){i.find("ul:first").children().show(),t.minimizedHidden=!1,i.show(),i.css("opacity",0),i.css("left",-i.outerWidth());var s=!1,r=i.width();"right"==t.minimizedItem.css("float")&&(i.css("left",t.host.coord().left+t.host.width()+r),s=!0),i.css("top",t.host.coord().top+t.host.height()),i.animate({left:s?t.host.coord().left+t.host.width()-r:t.host.coord().left,opacity:.95},t.animationShowDuration,function(){})}else a(e);t._raiseEvent("2",{item:t.minimizedItem[0],event:e}),t.setSize()};this.addHandler(e(window),"orientationchange.jqxmenu"+this.element.id,function(){setTimeout(function(){if(!t.minimizedHidden){var e=i.width(),s=!1,e=i.width();"right"==t.minimizedItem.css("float")&&(s=!0),i.css("top",t.host.coord().top+t.host.height()),i.css({left:s?t.host.coord().left+t.host.width()-e:t.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(e){o(e)})}},restore:function(){if(this.minimized){this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove();var t=e("#menuWrapper"+this.element.id);if(t.remove(),this.source){var i=this.loadItems(this.source);this.element.innerHTML=i,this._tmpHTML=i}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this.setSize(),this._render()}},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),e(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(e){e||this.setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(t){var i=null!=t?t.data:this,s=i.items;if(e.each(s,function(){var e=this;1==e.hasItems&&e.isOpen&&i._closeItem(i,e)}),"popup"==i.mode&&null!=t){var r=i._isRightClick(t);r||i.close()}},closeItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),r=this;return e.each(r.items,function(){var e=this;1==e.isOpen&&e.element==s&&(r._closeItem(r,e),e.parentId&&r.closeItem(e.parentId))}),!0},openItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),r=this;return e.each(r.items,function(){var e=this;0==e.isOpen&&e.element==s&&(r._openItem(r,e),e.parentId&&r.openItem(e.parentId))}),!0},_getClosedSubMenuOffset:function(t){var i=e(t.subMenuElement),s=-i.outerHeight(),r=-i.outerWidth(),n=0==t.level&&"horizontal"==this.mode;switch(n?r=0:s=0,t.openVerticalDirection){case"up":case"center":s=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):r=n?0:i.outerWidth();break;case"center":r=n?0:i.outerWidth()}return{left:r,top:s}},_closeItem:function(t,i,s,r){if(null==t||null==i)return!1;var n=e(i.subMenuElement),a=0==i.level&&"horizontal"==this.mode,o=this._getClosedSubMenuOffset(i),l=o.top,d=o.left,h=(e(i.element),n.closest("div.jqx-menu-popup"));if(null!=h){var c=t.animationHideDelay;1==r&&(c=0),n.data("timer")&&null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null);var u=function(){i.isOpen=!1,a?n.stop().animate({top:l},t.animationHideDuration,function(){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),e(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),h.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var s=e(i.arrow);s.length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),e.jqx.aria(e(i.element),"aria-expanded",!1),h.css({display:"none"}),0==t.animationHideDuration&&n.css({top:l}),t._raiseEvent("1",i)}):(!e.jqx.browser.msie,n.stop().animate({left:d},t.animationHideDuration,function(){if(0==t.animationHideDuration&&n.css({left:d}),i.level>0){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}else{e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}e.jqx.aria(e(i.element),"aria-expanded",!1),h.css({display:"none"}),t._raiseEvent("1",i)}))};if(c>0?n.data("timer")&&(n.data("timer").hide=setTimeout(function(){u()},c)):u(),void 0!=s&&s){var p=n.children();e.each(p,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){{e(t.menuElements[this.id].subMenuElement)}t._closeItem(t,t.menuElements[this.id],!0,!0)}})}}},getSubItems:function(t,i){if(null==t)return!1;var s=this,r=new Array;null!=i&&e.extend(r,i);var n=t,a=this.menuElements[n],o=e(a.subMenuElement),l=o.find(".jqx-menu-item");return e.each(l,function(){r[this.id]=s.menuElements[this.id];var t=s.getSubItems(this.id,r);e.extend(r,t)}),r},disable:function(t,i){if(null!=t){var s=t,r=this;if(this.menuElements[s]){var n=this.menuElements[s];n.disabled=i;var a=e(n.element);n.element.disabled=i,e.each(a.children(),function(){this.disabled=i}),i?(a.addClass(r.toThemeProperty("jqx-menu-item-disabled")),a.addClass(r.toThemeProperty("jqx-fill-state-disabled"))):(a.removeClass(r.toThemeProperty("jqx-menu-item-disabled")),a.removeClass(r.toThemeProperty("jqx-fill-state-disabled")))}}},_setItemProperty:function(e,t,i){if(null!=e){var s=e;if(this.menuElements[s]){var r=this.menuElements[s];r[t]&&(r[t]=i)}}},setItemOpenDirection:function(t,i,s){if(null!=t){var r=t,n=this,a=e.jqx.browser.msie&&e.jqx.browser.version<8;if(this.menuElements[r]){var o=this.menuElements[r];if(null!=i&&(o.openHorizontalDirection=i,o.hasItems&&o.level>0)){var l=e(o.element);if(void 0!=l){var d=e(o.arrow);null==o.arrow&&(d=e('<span id="arrow'+l[0].id+'"></span>'),a?d.appendTo(l):d.prependTo(l),o.arrow=d[0]),d.removeClass(),"left"==o.openHorizontalDirection?(d.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("left"))),d.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("left")))):(d.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("right"))),d.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("right")))),d.css("visibility","visible"),a?(d.css("display","inline-block"),d.css("float","none")):(d.css("display","block"),d.css("float","right"))}}if(null!=s){o.openVerticalDirection=s;var d=e(o.arrow),l=e(o.element);if(!n.showTopLevelArrows)return;void 0!=l&&(null==o.arrow&&(d=e('<span id="arrow'+l[0].id+'"></span>'),a?d.appendTo(l):d.prependTo(l),o.arrow=d[0]),d.removeClass(),"down"==o.openVerticalDirection?(d.addClass(n.toThemeProperty("jqx-menu-item-arrow-down")),d.addClass(n.toThemeProperty("jqx-icon-arrow-down"))):(d.addClass(n.toThemeProperty("jqx-menu-item-arrow-up")),d.addClass(n.toThemeProperty("jqx-icon-arrow-up"))),d.css("visibility","visible"),a?(d.css("display","inline-block"),d.css("float","none")):(d.css("display","block"),d.css("float","right")))}}}},_getSiblings:function(e){for(var t=new Array,i=0,s=0;s<this.items.length;s++)this.items[s]!=e&&this.items[s].parentId==e.parentId&&this.items[s].hasItems&&(t[i++]=this.items[s]);return t},_openItem:function(t,i,s){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var r=t.popupZIndex;void 0!=s&&(r=s);var n=t.animationHideDuration;t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=n,this.host.focus();var a=[5,5],o=e(i.subMenuElement);null!=o&&o.stop(),o.data("timer")&&null!=o.data("timer").hide&&clearTimeout(o.data("timer").hide);var l=o.closest("div.jqx-menu-popup"),d=e(i.element),h=0==i.level?this._getOffset(i.element):d.position();if(i.level>0&&this.hasTransform){var c=parseInt(d.coord().top)-parseInt(this._getOffset(i.element).top);h.top+=c}0==i.level&&"popup"==this.mode&&(h=d.coord());var u=0==i.level&&"horizontal"==this.mode,p=u?h.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(e(e(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-a[0]:parseInt(o.outerWidth());if(l.css({visibility:"visible",display:"block",left:p,top:u?h.top+d.outerHeight():h.top,zIndex:r}),o.css("display","block"),"horizontal"!=this.mode&&0==i.level){var f=this._getOffset(this.element);l.css("left",-1+f.left+this.host.outerWidth()),o.css("left",-o.outerWidth())}else{var m=this._getClosedSubMenuOffset(i);o.css("left",m.left),o.css("top",m.top)}l.css({height:parseInt(o.outerHeight())+parseInt(a[1])+"px"});var g=0,v=0;switch(i.openVerticalDirection){case"up":if(u){o.css("top",o.outerHeight()),g=a[1];var b=parseInt(o.parent().css("padding-bottom"));isNaN(b)&&(b=0),b>0&&l.addClass(this.toThemeProperty("jqx-menu-popup-clear")),o.css("top",o.outerHeight()-b),l.css({display:"block",top:h.top-l.outerHeight(),zIndex:r})}else g=a[1],o.css("top",o.outerHeight()),l.css({display:"block",top:h.top-l.outerHeight()+a[1]+d.outerHeight(),zIndex:r});break;case"center":u?(o.css("top",0),l.css({display:"block",top:h.top-l.outerHeight()/2+a[1],zIndex:r})):(o.css("top",0),l.css({display:"block",top:h.top+d.outerHeight()/2-l.outerHeight()/2+a[1],zIndex:r}))}switch(i.openHorizontalDirection){case this._getDir("left"):u?l.css({left:h.left-(l.outerWidth()-d.outerWidth()-a[0])}):(v=0,o.css("left",l.outerWidth()),l.css({left:h.left-l.outerWidth()+2*i.level}));break;case"center":u?l.css({left:h.left-(l.outerWidth()/2-d.outerWidth()/2-a[0]/2)}):(l.css({left:h.left-(l.outerWidth()/2-d.outerWidth()/2-a[0]/2)}),o.css("left",l.outerWidth()))}if(u){if(parseInt(o.css("top"))==g)return void(i.isOpen=!0)}else if(parseInt(o.css("left"))==v)return void(1==i.isOpen);e.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});var x=e.data(t.element,"animationHideDelay");t.animationHideDelay=x,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),o.data("timer")&&(o.data("timer").show=setTimeout(function(){if(null!=l)if(u){o.stop(),o.css("left",v),!e.jqx.browser.msie,d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(e(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(e(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("jqx-rc-b-expanded")));var s=e(i.arrow);s.length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(o.css({top:g}),i.isOpen=!0,t._raiseEvent("0",i),e.jqx.aria(e(i.element),"aria-expanded",!0)):o.animate({top:g},t.animationShowDuration,t.easing,function(){i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0),t._raiseEvent("0",i)})}else{if(o.stop(),o.css("top",g),!e.jqx.browser.msie,i.level>0){d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-selected"));
var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}else{d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-top-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}!e.jqx.browser.msie,0==t.animationShowDuration?(o.css({left:v}),t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)):o.animate({left:v},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)})}},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var s=this,r=0;if(s.host.removeClass(s.toThemeProperty("jqx-menu-horizontal")),s.host.removeClass(s.toThemeProperty("jqx-menu-vertical")),s.host.removeClass(s.toThemeProperty("jqx-menu")),s.host.removeClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-menu")),void 0!=t&&void 0!=i&&"popup"==i){if(s.host.parent().length>0&&s.host.parent().parent().length>0&&s.host.parent().parent()[0]==document.body){var n=e.data(document.body,"jqxMenuOldHost"+s.element.id);if(null!=n){var a=s.host.closest("div.jqx-menu-wrapper");a.remove(),a.appendTo(n),s.host.css("display","block"),s.host.css("visibility","visible"),a.css("display","block"),a.css("visibility","visible")}}}else void 0==t&&void 0==i&&e.data(document.body,"jqxMenuOldHost"+s.element.id,s.host.parent()[0]);switch(s.autoOpenPopup&&"popup"==s.mode?(s.addHandler(e(document),"contextmenu."+s.element.id,function(){return!1}),s.addHandler(e(document),"mousedown.menu"+s.element.id,function(e){s._openContextMenu(e)})):(s.removeHandler(e(document),"contextmenu."+s.element.id),s.removeHandler(e(document),"mousedown.menu"+s.element.id)),s.rtl&&s.host.addClass(s.toThemeProperty("jqx-rtl")),s.mode){case"horizontal":s.host.addClass(s.toThemeProperty("jqx-widget-header")),s.host.addClass(s.toThemeProperty("jqx-menu-horizontal")),e.each(s.items,function(){var t=this;$element=e(t.element);var i=e(t.arrow);if(i.removeClass(),t.hasItems&&t.level>0){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float",s._getDir("right")),i.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right"))),t.arrow=i[0]}if(0==t.level){if(e(t.element).css("float",s._getDir("left")),!t.ignoretheme&&t.hasItems&&s.showTopLevelArrows){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),n=e.jqx.browser.msie&&e.jqx.browser.version<8;null==t.arrow?n?i.appendTo($element):i.prependTo($element):i=e(t.arrow),"down"==t.openVerticalDirection?(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-down")),i.addClass(s.toThemeProperty("jqx-icon-arrow-down"))):(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-up")),i.addClass(s.toThemeProperty("jqx-icon-arrow-up"))),i.css("visibility","visible"),n?i.css("display","inline-block"):(i.css("display","block"),i.css("float","right")),t.arrow=i[0]}else if(!t.ignoretheme&&t.hasItems&&!s.showTopLevelArrows&&null!=t.arrow){var i=e(t.arrow);i.remove(),t.arrow=null}r=Math.max(r,$element.height())}});break;case"vertical":case"popup":case"simple":if(s.host.addClass(s.toThemeProperty("jqx-menu-vertical")),e.each(s.items,function(){var t=this;if($element=e(t.element),t.hasItems&&!t.ignoretheme){if(t.arrow&&e(t.arrow).remove(),"simple"==s.mode)return!0;var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float","right"),0==t.level?(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-top-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))):(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))),t.arrow=i[0]}$element.css("float","none")}),"popup"==s.mode){s.host.addClass(s.toThemeProperty("jqx-widget-content")),s.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+s.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var a=s.host.closest("div.jqx-menu-wrapper");s.host.addClass(s.toThemeProperty("jqx-popup")),a[0].id="menuWrapper"+s.element.id,a.appendTo(e(document.body)),s.addHandler(a,"keydown",function(e){return s.host.trigger(e)})}else s.host.addClass(s.toThemeProperty("jqx-widget-header"));if("popup"==s.mode){var o=s.host.height();s.host.css("position","absolute"),s.host.css("top","0"),s.host.css("left","0"),"simple"!=s.mode&&(s.host.height(o),s.host.css("display","none"))}}var l=s.isTouchDevice();s.autoCloseOnClick&&(s.removeHandler(e(document),"mousedown.menu"+s.element.id,s._closeAfterClick),s.addHandler(e(document),"mousedown.menu"+s.element.id,s._closeAfterClick,s),l&&(s.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s),s.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s)))},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var i=e.jqx.mobile.isSafariMobileBrowser(),s=e(t).coord(!0),r=s.top,n=s.left;"0px"!=e("body").css("border-top-width")&&(r=parseInt(r)+this._getBodyOffset().top),"0px"!=e("body").css("border-left-width")&&(n=parseInt(n)+this._getBodyOffset().left);var a=e.jqx.mobile.isWindowsPhone();if(this.hasTransform||null!=i&&i||a){var o={left:e.jqx.mobile.getLeftPos(t),top:e.jqx.mobile.getTopPos(t)};return o}return{left:n,top:r}},_isRightClick:function(e){var t;if(!e)var e=window.event;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){var t=this,i=t._isRightClick(e);i&&t.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var t=this,i=e.data(this.element,"contextMenuOpened"+this.element.id);if(i){{this.host}e.each(t.items,function(){var e=this;e.hasItems&&t._closeItem(t,e)}),e.each(t.items,function(){var t=this;if(1==t.isOpen){$submenu=e(t.subMenuElement);var i=$submenu.closest("div.jqx-menu-popup");i.hide(this.animationHideDuration)}}),this.host.hide(this.animationHideDuration),e.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t)}},open:function(t,i){if("popup"==this.mode){var s=0;"block"==this.host.css("display")&&(this.close(),s=this.animationHideDuration);var r=this;(void 0==t||null==t)&&(t=0),(void 0==i||null==i)&&(i=0),setTimeout(function(){r.host.show(r.animationShowDuration),r.host.css("visibility","visible"),e.data(r.element,"contextMenuOpened"+r.element.id,!0),r._raiseEvent("0",r),r.host.css("z-index",9999),void 0!=t&&void 0!=i&&r.host.css({left:t,top:i})},s)}},_renderHover:function(e,t){var i=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){i.hoveredItem=t,t.disabled||t.separator||!i.enableHover||i.disabled||(t.level>0?(e.addClass(i.toThemeProperty("jqx-fill-state-hover")),e.addClass(i.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(i.toThemeProperty("jqx-fill-state-hover")),e.addClass(i.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!i.enableHover||i.disabled||(t.level>0?(e.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.removeClass(i.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.removeClass(i.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(t){var i=null!=t?t.data:this,s=!1;i.autoCloseOnClick&&(e.each(e(t.target).parents(),function(){return this.className.indexOf&&-1!=this.className.indexOf("jqx-menu")?(s=!0,!1):void 0}),s||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var t=this;if(t.autoSizeMainItems&&"horizontal"==this.mode){var i=this.maxHeight;parseInt(i)>parseInt(this.host.height())&&(i=parseInt(this.host.height())),i=parseInt(this.host.height()),e.each(this.items,function(){var s=this;if($element=e(s.element),0==s.level&&i>0){var r=$element.children().length>0?parseInt($element.children().height()):$element.height(),n=t.host.find("ul:first"),a=parseInt(n.css("padding-top")),o=parseInt(n.css("margin-top")),l=i-2*(o+a),d=parseInt(l)/2-r/2,h=parseInt(d),c=parseInt(d);if($element.css("padding-top",h),$element.css("padding-bottom",c),parseInt($element.outerHeight())>l){var u=1;$element.css("padding-top",h-u),h-=u}}})}e.each(this.items,function(){var t=this;if($element=e(t.element),t.hasItems&&t.level>0&&t.arrow){var i=e(t.arrow),s=e(t.element).height();s>15&&i.css("margin-top",(s-15)/2)}})},_nextVisibleItem:function(e,t){if(null==e||void 0==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(void 0!=t&&i&&i.level!=t)continue;return i}return null},_prevVisibleItem:function(e,t){if(null==e||void 0==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(void 0!=t&&i&&i.level!=t)continue;return i}return null},_parentItem:function(t){if(null==t||void 0==t)return null;var i=t.parentElement;if(!i)return null;var s=null;return e.each(this.items,function(){return this.element==i?(s=this,!1):void 0}),s},_isElementVisible:function(t){return null==t?!1:"none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility")?!0:!1},_isVisible:function(e){if(null==e||void 0==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(t=this._parentItem(t),null!=t&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(t,i){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),void 0==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var s=this.popupZIndex,r=[5,5],n=this;e.data(n.element,"animationHideDelay",n.animationHideDelay);var a=this.isTouchDevice(),o=a&&(e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0),l=!1;if(-1!=navigator.platform.toLowerCase().indexOf("win"))if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0)this.touchDevice=!0;else if(navigator.userAgent.indexOf("Touch")>=0){var d="MSPointerDown"in window;(d||e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(l=!0,o=!0,n.clickToOpen=!0,n.autoCloseOnClick=!1,n.enableHover=!1)}e.data(document.body,"menuel",this),this.hasTransform=e.jqx.utilities.hasTransform(this.host),this._applyOrientation(t,i),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(){n.keyboardNavigation&&n.activeItem&&(e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=null)}),this.addHandler(this.host,"focus",function(){n.keyboardNavigation&&(n.activeItem||(n.hoveredItem?(e(n.hoveredItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.hoveredItem):(e(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.items[0])))}),this.removeHandler(this.host,"keydown"),this.addHandler(this.host,"keydown",function(t){if(n.keyboardNavigation){if("input"===t.target.nodeName.toLowerCase())return!0;var i=null,s=null;e.each(n.items,function(){return this.disabled?!0:(this.element.className.indexOf("pressed")>=0&&(s=this),this.element.className.indexOf("focus")>=0?(i=this,!1):void 0)}),!i&&s&&(i=s),i||(e(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.items[0]);var r=!1;if(27==t.keyCode){if(t.data=n,n._closeAll(t),i)for(var a=i;null!=a;)a.parentItem?a=a.parentItem:(e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=a,e(n.activeItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),a=a.parentItem);r=!0}if(13==t.keyCode&&i){r=!0,n._raiseEvent("2",{item:i.element,event:t});var o=null!=i.anchor?e(i.anchor):null;if(null!=o&&o.length>0){var l=o.attr("href"),d=o.attr("target");null!=l&&(null!=d?window.open(l,d):window.location=l)}t.preventDefault(),t.stopPropagation(),e(i.element).focus()}var h=function(e){if(null==e)return new Array;for(var t=new Array,i=0,s=0;s<n.items.length;s++)n.items[s].parentId==e.parentId&&(t[i++]=n.items[s]);return t},c="";switch(t.keyCode){case 40:c="down";break;case 38:c="up";break;case 39:c="right";break;case 37:c="left"}if(i&&"left"===i.openHorizontalDirection&&"left"===c&&(c="right"),i&&"left"===i.openHorizontalDirection&&"right"===c&&(c="left"),i&&"top"===i.openVerticalDirection&&"top"===c&&(c="bottom"),i&&"top"===i.openVerticalDirection&&"bottom"===c&&(c="top"),n.rtl&&("right"===c?c="left":"left"===c&&(c="right")),"right"===c&&!n.minimized){if(t.altKey&&(0!=i.level&&i.hasItems||"horizontal"!=n.mode))n._openItem(n,i);else{var u=n._nextVisibleItem(i,0),p=n._nextVisibleItem(i),f=h(p);u||(u=p),u&&(u.parentId===i.parentId&&0==u.level&&"horizontal"==n.mode||p.id==f[0].id&&0!=p.level)&&(p.id==f[0].id&&(0!=i.level||0==i.level&&"horizontal"!=n.mode)&&(u=p),e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u)}t.preventDefault(),t.stopPropagation()}if("left"===c&&!n.minimized){if(t.altKey&&(0!=i.level&&"horizontal"!==n.mode||i.level>1&&"horizontal"===n.mode||1==i.level&&i.hasItems&&"horizontal"===n.mode))i.hasItems?n._closeItem(n,i):i.parentItem&&(n._closeItem(n,i.parentItem),e(i.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=i.parentItem);else{var u=n._prevVisibleItem(i,0),m=i.parentItem;u&&u.parentId===i.parentId&&0==u.level&&"horizontal"==n.mode?(e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u):m&&0==m.level&&"horizontal"==n.mode||!m||m.level!=i.level-1||(e(m.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=m)}t.preventDefault(),t.stopPropagation()}if("down"===c){if(t.altKey)0==i.level&&i.hasItems&&n._openItem(n,i),n.minimized&&n.minimizedHidden&&n.minimizedItem.trigger("click");else{var u=n._nextVisibleItem(i,i.level),f=h(u);if(n.minimized&&u)e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u;else if(u&&(u.parentId===i.parentId||u.id==f[0].id&&"horizontal"==n.mode)&&(0!=u.level||"horizontal"!=n.mode)&&(e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u),"horizontal"===n.mode&&0===i.level&&i.isOpen&&i.hasItems){var u=n._nextVisibleItem(i);e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u}}t.preventDefault(),t.stopPropagation()}else if("up"===c){if(t.altKey)i.parentItem&&0==i.parentItem.level?(n._closeItem(n,i.parentItem),e(i.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=i.parentItem):null===i.parentItem&&0===i.level&&"horizontal"===n.mode&&n._closeItem(n,i),n.minimized&&(n.minimizedHidden||n.minimizedItem.trigger("click"));else{var u=n._prevVisibleItem(i,i.level),f=h(i);if(n.minimized&&u)e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u;else if(u&&(u.parentId===i.parentId||u.id==i.parentId&&0==u.level&&"horizontal"==n.mode))(0!=u.level||"horizontal"!==n.mode||0!==i.level)&&(e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u);else if(i&&i.id==f[0].id&&i.parentItem&&0===i.parentItem.level&&"horizontal"===n.mode){var u=i.parentItem;e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u}}t.preventDefault(),t.stopPropagation()}if(9==t.keyCode){var u=t.shiftKey?n._prevVisibleItem(i):n._nextVisibleItem(i);if(u)e(u.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=u,t.preventDefault(),t.stopPropagation();else if(n.lockFocus){for(var f=new Array,g=0,v=0;v<n.items.length;v++)n.items[v]!=i&&n.items[v].parentId==i.parentId&&(f[g++]=n.items[v]);f.length>0&&(t.shiftKey?(e(f[f.length-1].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=f[f.length-1]):(e(f[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=f[0]),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"))),t.preventDefault(),t.stopPropagation()}else i&&(e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=null)}}}),n.enableRoundedCorners&&this.host.addClass(n.toThemeProperty("jqx-rc-all")),e.each(this.items,function(){var t=this,i=e(t.element);if(i.attr("role","menuitem"),n.enableRoundedCorners&&i.addClass(n.toThemeProperty("jqx-rc-all")),n.removeHandler(i,"click"),n.addHandler(i,"click",function(i){if(!t.disabled&&!n.disabled&&(n.keyboardNavigation&&(n.activeItem&&e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=t,e(t.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.minimized&&i.stopPropagation()),n._raiseEvent("2",{item:t.element,event:i}),n.autoOpen?!n.autoCloseOnClick||a||n.clickToOpen||t.closeOnClick&&(i.data=n,n._closeAll(i)):t.level>0&&(!n.autoCloseOnClick||a||n.clickToOpen||(i.data=n,n._closeAll(i))),a&&n.autoCloseOnClick&&(i.data=n,t.hasItems||n._closeAll(i)),"A"!=i.target.tagName&&"a"!=i.target.tagName)){var s=null!=t.anchor?e(t.anchor):null;if(null!=s&&s.length>0){var r=s.attr("href"),o=s.attr("target");null!=r&&(null!=o?window.open(r,o):window.location=r)}}}),n.removeHandler(i,"mouseenter"),n.removeHandler(i,"mouseleave"),o||"simple"==n.mode||n._renderHover(i,t,a),null!=t.subMenuElement){var l=e(t.subMenuElement);if("simple"==n.mode)return l.show(),!0;l.wrap('<div class="jqx-menu-popup '+n.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+s+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),l.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-l.outerHeight()}),l.data("timer",{}),t.level>0?l.css("left",-l.outerWidth()):"horizontal"==n.mode&&l.css("left",0),s++;var d=e(t.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(e(t.subMenuElement).outerWidth())+parseInt(r[0])+"px",height:parseInt(e(t.subMenuElement).outerHeight())+parseInt(r[1])+"px"}),h=i.closest("div.jqx-menu-popup");if(h.length>0){var c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),f=l.css("padding-right");d.appendTo(h),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",f)}else{var c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),f=l.css("padding-right");d.appendTo(e(document.body)),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",f)}n.clickToOpen?(n.removeHandler(i,"mousedown"),n.addHandler(i,"mousedown",function(e){clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t)})):((a||o)&&(n.removeHandler(i,e.jqx.mobile.getTouchEventName("touchstart")),n.addHandler(i,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||"popup"==n.mode||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t),!1})),o||(n.addHandler(i,"mouseenter",function(){if((n.autoOpen||t.level>0&&!n.autoOpen)&&clearTimeout(l.data("timer").hide),t.parentId&&0!=t.parentId&&n.menuElements[t.parentId]){var e=n.menuElements[t.parentId].isOpen;if(!e)return}return(n.autoOpen||t.level>0&&!n.autoOpen)&&n._openItem(n,t),!1}),n.addHandler(i,"mousedown",function(){n.autoOpen||0!=t.level||(clearTimeout(l.data("timer").hide),null!=l&&l.stop(),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t))}),n.addHandler(i,"mouseleave",function(i){if(n.autoCloseOnMouseLeave){clearTimeout(l.data("timer").hide);var s=e(t.subMenuElement),r={left:parseInt(i.pageX),top:parseInt(i.pageY)},a={left:parseInt(s.coord().left),top:parseInt(s.coord().top),width:parseInt(s.outerWidth()),height:parseInt(s.outerHeight())},o=!0;a.left-5<=r.left&&r.left<=a.left+a.width+5&&a.top<=r.top&&r.top<=a.top+a.height&&(o=!1),o&&n._closeItem(n,t,!0)}}),n.removeHandler(d,"mouseenter"),n.addHandler(d,"mouseenter",function(){clearTimeout(l.data("timer").hide)}),n.removeHandler(d,"mouseleave"),n.addHandler(d,"mouseleave",function(){n.autoCloseOnMouseLeave&&(clearTimeout(l.data("timer").hide),clearTimeout(l.data("timer").show),null!=l&&l.stop(),n._closeItem(n,t,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e=e.replace(".",""),e="99"+e,e/=1;this.items[e];)e=Math.random()+"",e=e.replace(".",""),e/=1;return"menuItem"+e},_createMenu:function(t,i){if(null!=t){void 0==i&&(i=!0),null==i&&(i=!0);var s=e(t).find("li"),r=0;this.itemMapping=new Array;for(var n=0;n<s.length;n++){var a=s[n],o=e(a);if(-1!=a.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=a.id;l||(l=this.createID()),i&&(a.id=l,this.items[r]=new e.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[r]),r+=1;var d=0,h=this,c=o.children();c.each(function(){return i||(this.className="",h.autoGenerate&&(e(h.items[r-1].subMenuElement)[0].className="",h.minimized||e(h.items[r-1].subMenuElement).addClass(h.toThemeProperty("jqx-widget-content")),e(h.items[r-1].subMenuElement).addClass(h.toThemeProperty("jqx-menu-dropdown")),e(h.items[r-1].subMenuElement).addClass(h.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(i&&(h.items[r-1].subMenuElement=this),!1):!h.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(i&&(h.items[r-1].subMenuElement=this),this.className="",h.minimized||e(this).addClass(h.toThemeProperty("jqx-widget-content")),e(this).addClass(h.toThemeProperty("jqx-menu-dropdown")),e(this).addClass(h.toThemeProperty("jqx-popup")),e(this).attr("role","menu"),e(this).addClass(h.rtl?h.toThemeProperty("jqx-rc-l"):h.toThemeProperty("jqx-rc-r")),e(this).addClass(h.toThemeProperty("jqx-rc-b")),!1)});var u=o.parents();u.each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(d=this.id,!1):!h.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(d=this.id,!1)});var p=!1,f=a.getAttribute("type"),m=a.getAttribute("ignoretheme")||a.getAttribute("data-ignoretheme");if(m?("true"==m||1==m)&&(m=!0):m=!1,f){if("separator"==f)var p=!0}else f=a.type;p||(f=d?"sub":"top");var g=this.items[r-1];if(i){g.id=l,g.parentId=d,g.type=f,g.separator=p,g.element=s[n];var v=o.children("a");g.disabled="true"==a.getAttribute("item-disabled")?!0:!1,g.level=o.parents("li").length,g.anchor=v.length>0?v:null,g.anchor&&e(g.anchor).attr("tabindex",-1)}g.ignoretheme=m;var b=this.menuElements[d];null!=b&&(b.ignoretheme&&(g.ignoretheme=b.ignoretheme,m=b.ignoretheme),g.parentItem=b,g.parentElement=b.element),this.autoGenerate&&("separator"==f?(o.removeClass(),o.addClass(this.toThemeProperty("jqx-menu-item-separator")),o.attr("role","separator")):m||(o[0].className="",this.rtl&&o.addClass(this.toThemeProperty("jqx-rtl")),g.level>0&&!h.minimized?(o.addClass(this.toThemeProperty("jqx-item")),o.addClass(this.toThemeProperty("jqx-menu-item"))):(o.addClass(this.toThemeProperty("jqx-item")),o.addClass(this.toThemeProperty("jqx-menu-item-top"))))),g.disabled&&(o.addClass(h.toThemeProperty("jqx-menu-item-disabled")),o.addClass(h.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[n]={element:s[n],item:g},this.itemMapping["id"+s[n].id]=this.itemMapping[n],i&&!m&&(g.hasItems=o.find("li").length>0,g.hasItems&&g.element&&(e.jqx.aria(e(g.element),"aria-haspopup",!0),g.subMenuElement.id||(g.subMenuElement.id=e.jqx.utilities.createId()),e.jqx.aria(e(g.element),"aria-owns",g.subMenuElement.id)))}}for(var x=0;x<s.length;x++){var w=s[x];if(this.itemMapping["id"+w.id]){var g=this.itemMapping["id"+w.id].item;if(!g)continue;g.prevItem=null,g.nextItem=null,x>0&&this.itemMapping["id"+s[x-1].id]&&(g.prevItem=this.itemMapping["id"+s[x-1].id].item),x<s.length-1&&this.itemMapping["id"+s[x+1].id]&&(g.nextItem=this.itemMapping["id"+s[x+1].id].item)}}}},destroy:function(){e.jqx.utilities.resize(this.host,null,!0);var t=this.host.closest("div.jqx-menu-wrapper");t.remove(),e("#menuWrapper"+this.element.id).remove();var i=this;this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(e(document),"mousedown.menu"+this.element.id,i._closeAfterClick),this.removeHandler(e(document),"mouseup.menu"+this.element.id,i._closeAfterClick),e.data(document.body,"jqxMenuOldHost"+this.element.id,null),this.isTouchDevice()&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,this._closeAfterClick,this),e(window).off&&e(window).off("resize.menu"+i.element.id),e.each(this.items,function(){var t=this,s=e(t.element);i.removeHandler(s,"click"),i.removeHandler(s,"selectstart"),i.removeHandler(s,"mouseenter"),i.removeHandler(s,"mouseleave"),i.removeHandler(s,"mousedown"),i.removeHandler(s,"mouseleave");var r=e(t.subMenuElement),n=r.closest("div.jqx-menu-popup");n.remove(),delete this.subMenuElement,delete this.element}),e.data(document.body,"menuel",null),delete this.menuElements,this.items=new Array,delete this.items;var s=e.data(this.element,"jqxMenu");s&&delete s.instance,this.host.removeClass(),this.host.remove(),delete this.host,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var r=new e.Event(s);"2"==t&&(args=i.item,args.owner=this,e.extend(r,i.event),r.type="itemclick"),r.owner=this,r.args=args;var n=this.host.trigger(r);return n},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized&&("disabled"==i&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),r!=s)){if("touchMode"==i&&(this._isTouchDevice=null,t._render(r,s)),"source"==i&&null!=t.source){var n=t.loadItems(t.source);t.element.innerHTML=n;var a=t.host.find("ul:first");a.length>0&&(t.refresh(),t._createMenu(a[0]),t._render())}"autoCloseOnClick"==i?0==r?t.removeHandler(e(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(e(document),"mousedown.menu"+this.element.id,t,t._closeAll):"mode"==i||"width"==i||"height"==i||"showTopLevelArrows"==i?(t.refresh(),"mode"==i?t._render(r,s):t._applyOrientation()):"theme"==i&&e.jqx.utilities.setTheme(s,r,t.host)}}})}(jqxBaseFramework),function(e){e.jqx._jqxMenu.jqxMenuItem=function(e,t,i){var s={id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0};return s}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxListBox","",{}),e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]};return e.extend(!0,this,t),t},createInstance:function(){var t=this;15!=e.jqx.utilities.scrollBarSize&&(t.scrollBarSize=e.jqx.utilities.scrollBarSize),null==t.width&&(t.width=200),null==t.height&&(t.height=200),t.render();var i=t;e.jqx.utilities.resize(t.host,function(){i._updateSize()},!1,t._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){var t=this,i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var s={title:t.field.title};s.id=t.field.id.length?t.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":e.jqx.utilities.createId()+"_jqxListBox";var r=e("<div></div>",s);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),e(t.field).hide().after(r);var n=t.host.data();if(t.host=r,t.host.data(n),t.element=r[0],t.element.id=t.field.id,t.field.id=s.id,t.field.tabIndex){var a=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=a}}t.element.innerHTML="";var t=t,o=t.element.className;o+=" "+t.toThemeProperty("jqx-listbox"),o+=" "+t.toThemeProperty("jqx-reset"),o+=" "+t.toThemeProperty("jqx-rc-all"),o+=" "+t.toThemeProperty("jqx-widget"),o+=" "+t.toThemeProperty("jqx-widget-content"),t.element.className=o;var l=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.width(t.width),l=!0),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.height(t.height),0==t.host.height()&&t.host.height(200),l=!0),null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host.width(t.width):void 0==t.width||isNaN(t.width)||(t.element.style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host.height(t.height):void 0==t.height||isNaN(t.height)||(t.element.style.height=parseInt(t.height)+"px"),t.multiple||t.multipleextended||t.checkboxes?e.jqx.aria(t,"aria-multiselectable",!0):e.jqx.aria(t,"aria-multiselectable",!1);var d=e("<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+t.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>");
t._checkForHiddenParent&&(t._addInput(),t.host.attr("tabIndex")||t.host.attr("tabIndex",1)),t.host.attr("role","listbox"),t.host.append(d),t.filter=t.host.find("#filter"+t.element.id),t.filterInput=t.filter.find("input"),t.filterInput.attr("placeholder",t.filterPlaceHolder),t.filterInput.addClass(t.toThemeProperty("jqx-widget jqx-input jqx-rc-all")),t.addHandler(t.filterInput,"keyup.textchange",function(e){13==e.keyCode?t._search(e):t.filterDelay>0&&(t._filterTimer&&clearTimeout(t._filterTimer),t._filterTimer=setTimeout(function(){t._search(e)},t.filterDelay)),e.stopPropagation()});var h=t.host.find("#verticalScrollBar"+t.element.id);if(!t.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!h.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var c=parseInt(t.host.height())/2;0==c&&(c=10),t.vScrollBar=h.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:t.rtl,theme:t.theme,touchMode:t.touchMode,largestep:c});var u=t.host.find("#horizontalScrollBar"+t.element.id);if(t.hScrollBar=u.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:t.rtl,touchMode:t.touchMode,theme:t.theme}),t.content=t.host.find("#listBoxContent"),t.content[0].id="listBoxContent"+t.element.id,t.bottomRight=t.host.find("#bottomRight").addClass(t.toThemeProperty("jqx-listbox-bottomright")).addClass(t.toThemeProperty("jqx-scrollbar-state-normal")),t.bottomRight[0].id="bottomRight"+t.element.id,t.vScrollInstance=e.data(t.vScrollBar[0],"jqxScrollBar").instance,t.hScrollInstance=e.data(t.hScrollBar[0],"jqxScrollBar").instance,t.isTouchDevice()&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var p=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(p),t.overlayContent=t.host.find(".overlay"),t.filterable&&t.overlayContent.css("top","30px")}t._updateTouchScrolling(),t.host.addClass("jqx-disableselect"),t.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this;if(this.isTouchDevice()){t.enableHover=!1;var i=this.overlayContent?this.overlayContent:this.content;this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(e(i),"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(i,t.vScrollInstance.max,function(e,i){if("hidden"!=t.vScrollBar.css("visibility")){var s=t.vScrollInstance.value;t.vScrollInstance.setPosition(s+i),t._lastScroll=new Date}if("hidden"!=t.hScrollBar.css("visibility")){var s=t.hScrollInstance.value;t.hScrollInstance.setPosition(s+e),t._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(e.jqx.browser.msie&&e.jqx.browser.version<9)return!1;this.touchDevice=!0,t=!0,e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e){e._cachedItemHtml=new Array,e.clearSelection(),e.refresh()},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!t.batchUpdate){if("filterable"==i&&t.refresh(),"filterHeight"==i&&t._arrange(),"filterPlaceHolder"==i&&t.filterInput.attr("placeholder",r),"renderer"==i&&(t._cachedItemHtml=new Array,t.refresh()),"itemHeight"==i&&t.refresh(),("source"==i||"checkboxes"==i)&&(null==r&&s&&s.unbindBindingUpdate&&(s.unbindBindingUpdate(t.element.id),s.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),("scrollBarSize"==i||"equalItemsWidth"==i)&&r!=s&&t._updatescrollbars(),"disabled"==i&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:r}),t.hScrollBar.jqxScrollBar({disabled:r})),"touchMode"==i||"rtl"==i){if(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),"touchMode"==i&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var n=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(n),t.overlayContent=t.host.find(".overlay")}t._updateTouchScrolling(),t._addHandlers(),t._render(!1)}if(this.updating||("width"==i||"height"==i)&&t._updateSize(),"theme"==i&&s!=r&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),"selectedIndex"==i&&(t.clearSelection(),t.selectIndex(r,!0)),"displayMember"==i||"valueMember"==i){if(s!=r){var a=t.selectedIndex;t.refresh(),t.selectedIndex=a,t.selectedIndexes[a]=a}t._renderItems()}"autoHeight"==i&&(s!=r?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&e.jqx.isHidden(t.host)&&e.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,t._checkForHiddenParent)}},loadFromSelect:function(t){if(null!=t){var i="#"+t,s=e(i);if(s.length>0){var r=e.jqx.parseSourceTag(s[0]),n=r.items,a=r.index;this.source=n,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=a,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(t){var i=this;if(void 0!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var s=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex;i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),e.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,t),void s(t);(this.autoBind||!this.autoBind&&!t)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._raiseEvent("6"),this._render(!1,1==t),s(t)}},loadSelectTag:function(){var t=e.jqx.parseSourceTag(this.field);this.source=t.items,-1==this.selectedIndex&&(this.selectedIndex=t.index)},_render:function(e){return this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(void 0==e||e)&&void 0!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready()))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight,0>t&&(t=0));var i=parseInt(this.vScrollInstance.value),s=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[s]&&this.renderedVisibleItems[s].isGroup)return null;if(this.renderedVisibleItems.length>0){var r=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(r.height+r.top<t+i)return null}return s=this._searchFirstVisibleIndex(t+i),this.visibleItems[s]},_searchFirstVisibleIndex:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;(void 0==t||null==t)&&(t=this.visibleItems);for(var s=t.length;s>=i;){mid=parseInt((i+s)/2);var r=t[mid];if(void 0==r)break;if(r.initialTop>e&&r.initialTop+r.height>e)s=mid-1;else{if(!(r.initialTop<e&&r.initialTop+r.height<=e))return mid;i=mid+1}}return 0},_renderItems:function(){if(void 0==this.items||0==this.items.length)return void(this.visibleItems=new Array);if(1!=this.updatingListBox){var t=this.isTouchDevice(),i=this.vScrollInstance,s=this.hScrollInstance,r=parseInt(i.value),n=parseInt(s.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(n=s.max-n);var a=(this.items.length,this.host.width(),parseInt(this.content[0].style.width)),o=a+parseInt(s.max),l=parseInt(this.vScrollBar[0].style.width)+2;"hidden"==this.vScrollBar[0].style.visibility&&(l=0),"visible"!=this.hScrollBar[0].style.visibility&&(o=a);var d=(this._getVirtualItemsCount(),new Array),h=0,c=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(c=this.host.outerHeight()),isNaN(c)&&(c=0);var u=0,p=0,f=0;if(0==i.value||0==this.visibleItems.length)for(var m=0;m<this.items.length;m++){var g=this.items[m];if(g.visible){g.top=-r,g.initialTop=-r,!g.isGroup&&g.visible&&(this.visibleItems[p++]=g,g.visibleIndex=p-1),this.renderedVisibleItems[f++]=g,g.left=-n;var v=g.top+g.height;v>=0&&g.top-g.height<=c&&(d[h++]={index:m,item:g}),r-=g.height}}var b=r>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,x=0;h=0;for(var w=this.vScrollInstance.value,y=0;100+c>x;){var g=this.renderedVisibleItems[b];if(void 0==g)break;if(g.visible){g.left=-n;var v=g.top+g.height-w;v>=0&&g.initialTop-w-g.height<=2*c&&(d[h++]={index:b,item:g})}if(b++,g.visible&&(x+=g.initialTop-w+g.height-x),y++,y>this.items.length-1)break}for(var _=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),j=this.toThemeProperty("jqx-listitem-state-group"),q=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),k=0,I=this,m=0;m<this.visualItems.length;m++){var T=this.visualItems[m],C=function(){var e=T[0].firstChild;if(I.checkboxes&&(e=T[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),I.checkboxes){var t=T.find(".chkbox");t.css({visibility:"hidden"})}};if(m<d.length){var g=d[m].item;if(g.initialTop-w>=c){C();continue}var S=e(T[0].firstChild);if(this.checkboxes&&(S=e(T[0].lastChild)),0==S.length)continue;if(null==S[0])continue;S[0].className="",S[0].style.display="block",S[0].style.visibility="inherit";var D="";if(D=!g.isGroup&&!this.selectedIndexes[g.index]>=0?_:j,(g.disabled||this.disabled)&&(D+=" "+q),this.roundedcorners&&(D+=" "+this.toThemeProperty("jqx-rc-all")),t&&(D+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),S[0].className=D,this.renderer)if(g.key||(g.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[g.key])S[0].innerHTML!=this._cachedItemHtml[g.key]&&(S[0].innerHTML=this._cachedItemHtml[g.key]);else{var P=this.renderer(g.index,g.label,g.value);S[0].innerHTML=P,this._cachedItemHtml[g.key]=S[0].innerHTML}else{if(-1!==this.itemHeight){var E=2+2*parseInt(S.css("padding-top"));S[0].style.lineHeight=g.height-E+"px",S.css("vertical-align","middle")}null!=g.html&&g.html.toString().length>0?S[0].innerHTML=g.html:null!=g.label||null!=g.value?null!=g.label?(S[0].innerHTML!==g.label&&(S[0].innerHTML=g.label),""==e.trim(g.label)&&(S[0].innerHTML=this.emptyString,""==this.emptyString&&(S[0].style.height=g.height-8+"px")),this.incrementalSearch||g.disabled||void 0!=this.searchString&&""!=this.searchString&&(S[0].innerHTML=this._highlight(g.label.toString(),this.searchString))):null===g.label?(S[0].innerHTML=this.emptyString,""==this.emptyString&&(S[0].style.height=g.height-8+"px")):S[0].innerHTML!==g.value?S[0].innerHTML=g.value:""==g.label&&(S[0].innerHTML=" "):(""==g.label||null==g.label)&&(S[0].innerHTML="",S[0].style.height=g.height-8+"px")}if(T[0].style.left=g.left+"px",T[0].style.top=g.initialTop-w+"px",g.element=S[0],g.title&&(S[0].title=g.title),this.equalItemsWidth&&!g.isGroup){if(0==u){var H=parseInt(o),B=parseInt(S.outerWidth())-parseInt(S.width());H-=B;var A=1;A=null!=A?parseInt(A):0,H-=2*A,u=H,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(u-=18)}a>this.virtualSize.width?(S[0].style.width=u+"px",g.width=u):(S[0].style.width=-4+this.virtualSize.width+"px",g.width=this.virtualSize.width-4)}else S.width()<this.host.width()&&S.width(this.host.width()-2);if(this.rtl&&(S[0].style.textAlign="right"),this.autoItemsHeight&&(S[0].style.whiteSpace="normal",S.width(u),g.width=u),k=0,this.checkboxes&&!g.isGroup){0==k&&(k=(g.height-16)/2,k++);var z=e(T.children()[0]);z[0].item=g,this.rtl?"0px"!=S[0].style.left&&(S[0].style.left="0px"):"18px"!=S[0].style.left&&(S[0].style.left="18px"),this.rtl&&z.css("left",8+g.width+"px"),z[0].style.top=k+"px",z[0].style.display="block",z[0].style.visibility="inherit";var M=g.checked,L=g.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";z[0].firstChild&&z[0].firstChild.firstChild&&z[0].firstChild.firstChild.firstChild&&z[0].firstChild.firstChild&&(M?z[0].firstChild.firstChild.firstChild.className=L:M===!1?z[0].firstChild.firstChild.firstChild.className="":null===M&&(z[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),e.jqx.ariaEnabled&&(M?T[0].setAttribute("aria-selected",!0):T[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var z=e(T.children()[0]);z.css({display:"none",visibility:"inherit"})}!g.disabled&&(!this.filterable&&this.selectedIndexes[g.visibleIndex]>=0||g.selected&&this.filterable)?(S.addClass(this.toThemeProperty("jqx-listitem-state-selected")),S.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(T[0].setAttribute("aria-selected",!0),this._activeElement=T[0])):this.checkboxes||e.jqx.ariaEnabled&&T[0].removeAttribute("aria-selected")}else C()}}},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(){var t=0,i=2,s=0,r=e("<span></span>");this.equalItemsWidth&&r.css("float","left");var n=0,a=this.host.outerHeight();e(document.body).append(r);var o=this.items.length,l=this.host.width();if(this.autoItemsHeight&&(l-=10,"hidden"!=this.vScrollBar.css("visibility")&&(l-=20)),this.autoItemsHeight||this.renderer||this.groups.length>1||o>0&&null!=this.items[0].html&&""!=this.items[0].html)for(var s=0;o>s;s++){var d=this.items[s];if((!d.isGroup||""!=d.label||""!=d.html)&&d.visible){var h="";if(h+=this.toThemeProperty(d.isGroup?"jqx-listitem-state-group jqx-rc-all":"jqx-listitem-state-normal jqx-rc-all"),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(h+=" "+this.toThemeProperty("jqx-touch")),r[0].className=h,this.autoItemsHeight){r[0].style.whiteSpace="normal";var c=this.checkboxes?-20:0;r[0].style.width=c+l+"px"}if(this.renderer){var u=this.renderer(d.index,d.label,d.value);r[0].innerHTML=u}else null!=d.html&&d.html.toString().length>0?r[0].innerHTML=d.html:(null!=d.label||null!=d.value)&&(null!=d.label?(r[0].innerHTML=d.label,""==d.label&&(r[0].innerHTML="Empty")):r[0].innerHTML=d.value);var p=r.outerHeight(),f=r.outerWidth();this.itemHeight>-1&&(p=this.itemHeight),d.height=p,d.width=f,i+=p,t=Math.max(t,f),a>=i&&n++}}else{for(var i=0,m=0,g="",v=0,b=0,x=-1,s=0;o>s;s++){var d=this.items[s];if((!d.isGroup||""!=d.label||""!=d.html)&&d.visible){x++;var h="";if(0==x){if(h+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),h+=" "+this.toThemeProperty("jqx-widget"),h+=" "+this.toThemeProperty("jqx-listbox"),h+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(h+=" "+this.toThemeProperty("jqx-touch"),h+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),r[0].className=h,this.autoItemsHeight){r[0].style.whiteSpace="normal";var c=this.checkboxes?-20:0;r[0].style.width=c+l+"px"}null==d.html||""==d.label||null==d.label?r[0].innerHTML="Item":null!=d.html&&d.html.toString().length>0?r[0].innerHTML=d.html:(null!=d.label||null!=d.value)&&(r[0].innerHTML=null!=d.label?null!=d.label.toString().match(new RegExp("\\w"))||null!=d.label.toString().match(new RegExp("\\d"))?d.label:"Item":d.value);var p=1+r.outerHeight();this.itemHeight>-1&&(p=this.itemHeight),m=p}void 0!=v&&(b=v),null!=d.html&&d.html.toString().length>0?(v=Math.max(v,d.html.toString().length),b!=v&&(g=d.html)):null!=d.label?(v=Math.max(v,d.label.length),b!=v&&(g=d.label)):null!=d.value&&(v=Math.max(v,d.value.length),b!=v&&(g=d.value)),d.height=m,i+=m,a>=i&&n++}}r[0].innerHTML=g,t=r.outerWidth()}return i+=2,10>n&&(n=10),this.filterable&&(i+=this.filterHeight),r.remove(),{width:t,height:i,itemsPerPage:n}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(t){var i=this;if(1!=i.updatingListBox){if(void 0==i.items||0==i.items.length)return i.virtualSize={width:0,height:0,itemsPerPage:0},i._updatescrollbars(),i.renderedVisibleItems=new Array,void(i.itemswrapper&&i.itemswrapper.children().remove());if(0==t){var s=i._calculateVirtualSize(),r=2*s.itemsPerPage;i.autoHeight&&(r=i.items.length),i.virtualItemsCount=Math.min(r,i.items.length);{s.width}return i.virtualSize=s,void i._updatescrollbars()}var n=this,a=0;i.visibleItems=new Array,i.renderedVisibleItems=new Array,i._removeHandlers(),i.allowDrag&&i._enableDragDrop&&(i.itemswrapper=null),null==i.itemswrapper&&(i.content[0].innerHTML="",i.itemswrapper=e('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),i.itemswrapper.height(2*i.host.height()),i.content.append(i.itemswrapper));var s=i._calculateVirtualSize(),r=2*s.itemsPerPage;i.autoHeight&&(r=i.items.length),i.virtualItemsCount=Math.min(r,i.items.length);{var i=this;s.width}i.virtualSize=s,i.itemswrapper.width(Math.max(i.host.width(),17+s.width));for(var o=0,l="",d=e.jqx.browser.msie&&e.jqx.browser.version<9,h=d?' unselectable="on"':"",c=o;c<i.virtualItemsCount;c++){var u=i.items[c],p="listitem"+c+i.element.id;if(l+="<div"+h+" role='option' id='"+p+"' class='jqx-listitem-element'>",i.checkboxes){l+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var f='<div class="'+i.toThemeProperty("jqx-checkbox-default")+" "+i.toThemeProperty("jqx-fill-state-normal")+" "+i.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">',m=u.checked?" "+i.toThemeProperty("jqx-checkbox-check-checked"):"";f+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+m+'"></span>',f+="</div></div>",l+=f,l+="</div>"}l+="<span"+h+" style='-ms-touch-action: none;'></span></div>"}n.WinJS?i.itemswrapper.html(l):i.itemswrapper[0].innerHTML=l;for(var g=i.itemswrapper.children(),c=o;c<i.virtualItemsCount;c++){var u=i.items[c],v=e(g[c]);if(i.allowDrag&&i._enableDragDrop&&v.addClass("draggable"),i.checkboxes){{e(v.children()[0])}v.css("float","left");var b=e(v[0].firstChild);b.css("float","left")}v[0].style.height=u.height+"px",v[0].style.top=a+"px",a+=u.height,i.visualItems[c]=v}if(i._addHandlers(),i._updatescrollbars(),i.autoItemsHeight){var s=i._calculateVirtualSize(),r=2*s.itemsPerPage;i.autoHeight&&(r=i.items.length),i.virtualItemsCount=Math.min(r,i.items.length);{var i=this;s.width}i.virtualSize=s,i._updatescrollbars()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(i.host.attr("hideFocus",!0),i.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){var t=this;if(t.virtualSize){var i=t.virtualSize.height,s=t.virtualSize.width,r=t.vScrollInstance,n=t.hScrollInstance;t._arrange(!1);var a=!1,o=t.host.outerWidth(),l=t.host.outerHeight(),d=0;if(s>o&&(d=t.hScrollBar.outerHeight()+2),i+d>l){var h=r.max;r.max=2+parseInt(i)+d-parseInt(l-2),"inherit"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="inherit",a=!0),h!=r.max&&r._arrange()}else"hidden"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="hidden",a=!0,r.setPosition(0));var c=0;"hidden"!=t.vScrollBar[0].style.visibility&&(c=t.scrollBarSize+6);var u=t.checkboxes?20:0;if(t.autoItemsHeight)t.hScrollBar[0].style.visibility="hidden";else if(s>=o-c-u){var p=n.max;n.max="inherit"==t.vScrollBar[0].style.visibility?u+c+parseInt(s)-t.host.width()+4:u+parseInt(s)-t.host.width()+6,"inherit"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="inherit",a=!0),p!=n.max&&n._arrange(),"inherit"==t.vScrollBar[0].style.visibility&&(r.max=2+parseInt(i)+t.hScrollBar.outerHeight()+2-parseInt(t.host.height()))}else"hidden"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="hidden",a=!0);n.setPosition(0),a&&t._arrange(),t.itemswrapper&&(t.itemswrapper[0].style.width=Math.max(0,Math.max(o-2,17+s))+"px",t.itemswrapper[0].style.height=Math.max(0,2*l)+"px");var f=t.isTouchDevice();f&&("visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,t.element.id):e.jqx.mobile.setTouchScroll(!0,t.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1;for(var i=!1,s=0;s<this.selectedIndexes.length;s++){var e=this.selectedIndexes[s];-1!=e&&void 0!=e&&(i=!0)}i||(this.selectedValue=null,this.selectedIndex=-1,this.selectedValues[this.getVisibleItem(e).value]&&(this.selectedValues[this.getVisibleItem(e).value]=null)),(void 0==t||1==t)&&(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var e=this,t=this.getItems(),i=this.getVisibleItems(),s=function(){var t=e.vScrollInstance.value;e.filterable&&(t-=e.filterHeight);for(var s=new Array,r=0;r<i.length;r++){var n=i[r];if(n){var a=n.initialTop,o=n.height,l=!0;(0>a+o-t||a-t>=e.host.height())&&(l=!1),l&&s.push(n)}}return s}();return{items:t,visibleItems:i,viewItems:s}},getItem:function(t){if(-1==t||isNaN(t)||"string"==typeof t)return-1===t?null:this.getItemByValue(t);{var i=null;e.each(this.items,function(){return this.index==t?(i=this,!1):void 0})}return i},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)var r=this.getVisibleItem(t);if(null!=r){{e(r.checkBoxElement)}r.checked=!0,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==s||1==s)&&this._raiseEvent(3,{label:r.label,value:r.value,checked:!0,item:r})}},getCheckedItems:function(){if(!this.checkboxes)return null;var t=new Array;if(void 0!=this.items)return e.each(this.items,function(){this.checked&&(t[t.length]=this)}),t},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;t!==!1&&e.checked!==!0&&i._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;t!==!1&&e.checked!==!1&&(this.checked=!1,i._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)var r=this.getVisibleItem(t);if(null!=r){{e(r.checkBoxElement)}r.checked=!1,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==s||1==s)&&this._raiseEvent(3,{label:r.label,value:r.value,checked:!1,item:r})}},indeterminateIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)var r=this.getVisibleItem(t);if(null!=r){{e(r.checkBoxElement)}r.checked=null,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==s||1==s)&&this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[];for(var s in t)-1!=t[s]&&(i[i.length]=e[s]);return i},getSelectedItem:function(){return this.getItem(this.selectedIndex)},_updateCheckedItems:function(){var t=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=t,this._renderItems();var i=e.data(this.element,"hoveredItem");null!=i&&(e(i).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(i).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(t){if(null!=this.visibleItems){if(t&&t.value&&(t=t.value),this.itemsByValue)return this.itemsByValue[e.trim(t).split(" ").join("")];for(var i=this.visibleItems,s=0;s<i.length;s++)if(i[s].value==t)return i[s]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.index,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.index,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.index,!0)}return!1},val:function(e){if(this.input){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"==typeof e?!1:!0};if(t(e)||0==arguments.length)return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return!1},unselectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,s,r,n){if(!(isNaN(e)||(this.filterable&&(this.selectedIndex=-1),-1>e||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled))){if(!this.multiple&&!this.multipleextended&&this.selectedIndex==e&&!s)return void(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value)));if(this.checkboxes)return void this._updateCheckedItems();this.focused=!0;var a=!1;this.selectedIndex!=e&&(a=!0);var o=this.selectedIndex;this.selectedIndex!=e||this.multiple||(o=-1),void 0==r&&(r="none");var l=this.getItem(e),d=this.getItem(o);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),d=this.getVisibleItem(o)),void 0!=s&&s)this._raiseEvent("1",{index:o,type:r,item:d,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[o]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:n});else{var h=this,c=function(e,t,i,s,r,n){h._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}),h.selectedIndex=e,h.selectedIndexes=[],t=e,h.selectedIndexes[e]=e,h.selectedValues=new Array,r&&(h.selectedValues[r.value]=r.value),h._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n})},u=function(e,t,i,s,r,n){void 0==h.selectedIndexes[e]||-1==h.selectedIndexes[e]?(h.selectedIndexes[e]=e,h.selectedIndex=e,r&&(h.selectedValues[r.value]=r.value,h._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n}))):(t=h.selectedIndexes[e],s=h.getVisibleItem(t),s&&(h.selectedValues[s.value]=null),h.selectedIndexes[e]=-1,h.selectedIndex=-1,h._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==r&&(this.clearSelection(!1),h._clickedIndex=e),u(e,o,r,d,l,n);else if(this._shiftKey){void 0==h._clickedIndex&&(h._clickedIndex=o);var p=Math.min(h._clickedIndex,e),f=Math.max(h._clickedIndex,e);this.clearSelection(!1);for(var m=p;f>=m;m++)h.selectedIndexes[m]=m,h.selectedValues[h.getVisibleItem(m).value]=h.getVisibleItem(m).value,h._raiseEvent("0",{index:m,type:r,item:this.getVisibleItem(m),originalEvent:n});h.selectedIndex="keyboard"!=r?h._clickedIndex:e}}else"keyboard"!=r&&"mouse"!=r?(u(e,o,r,d,l,n),h._clickedIndex=e):(this.clearSelection(!1),h._clickedIndex=e,c(e,o,r,d,l,n));else this.multiple?u(e,o,r,d,l,n):(l&&(this.selectedValue=l.value),c(e,o,r,d,l,n))}return(void 0==i||1==i)&&this._renderItems(),void 0!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:l,oldItem:d,type:r,originalEvent:n}),this._updateInputSelection(),a}},_updateInputSelection:function(){this._syncSelection();var t=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&void 0!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),t.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var i=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),s="";if(i){for(var r=0;r<i.length;r++)void 0!=i[r]&&(s+=r==i.length-1?i[r].value:i[r].value+",",t.push(i[r].value));this.input.val(s)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(0>e||e>=this.items.length)return!1;var t=this.vScrollInstance.value;this.filterable&&(t-=this.filterHeight);var i=this.visibleItems[e];if(void 0==i)return!0;var s=i.initialTop,r=i.height;return 0>s-t||s-t+r>=this.host.outerHeight()?!1:!0},_itemsInPage:function(){var t=0,i=this;return this.items&&e.each(this.items,function(){return this.initialTop+this.height>=i.content.height()?!1:void t++}),t},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(indx=e+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(e){for(indx=e-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this,i=t.filterInput.val();return 9!=e.keyCode&&"none"!=t.searchMode&&null!=t.searchMode&&"undefined"!=t.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode?37==e.keyCode||39==e.keyCode?!1:void(e.altKey||18==e.keyCode||e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||e.metaKey||t.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||i!==t.searchString&&t._updateItemsVisibility(i)):void 0
},_updateItemsVisibility:function(t){var i=this.getItems();if(void 0==i)return{index:-1,matchItem:new Array};var s=this,r=-1,n=new Array,a=0;e.each(i,function(){var i="";if(!this.isGroup){i=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",i=i.toString();var o=!1;switch(s.searchMode){case"containsignorecase":o=e.jqx.string.containsIgnoreCase(i,t);break;case"contains":o=e.jqx.string.contains(i,t);break;case"equals":o=e.jqx.string.equals(i,t);break;case"equalsignorecase":o=e.jqx.string.equalsIgnoreCase(i,t);break;case"startswith":o=e.jqx.string.startsWith(i,t);break;case"startswithignorecase":o=e.jqx.string.startsWithIgnoreCase(i,t);break;case"endswith":o=e.jqx.string.endsWith(i,t);break;case"endswithignorecase":o=e.jqx.string.endsWithIgnoreCase(i,t)}o||(this.visible=!1),o&&(n[a++]=this,this.visible=!0,r=this.visibleIndex),""==t&&(this.visible=!0,o=!1)}}),s.renderedVisibleItems=new Array,s.visibleItems=new Array,s.vScrollInstance.setPosition(0,!0),s._addItems(!1),s._renderItems();for(var o=0;o<s.items.length;o++)s.selectedIndexes[o]=-1;s.selectedIndex=-1;for(var l in s.selectedValues){var t=s.selectedValues[l],d=s.getItemByValue(t);d&&d.visible&&(s.selectedIndex=d.visibleIndex,s.selectedIndexes[d.visibleIndex]=d.visibleIndex)}s._syncSelection()},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;void 0==i&&(i=0);var s=this.getItems(),r=this,n=-1;return e.each(s,function(){var s="";if(!this.isGroup){s=this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var a=!1;switch(r.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(s,t);break;case"contains":a=e.jqx.string.contains(s,t);break;case"equals":a=e.jqx.string.equals(s,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(s,t);break;case"startswith":a=e.jqx.string.startsWith(s,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(s,t);break;case"endswith":a=e.jqx.string.endsWith(s,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(s,t)}if(a&&this.visibleIndex>=i)return n=this.visibleIndex,!1}}),n},findItems:function(t){var i=this.getItems(),s=this,r=0,n=new Array;return e.each(i,function(){var i="";if(!this.isGroup){i=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var a=!1;switch(s.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(i,t);break;case"contains":a=e.jqx.string.contains(i,t);break;case"equals":a=e.jqx.string.equals(i,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(i,t);break;case"startswith":a=e.jqx.string.startsWith(i,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(i,t);break;case"endswith":a=e.jqx.string.endsWith(i,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(i,t)}a&&(n[r++]=this)}}),n},_syncSelection:function(){var e=this;if(e.filterable){for(var t=0;t<e.items.length;t++){var i=e.items[t];i.selected=!1}for(var t=0;t<e.visibleItems.length;t++){var i=e.visibleItems[t];e.selectedIndexes&&e.selectedIndexes[t]==i.visibleIndex&&(i.selected=!0)}e.itemswrapper&&e._renderItems()}},_handleKeyDown:function(e){var t=e.keyCode,i=this,s=i.selectedIndex,r=i.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||e.target!=this.filterInput[0])){var n=function(){i.multiple&&i.clearSelection(!1)};if(e.altKey&&(t=-1),i.incrementalSearch){var a=-1;i._searchString||(i._searchString=""),(8==t||46==t)&&i._searchString.length>=1&&(i._searchString=i._searchString.substr(0,i._searchString.length-1));var o=String.fromCharCode(t),l=!isNaN(parseInt(o)),d=!1;if(t>=65&&97>=t||l||8==t||32==t||46==t){e.shiftKey||(o=o.toLocaleLowerCase());var h=1+i.selectedIndex;8!=t&&32!=t&&46!=t&&(i._searchString.length>0&&i._searchString.substr(0,1)==o?h=1+i.selectedIndex:i._searchString+=o),32==t&&(i._searchString+=" ");var c=this._getMatches(i._searchString,h);if(a=c,a==i._lastMatchIndex||-1==a){var c=this._getMatches(i._searchString,0);a=c}if(i._lastMatchIndex=a,a>=0){var u=function(){n(),i.selectIndex(a,!1,!1,!1,"keyboard",e);var t=i.isIndexInView(a);t?i._renderItems():i.ensureVisible(a)};i._toSelectTimer&&clearTimeout(i._toSelectTimer),i._toSelectTimer=setTimeout(function(){u()},i.incrementalSearchKeyDownDelay)}d=!0}if(void 0!=i._searchTimer&&clearTimeout(i._searchTimer),(27==t||13==t)&&(i._searchString=""),i._searchTimer=setTimeout(function(){i._searchString="",i._renderItems()},i.incrementalSearchDelay),a>=0)return;if(d)return!1}if(this.checkboxes)return!0;if(33==t){var p=i._itemsInPage();i.selectedIndex-p>=0?(n(),i.selectIndex(r-p,!1,!1,!1,"keyboard",e)):(n(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(32==t&&this.checkboxes){var f=this.getItem(s);null!=f&&(i._updateItemCheck(f,s),e.preventDefault()),i._searchString=""}if(36==t&&(n(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),35==t&&(n(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),34==t){var p=i._itemsInPage();i.selectedIndex+p<i.visibleItems.length?(n(),i.selectIndex(r+p,!1,!1,!1,"keyboard",e)):(n(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(38==t){if(i._searchString="",!(i.selectedIndex>0))return!1;var m=i._prevItemIndex(i.selectedIndex);if(m==i.selectedIndex||-1==m)return!0;n(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}else if(40==t){if(i._searchString="",!(i.selectedIndex+1<i.visibleItems.length))return!1;var m=i._nextItemIndex(i.selectedIndex);if(m==i.selectedIndex||-1==m)return!0;n(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}if(35==t||36==t||38==t||40==t||34==t||33==t){var g=i.isIndexInView(i.selectedIndex);return g?i._renderItems():i.ensureVisible(i.selectedIndex),!1}return!0}},_updateItemCheck:function(e,t){if(!this.disabled)switch(e.checked=1==e.checked?e.hasThreeStates&&this.hasThreeStates?null:!1:null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),s?(s=!1,e.returnValue=s,s):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;return t!=i?!0:!1},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout(function(){e.host.focus()},10)}catch(t){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id),this.removeHandler(e(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var e=this;if(e._arrange(),e.host.height()!=e._oldheight||e.host.width()!=e._oldwidth){{e.host.width()!=e._oldwidth}if(e.autoItemsHeight)e._render(!1);else if(e.items)if(e.items.length>0&&e.virtualItemsCount*e.items[0].height<e._oldheight-2)e._render(!1);else{var t=e.vScrollInstance.value;e._updatescrollbars(),e._renderItems(),e.vScrollInstance.setPosition(t<e.vScrollInstance.max?t:e.vScrollInstance.max)}e._oldwidth=e.host.width(),e._oldheight=e.host.height()}},_addHandlers:function(){var t=this;this.focused=!1;var i=(new Date,this.isTouchDevice());this.addHandler(this.vScrollBar,"valueChanged",function(){e.jqx.browser.msie&&e.jqx.browser.version>9?setTimeout(function(){t._renderItems()},1):t._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){t.wheel(e,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(e(document),"keydown.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(e(document),"keyup.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return t._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(){t.focused=!1;var i=e.data(t.element,"hoveredItem");null!=i&&(e(i).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(i).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.data(t.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.content,"blur",function(){t.focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.host,"blur",function(){e.jqx.browser.msie&&e.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)}),this.addHandler(this.content,"mouseenter",function(){t.focused=!0});var s=e.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var r=t.isTouchDevice()&&this.touchMode!==!0,n=r?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),function(i){if(!t.enableSelection)return!0;if(r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0;var s=e.jqx.mobile.getTouches(i),n=s[0];if(void 0!=n){var a=t.host.offset(),o=parseInt(n.pageX),l=parseInt(n.pageY);1==t.touchMode&&void 0!=n._pageX&&(o=parseInt(n._pageX),l=parseInt(n._pageY)),o-=a.left,l-=a.top;var d=t._hitTest(o,l);if(null!=d&&!d.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(t.checkboxes)return void t._updateItemCheck(d,d.visibleIndex);if(-1==d.html.indexOf("href"))return t.selectIndex(d.visibleIndex,!1,!0,!1,"mouse",i),i.preventDefault&&i.preventDefault(),t.content.trigger("click"),!1;setTimeout(function(){return t.selectIndex(d.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1},100)}}});else{var a=!1;this.addHandler(this.content,n,function(i){if(!t.enableSelection)return!0;if(a=!0,r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1;if(t.focused=!0,!t.isTouchDevice()&&t.focusable&&t.host.focus(),i.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=i.target){var o=i.target,l=e(o).offset(),d=t.host.offset();if(s){var h=e.jqx.mobile.getLeftPos(o),c=e.jqx.mobile.getTopPos(o);l.left=h,l.top=c,h=e.jqx.mobile.getLeftPos(t.element),c=e.jqx.mobile.getTopPos(t.element),d.left=h,d.top=c}var u=parseInt(l.top)-parseInt(d.top),p=parseInt(l.left)-parseInt(d.left),f=t._hitTest(p,u);if(null!=f&&!f.isGroup){var m=function(e,i){if(t._shiftKey||(t._clickedIndex=e.visibleIndex),t.checkboxes)if(t.selectedIndex=e.visibleIndex,p=20+i.pageX-l.left,t.rtl){{"hidden"!=t.hScrollBar.css("visibility")?t.hScrollInstance.max:t.host.width()}p<=t.host.width()-20&&(t.allowDrag?setTimeout(function(){t._dragItem||a||t._updateItemCheck(e,e.visibleIndex)},200):t._updateItemCheck(e,e.visibleIndex))}else p+t.hScrollInstance.value>=20&&(t.allowDrag?setTimeout(function(){t._dragItem||a||t._updateItemCheck(e,e.visibleIndex)},200):t._updateItemCheck(e,e.visibleIndex));else t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)};f.disabled||(-1!=f.html.indexOf("href")?setTimeout(function(){m(f,i)},100):m(f,i))}if("mousedown"==n){var g=!1;return i.which?g=3==i.which:i.button&&(g=2==i.button),g?!0:!1}}return!0})}this.addHandler(this.content,"mouseup",function(e){t.vScrollInstance.handlemouseup(t,e),a=!1}),e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(){return!1})}var i=this.isTouchDevice();this.enableHover&&!i&&(this._mousemovefunc=function(r){if(i)return!0;if(!t.enableHover)return!0;1==e.jqx.browser.msie&&e.jqx.browser.version<9?0:1;if(null==r.target)return!0;if(t.disabled)return!0;t.focused=!0;var n=t.vScrollInstance.isScrolling();if(!n&&r.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=r.target){var a=r.target,o=e(a).offset(),l=t.host.offset();if(s){var d=e.jqx.mobile.getLeftPos(a),h=e.jqx.mobile.getTopPos(a);o.left=d,o.top=h,d=e.jqx.mobile.getLeftPos(t.element),h=e.jqx.mobile.getTopPos(t.element),l.left=d,l.top=h}var c=parseInt(o.top)-parseInt(l.top),u=parseInt(o.left)-parseInt(l.left),p=t._hitTest(u,c);if(null!=p&&!p.isGroup&&!p.disabled){var f=e.data(t.element,"hoveredItem");null!=f&&(e(f).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(f).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),e.data(t.element,"hoveredItem",p.element);var m=e(p.element);m.addClass(t.toThemeProperty("jqx-listitem-state-hover")),m.addClass(t.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){void 0==e&&(e=!0);var t=this,i=null,s=null,r=t.filterable?t.filterHeight:0,n=function(e){return e=t.host.height(),0==e&&(e=200,t.host.height(e)),e};null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:void 0==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?s=t.height:void 0==t.height||isNaN(t.height)||(s=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),s=n(s)),null!=i&&(i=parseInt(i),parseInt(t.element.style.width)!=parseInt(t.width)&&t.host.width(t.width)),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.height(t.virtualSize.height+parseInt(t.scrollBarSize)+3),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,s=t.height):(t.host.height(t.virtualSize.height),t.height=t.virtualSize.height,s=t.virtualSize.height)):null!=s&&(s=parseInt(s),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.height(t.height),n(s)));var a=t.scrollBarSize;isNaN(a)&&(a=parseInt(a),isNaN(a)?a="17px":a+="px"),a=parseInt(a);var o=4,l=2,d=0;if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?d=a+o:t.vScrollInstance.setPosition(0),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?l=a+o:t.hScrollInstance.setPosition(0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",l=0),null==s&&(s=0);var h=parseInt(s)-o-a;0>h&&(h=0),parseInt(t.hScrollBar[0].style.height)!=a&&(parseInt(a)<0&&(a=0),t.hScrollBar[0].style.height=parseInt(a)+"px"),t.hScrollBar[0].style.top!=h+"px"&&(t.hScrollBar[0].style.top=h+"px",t.hScrollBar[0].style.left="0px");var c=i-a-o;0>c&&(c=0);var u=c+"px";if(t.hScrollBar[0].style.width!=u&&(t.hScrollBar[0].style.width=u),0==d&&i>=2&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),a!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(a)+"px"),parseInt(s)-l!=parseInt(t.vScrollBar[0].style.height)){var p=parseInt(s)-l;0>p&&(p=0),t.vScrollBar[0].style.height=p+"px"}null==i&&(i=0);var f=parseInt(i)-parseInt(a)-o+"px";f!=t.vScrollBar[0].style.left&&(parseInt(f)>=0&&(t.vScrollBar[0].style.left=f),t.vScrollBar[0].style.top="0px");var m=t.vScrollInstance;m.disabled=t.disabled,e&&m._arrange();var g=t.hScrollInstance;if(g.disabled=t.disabled,e&&g._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(a)+3+"px",t.bottomRight[0].style.height=parseInt(a)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-d){var v=parseInt(i)-d;0>v&&(v=0),t.content[0].style.width=v+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"}))),parseInt(t.content[0].style.height)!=parseInt(s)-l){var b=parseInt(s)-l;0>b&&(b=0),t.content[0].style.height=b+"px",t.content[0].style.top="0px"}r>0&&(t.content[0].style.top=r+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-r+"px"),t.filterable?(t.filterInput[0].style.height=r-6+"px",t.filterInput[0].style.top="3px",t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px",t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.width(parseInt(i)-d),t.overlayContent.height(parseInt(s)-l))}},ensureVisible:function(t,i){if(isNaN(t)){var s=this.getItemByValue(t);s&&(t=s.index)}var r=this.isIndexInView(t);if(r){if(i)for(indx=0;indx<this.visibleItems.length;indx++){var s=this.visibleItems[indx];if(s.visibleIndex==t&&!s.isGroup){var n=this.vScrollInstance.value,a=s.initialTop;this.filterable&&(a=this.filterHeight+2+s.initialTop),n+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(a)}}}else{if(0>t)return;if(this.autoHeight){var o=e.data(this.vScrollBar[0],"jqxScrollBar").instance;o.setPosition(0)}else for(indx=0;indx<this.visibleItems.length;indx++){var s=this.visibleItems[indx];if(s.visibleIndex==t&&!s.isGroup){var o=e.data(this.vScrollBar[0],"jqxScrollBar").instance,n=o.value;this.filterable&&(n-=this.filterHeight+2);var l="hidden"===this.hScrollBar.css("visibility"),d=l?0:this.scrollBarSize+4;if(s.initialTop<n)o.setPosition(s.initialTop),0==indx&&o.setPosition(0);else if(s.initialTop+s.height>n+this.host.height()){var h=this.host.height();if(this.filterable?o.setPosition(this.filterHeight+2+s.initialTop+s.height+2-h+d):(o.setPosition(s.initialTop+s.height+2-h+d),indx===this.visibleItems.length-1&&o.setPosition(o.max)),i){var n=o.value,a=s.initialTop;this.filterable&&(a=this.filterHeight+2+s.initialTop),n+h<o.max&&o.setPosition(a)}}break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min?(e.setPosition(e.min),!0):!1},databind:function(t,i){this.records=new Array;var s=t._source?!0:!1,r=new e.jqx.dataAdapter(t,{autoBind:!1});s&&(r=t,t=t._source);var n=function(){void 0!=t.type&&(r._options.type=t.type),void 0!=t.formatdata&&(r._options.formatData=t.formatdata),void 0!=t.contenttype&&(r._options.contentType=t.contenttype),void 0!=t.async&&(r._options.async=t.async)},a=function(t,i){var s=function(i){var s=null;if("string"==typeof i)var r=i,n=i,a="";else if(void 0!=t.displayMember&&""!=t.displayMember)var n=i[t.valueMember],r=i[t.displayMember];var a="";if(t.groupMember?a=i[t.groupMember]:i&&void 0!=i.group&&(a=i.group),t.searchMember?s=i[t.searchMember]:i&&void 0!=i.searchLabel&&(s=i.searchLabel),t.valueMember||t.displayMember||"string"==e.type(i)&&(r=n=i.toString()),i&&void 0!=i.label)var r=i.label,n=i.value;var o=!1;i&&void 0!=i.checked&&(o=i.checked);var l="";i&&void 0!=i.html&&(l=i.html);var d=!0;i&&void 0!=i.visible&&(d=i.visible);var h=!1;i&&void 0!=i.disabled&&(h=i.disabled);var c=!1;i&&void 0!=i.hasThreeStates&&(c=i.hasThreeStates);var u={};return u.label=r,u.value=n,u.searchLabel=s,u.html=l,u.visible=d,u.originalItem=i,u.group=a,u.groupHtml="",u.disabled=h,u.checked=o,u.hasThreeStates=c,u};if(void 0!=i){var n=r._changedrecords[0];if(n)return void e.each(r._changedrecords,function(){var e=this.index,r=this.record;if("remove"!=i)var n=s(r);switch(i){case"update":t.updateAt(n,e);break;case"add":t.insertAt(n,e);break;case"remove":t.removeAt(e)}})}t.records=r.records;for(var a=t.records.length,o=new Array,l=0;a>l;l++){var d=t.records[l],h=s(d);h.index=l,o[l]=h}t.items=t.loadItems(o,!0),t._render(),t._raiseEvent("6")};n(this);var o=this;switch(t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),a(this),r.bindBindingUpdate(this.element.id,function(e){a(o,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),a(this),void r.bindBindingUpdate(this.element.id,function(){a(o)});var l={};r._options.data?e.extend(r._options.data,l):(t.data&&e.extend(l,t.data),r._options.data=l);var d=function(){a(o)};r.unbindDownloadComplete(o.element.id),r.bindDownloadComplete(o.element.id,d),(this.autoBind||!this.autoBind&&!i)&&r.dataBind()}},loadItems:function(t,i){if(null==t)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var s=this,r=0,n=0,a=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var o=new Array;this.itemsByValue=new Array,e.map(t,function(t){if(void 0==t)return null;var l=new e.jqx._jqxListBox.item,d=t.group,h=t.groupHtml,c=t.title,u=null;if(s.searchMember?u=record[s.searchMember]:t&&void 0!=t.searchLabel&&(u=t.searchLabel),(null==c||void 0==c)&&(c=""),(null==d||void 0==d)&&(d=""),s.groupMember&&(d=t[s.groupMember]),(null==h||void 0==h)&&(h=""),!s.groups[d]){s.groups[d]={items:new Array,index:-1,caption:d,captionHtml:h},r++;var p=r+"jqxGroup";s.groups[p]=s.groups[d],n++,s.groups.length=n}var f=s.groups[d];return f.index++,f.items[f.index]=l,"string"==typeof t?(l.label=t,l.value=t):null==t.label&&null==t.value&&null==t.html&&null==t.group&&null==t.groupHtml?(l.label=t.toString(),l.value=t.toString()):(l.label=t.label,l.value=t.value,void 0===l.label&&(l.label=t.value),void 0===l.value&&(l.value=t.label)),"string"!=typeof t&&(void 0===t.label&&""!=s.displayMember&&(l.label=void 0!=t[s.displayMember]?t[s.displayMember]:""),void 0===t.value&&""!=s.valueMember&&(l.value=t[s.valueMember])),l.hasThreeStates=void 0!=t.hasThreeStates?t.hasThreeStates:!0,l.originalItem=t,i&&(l.originalItem=t.originalItem),l.title=c,c&&void 0===l.value&&void 0===l.label&&(l.value=l.label=c),l.html=t.html||"",t.html&&""!=t.html,l.group=d,l.checked=t.checked||!1,l.groupHtml=t.groupHtml||"",l.disabled=t.disabled||!1,l.visible=void 0!=t.visible?t.visible:!0,l.searchLabel=u,l.index=a,o[a]=l,a++,l});var l=new Array,d=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var h=0;n>h;h++){var r=h+1,c=r+"jqxGroup",u=this.groups[c];if(void 0==u||null==u)break;if(0==h&&""==u.caption&&""==u.captionHtml&&1>=n){for(var p=0;p<u.items.length;p++){var f=u.items[p].value;(void 0==u.items[p].value||null==u.items[p].value)&&(f=p),this.itemsByValue[e.trim(f).split(" ").join("")]=u.items[p]}return u.items}var m=new e.jqx._jqxListBox.item;m.isGroup=!0,m.label=u.caption,""==u.caption&&""==u.captionHtml&&(u.caption=this.emptyGroupText,m.label=u.caption),m.html=u.captionHtml,l[d]=m,d++;for(var g=0;g<u.items.length;g++){l[d]=u.items[g];var f=u.items[g].value;(""==u.items[g].value||null==u.items[g].value)&&(f=d),s.itemsByValue[e.trim(f).split(" ").join("")]=u.items[g],d++}}else{var d=0,v=new Array;e.each(o,function(){if(!v[this.group]&&""!=this.group){var t=new e.jqx._jqxListBox.item;t.isGroup=!0,t.label=this.group,l[d]=t,d++,v[this.group]=!0}l[d]=this;var i=this.value;(""==this.value||null==this.value)&&(i=d-1),s.itemsByValue[e.trim(i).split(" ").join("")]=this,d++})}return l},_mapItem:function(t){var i=new e.jqx._jqxListBox.item;return this.displayMember&&(void 0==t.label&&(t.label=t[this.displayMember]),void 0==t.value&&(t.value=t[this.valueMember])),"string"==typeof t?(i.label=t,i.value=t):"number"==typeof t?(i.label=t.toString(),i.value=t.toString()):(i.label=void 0!==t.label?t.label:t.value,i.value=void 0!==t.value?t.value:t.label),void 0==i.label&&void 0==i.value&&void 0==i.html&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.checked=t.checked||!1,i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return i&&void 0!=i.index?this.updateAt(e,i.index):!1},updateAt:function(t,i){if(null!=t){var s=this._mapItem(t);this.itemsByValue[e.trim(s.value).split(" ").join("")]=this.items[i],this.items[i].value=s.value,this.items[i].label=s.label,this.items[i].html=s.html,this.items[i].disabled=s.disabled}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(t,i){if(null==t)return!1;if(this._cachedItemHtml=[],void 0==this.items||0==this.items.length){this.source=new Array,this.refresh();var s=this._mapItem(t);s.index=0,this.items[this.items.length]=s,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var r=s.value;return(""==s.value||null==s.value)&&(r=i),this.itemsByValue[e.trim(r).split(" ").join("")]=s,!1}var s=this._mapItem(t);if(-1==i||void 0==i||null==i||i>=this.items.length)s.index=this.items.length,this.items[this.items.length]=s;else{for(var n=new Array,a=0,o=!1,l=0,d=0;d<this.items.length;d++)0==this.items[d].isGroup&&l>=i&&!o&&(n[a++]=s,s.index=i,l++,o=!0),n[a]=this.items[d],this.items[d].isGroup||(n[a].index=l,l++),a++;this.items=n}var r=s.value;(""==s.value||null==s.value)&&(r=i),this.itemsByValue[e.trim(r).split(" ").join("")]=s,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var h=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=h.value;return h.setPosition(0),this._addItems(this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?!0:!1),this.groups.length>1,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),h.setPosition(c),this.rendered&&this.rendered(),!0},removeAt:function(t){if(0>t||t>this.items.length-1)return!1;if(void 0==t)return!1;var i=this.items[t].height,s=this.items[t].value;if((""==s||null==s)&&(s=t),this.itemsByValue[e.trim(s).split(" ").join("")]=null,this.groups.length>1){for(var r=new Array,n=0;n<this.items.length;n++)this.items[n].isGroup||r.push({item:this.items[n],key:n});if(!r[t])return!1;this.items.splice(r[t].key,1)}else this.items.splice(t,1);for(var a=new Array,o=0,l=0,n=0;n<this.items.length;n++)a[o]=this.items[n],this.items[n].isGroup||(a[o].index=l,l++),o++;this.items=a;var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,h=d.value;if(d.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=i;var c=2*this.virtualSize.itemsPerPage;this.autoHeight&&(c=this.items.length),this.virtualItemsCount=Math.min(c,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),d.setPosition("hidden"!=this.vScrollBar.css("visibility")?h:0),this.itemsByValue=new Array;for(var u=0;u<this.items.length;u++){var s=this.items[u].value;(""==this.items[u].value||null==this.items[u].value)&&(s=u),this.itemsByValue[e.trim(s).split(" ").join("")]=this.items[u]}return this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),s=-1;if(i&&void 0!=i.index&&t!==!0){for(var r=0;r<this.items.length;r++)if(this.items[r].label==i.label&&this.items[r].value==i.value){s=r;break}if(-1!=s)return this.removeAt(s)}return-1==s?this.removeAt(i.index):void 0},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return this.items?0>e||e>this.items.length-1?!1:(this.items[e].disabled=!0,this._renderItems(),!0):!1},enableAt:function(e){return this.items?0>e||e>this.items.length-1?!1:(this.items[e].disabled=!1,this._renderItems(),!0):!1},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),e.jqx.utilities.resize(this.host,null,!0);var t=e.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),t&&delete t.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(t,i){if(1==this._stopEvents)return!0;void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this,this._updateInputSelection();var r=new e.Event(s);if(r.owner=this,r.args=args,null!=this.host)var n=this.host.trigger(r);return n}})}(jqxBaseFramework),function(e){e.jqx.parseSourceTag=function(t){var i=new Array,s=e(t).find("option"),r=e(t).find("optgroup"),n=!1;0===s.length&&(s=e(t).find("li"),s.length>0&&(n=!0));var a=null,a=-1,o=new Array;if(e.each(s,function(t){var s=r.find(this).length>0,l=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),n===!0&&(this.label=e(this).text(),this.selected=e(this).attr("data-selected"),this.checked=this.selected,this.value=e(this).attr("data-value")||t,this.disabled=e(this).attr("disabled"));var d={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this},h=e.jqx.browser.msie&&e.jqx.browser.version<8;h&&!n&&""==d.value&&null!=this.text&&this.text.length>0&&(d.value=this.text),s&&(l=r.find(this).parent()[0].label,d.group=l,o[l]||(o[l]=new Array,o.length++),o[l].push(d)),this.selected&&(a=t),d.checked=this.selected,void 0!==d.label&&i.push(d)}),o.length>0){var l=new Array;for(var d in o)if("indexOf"!==d){for(var h=null,c=0;c<r.length;c++)if(d===r[c].label||r[c].text){h=r[c];break}e.each(o[d],function(){void 0!==this.label&&l.push(this)})}}return l&&l.length>0?{items:l,index:a}:{items:i,index:a}},e.jqx._jqxListBox.item=function(){var e={group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1};return e}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownList","",{}),e.extend(e.jqx._jqxDropDownList.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};
return e.extend(!0,this,t),t},createInstance:function(){this.render()},render:function(){var t=this;t.width||(t.width=200),t.height||(t.height=25);var i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var s={title:t.field.title};s.id=t.field.id.length?t.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":e.jqx.utilities.createId()+"_jqxDropDownList";var r=e("<div></div>",s);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),e(t.field).hide().after(r);var n=t.host.data();if(t.host=r,t.host.data(n),t.element=r[0],t.element.id=t.field.id,t.field.id=s.id,t.field.tabIndex){var a=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=a}var o=e.jqx.parseSourceTag(t.field);t.source=o.items,-1==t.selectedIndex&&(t.selectedIndex=o.index)}t.element.innerHTML="",t.isanimating=!1,t.id=t.element.id||e.jqx.utilities.createId(),t.host.attr("role","combobox"),e.jqx.aria(t,"aria-autocomplete","both"),e.jqx.aria(t,"aria-readonly",!1);var l=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");if(t._addInput(),null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");t.host.attr("tabindex")?(l.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")):l.attr("tabindex",0);t.touch=e.jqx.mobile.isTouchDevice(),t.comboStructure=l,t.host.append(l),t.dropdownlistWrapper=t.host.find("#dropdownlistWrapper"),t.dropdownlistArrow=t.host.find("#dropdownlistArrow"),t.arrow=e(t.dropdownlistArrow.children()[0]),t.dropdownlistContent=t.host.find("#dropdownlistContent"),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content")),t.dropdownlistWrapper.addClass(t.toThemeProperty("jqx-disableselect")),t.rtl&&(t.dropdownlistContent.addClass(t.toThemeProperty("jqx-rtl")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-rtl"))),t.addHandler(t.dropdownlistWrapper,"selectstart",function(){return!1}),t.dropdownlistWrapper[0].id="dropdownlistWrapper"+t.element.id,t.dropdownlistArrow[0].id="dropdownlistArrow"+t.element.id,t.dropdownlistContent[0].id="dropdownlistContent"+t.element.id,"Please Choose:"!=t.promptText&&(t.placeHolder=t.promptText);var d=t.toThemeProperty("jqx-widget")+" "+t.toThemeProperty("jqx-dropdownlist-state-normal")+" "+t.toThemeProperty("jqx-rc-all")+" "+t.toThemeProperty("jqx-fill-state-normal");t.element.className+=" "+d,t._firstDiv=t.host.find("div:first");try{var h="listBox"+t.id,c=e(e.find("#"+h));c.length>0&&c.remove(),e.jqx.aria(t,"aria-owns",h),e.jqx.aria(t,"aria-haspopup",!0);var u=e("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+t.id+"'><div id='innerListBox"+t.id+"'></div></div>");u.hide(),u.appendTo(document.body),t.container=u,t.listBoxContainer=e(e.find("#innerListBox"+t.id));var p=t.width;"auto"!=t.dropDownWidth&&(p=t.dropDownWidth),null==p&&(p=t.host.width(),0==p&&(p=t.dropDownWidth)),null==t.dropDownHeight&&(t.dropDownHeight=200);t.container.width(parseInt(p)+25),t.container.height(parseInt(t.dropDownHeight)+25),t.addHandler(t.listBoxContainer,"bindingComplete",function(){t._raiseEvent("6")}),t.listBoxContainer.jqxListBox({filterHeight:t.filterHeight,filterPlaceHolder:t.filterPlaceHolder,filterDelay:t.filterDelay,filterable:t.filterable,allowDrop:!1,allowDrag:!1,autoBind:t.autoBind,_checkForHiddenParent:!1,focusable:t.focusable,touchMode:t.touchMode,checkboxes:t.checkboxes,rtl:t.rtl,emptyString:t.emptyString,itemHeight:t.itemHeight,width:p,searchMode:t.searchMode,incrementalSearch:t.incrementalSearch,incrementalSearchDelay:t.incrementalSearchDelay,groupMember:t.groupMember,searchMember:t.searchMember,displayMember:t.displayMember,valueMember:t.valueMember,height:t.dropDownHeight,autoHeight:t.autoDropDownHeight,scrollBarSize:t.scrollBarSize,selectedIndex:t.selectedIndex,source:t.source,theme:t.theme,rendered:function(){t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse")},renderer:t.renderer}),t.listBoxContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBox.enableSelection=t.enableSelection,t.listBox.enableHover=t.enableHover,t.listBox.equalItemsWidth=t.equalItemsWidth,t.listBox.selectIndex(t.selectedIndex),t.listBox._arrange(),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.addHandler(t.listBoxContainer,"unselect",function(e){t._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),t.addHandler(t.listBoxContainer,"change",function(e){e.args&&("keyboard"!=e.args.type?t._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(t.isOpened()||t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})))}),"none"==t.animationType?t.container.css("display","none"):t.container.hide()}catch(f){}var t=t;if(t.propertyChangeMap.disabled=function(i,s,r,n){n?(i.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))):(i.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.removeClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(i,"aria-disabled",i.disabled)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.arrow.addClass(t.toThemeProperty("jqx-icon")),"simple"===t.renderMode&&(t.arrow.remove(),t.host.removeClass(t.toThemeProperty("jqx-fill-state-normal")),t.host.removeClass(t.toThemeProperty("jqx-rc-all"))),t._updateHandlers(),t._setSize(),t._arrange(),t.listBox&&t.renderSelection(),e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var m=t.host.parents(".jqx-window").css("z-index");u.css("z-index",m+10),t.listBoxContainer.css("z-index",m+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(e){if(!this.dropdownlistContent)return"";var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"==typeof e?!1:!0};if(this.input&&(t(e)||0==arguments.length))return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host.focus(),e._firstDiv&&e._firstDiv.focus()};t(),setTimeout(function(){t()},10)}catch(i){}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.host.height(this.height));var i=this,s=function(){if(i._arrange(),"auto"==i.dropDownWidth){var e=i.host.width();i.listBoxContainer.jqxListBox({width:e}),i.container.width(parseInt(e)+25)}};if(t){var r=this.host.width();"auto"!=this.dropDownWidth&&(r=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:r}),this.container.width(parseInt(r)+25)}e.jqx.utilities.resize(this.host,function(){s()},!1,this._checkForHiddenParent)},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXListBox"+this.id);return null!=i&&i==t.listBoxContainer?!0:!1},_updateHandlers:function(){var t=this,i=!1;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(i=!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),i=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(){var e=t.isOpened();e&&t.close()});var s="mousedown";this.touch&&(s=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,s,function(e){if(!t.disabled){var i="block"==t.container.css("display");if(!t.isanimating){if(i)return t.hideListBox(),!1;t.showListBox(),t.focusable?t.focus():e.preventDefault&&e.preventDefault()}}}),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var e=t.isOpened();!e&&t.autoOpen&&(t.open(),t.host.focus())}),e(document).on("mousemove."+t.id,function(e){var i=t.isOpened();if(i&&t.autoOpen){var s=t.host.coord(),r=s.top,n=s.left,a=t.container.coord(),o=a.left,l=a.top;canClose=!0,e.pageY>=r&&e.pageY<=r+t.host.height()&&e.pageX>=n&&e.pageX<n+t.host.width()&&(canClose=!1),e.pageY>=l&&e.pageY<=l+t.container.height()&&e.pageX>=o&&e.pageX<o+t.container.width()&&(canClose=!1),canClose&&t.close()}})),this.touch?this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if("none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&!t.isanimating)return i&&(t.renderSelection(),"13"==e.keyCode&&t.focusable&&t._firstDiv.focus(),t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"13"==e.keyCode&&t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),i&&"9"!=e.keyCode?!1:!0;if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1;if(e.altKey&&"block"==t.host.css("display"))if(38==e.keyCode){if(t.isOpened())return t.hideListBox(),!0}else if(40==e.keyCode&&!t.isOpened())return t.showListBox(),!0;return"27"!=e.keyCode||t.ishiding?t.disabled?void 0:(t._kbnavigated=t.listBox._handleKeyDown(e),t._kbnavigated):(t.isOpened()&&(t.hideListBox(),void 0!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection(),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled){if(!e.args)return;"keyboard"!=e.args.type||t.isOpened()||t.renderSelection(),("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"==e.args.type&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;t.renderSelection("mouse"),t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus()),t.keyboardSelection||(t._kbnavigated===!1&&(t.tempSelectedIndex!=t.selectedIndex&&t._raiseEvent("4",{index:t.selectedIndex,type:"mouse",item:t.getItem(t.selectedIndex)}),t._kbnavigated=!0),void 0==t._oldSelectedInd&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}}),this.addHandler(this.host,"focus",function(){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var t=this,i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,i),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+t.id)},getItem:function(e){var t=this.listBox.getItem(e);return t},getItemByValue:function(e){var t=this.listBox.getItemByValue(e);return t},selectItem:function(e){void 0!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){void 0!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){void 0!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){void 0!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){void 0!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var t=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var i in this.listBox.selectedValues){var s=this.listBox.selectedValues[i],r=this.listBox.getItemByValue(s);r&&(t=r)}if(this.checkboxes){var n=this.getCheckedItems();t=null!=n&&n.length>0?n[0]:null}if(null==t){var a=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');a.appendTo(e(document.body)),a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-listitem-state-normal")),a.addClass(this.toThemeProperty("jqx-item")),e.jqx.utilities.html(a,this.placeHolder);var o=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");a.css("padding-top",o),a.css("padding-bottom",l);var d=a.outerHeight();a.remove(),a.removeClass(),e.jqx.utilities.html(this.dropdownlistContent,a);var h=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height));var c=parseInt((parseInt(h)-parseInt(d))/2);return c>0&&(this.dropdownlistContent.css("margin-top",c+"px"),this.dropdownlistContent.css("margin-bottom",c+"px")),this.selectionRenderer?(e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(a,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex;var a=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');a.appendTo(e(document.body)),a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-listitem-state-normal")),a.addClass(this.toThemeProperty("jqx-item"));var u=!1;try{void 0!=t.html&&null!=t.html&&t.html.toString().length>0?e.jqx.utilities.html(a,t.html):void 0!=t.label&&null!=t.label&&t.label.toString().length>0?e.jqx.utilities.html(a,t.label):null===t.label||""===t.label?(u=!0,e.jqx.utilities.html(a,"")):void 0!=t.value&&null!=t.value&&t.value.toString().length>0?e.jqx.utilities.html(a,t.value):void 0!=t.title&&null!=t.title&&t.title.toString().length>0?e.jqx.utilities.html(a,t.title):(""==t.label||null==t.label)&&(u=!0,e.jqx.utilities.html(a,""))}catch(p){}var o=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");a.css("padding-top",o),a.css("padding-bottom",l);var d=a.outerHeight();0===d&&(d=16),""!=t.label&&null!=t.label||!u||e.jqx.utilities.html(a,"");var f=this.width&&this.width.toString().indexOf("%")<=0;if(a.remove(),a.removeClass(),this.selectionRenderer)e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(a,t.index,t.label,t.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var m=this.getCheckedItems(),g="",v=0;v<m.length;v++)g+=v==m.length-1?m[v].label:m[v].label+",";a.text(g),f&&a.css("max-width",this.host.width()-30),a.css("overflow","hidden"),a.css("display","block"),this.rtl||f&&a.css("width",this.host.width()-30),a.css("text-overflow","ellipsis"),a.css("padding-bottom",1+parseInt(l)),this.dropdownlistContent.html(a),this.focusable&&this.isOpened()&&this.focus()}else this.width&&"auto"!==this.width&&(f&&(this.rtl||a.css("max-width",this.host.width()-this.arrowSize-3)),a.css("overflow","hidden"),a.css("display","block"),a.css("padding-bottom",1+parseInt(l)),this.rtl||f&&a.css("width",this.host.width()-this.arrowSize-3),a.css("text-overflow","ellipsis")),this.dropdownlistContent.html(a),this.focusable&&this.isOpened()&&this.focus();var h=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height));var c=parseInt((parseInt(h)-parseInt(d))/2);c>0&&(this.dropdownlistContent.css("margin-top",c+"px"),this.dropdownlistContent.css("margin-bottom",c+"px")),this.selectionRenderer&&(this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px")),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var t=new Array;if(-1==this.selectedIndex)this.input.val("");else{var i=this.getSelectedItem();null!=i?(this.input.val(i.value),t.push(i.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var s=this.getCheckedItems(),r="";if(null!=s)for(var n=0;n<s.length;n++){var a=s[n].value;void 0!=a&&(r+=n==s.length-1?a:a+",",t.push(a))}this.input.val(r)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(t){e.jqx.utilities.html(this.dropdownlistContent,t),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||e.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,s){this.listBox.selectIndex(e,t,i,s,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null==e?!1:this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,s){var r=t.outerWidth(),n=t.outerHeight(),a=e(window).width()+e(window).scrollLeft(),o=e(window).height()+e(window).scrollTop();if(i.left+r>a&&r>this.host.width()){var l=this.host.coord().left,d=r-this.host.width();i.left=l-d+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>o&&o>n?Math.abs(n+s+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){if(e.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var t=this.host.width();this.listBoxContainer.jqxListBox({width:t}),this.container.width(parseInt(t)+25)}var i,s=this,r=this.listBoxContainer,n=this.listBox,a=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),o=parseInt(Math.round(this.host.coord(!0).left));i=o+"px";var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),null!=l&&l&&(i=e.jqx.mobile.getLeftPos(this.element),a=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(a=parseInt(a)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(i=parseInt(i)-this._getBodyOffset().left+"px")),r.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",a),n._arrange();var d=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var h=this.container.outerWidth(),c=Math.abs(h-this.host.width());h>this.host.width()?this.container.css("left",25+parseInt(Math.round(o))-c+"px"):this.container.css("left",25+parseInt(Math.round(o))+c+"px")}if(this.enableBrowserBoundsDetection){var u=this.testOffset(r,{left:parseInt(this.container.css("left")),top:parseInt(a)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=u.top?(d=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up"))):r.css("top",0),this.container.css("top",u.top),parseInt(this.container.css("left"))!=u.left&&this.container.css("left",u.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+this.id,r),r.css("margin-top",0),r.css("opacity",1),n._renderItems(),s._raiseEvent("0",n);else if(this.container.css("display","block"),s.isanimating=!0,"fade"==this.animationType)r.css("margin-top",0),r.css("opacity",0),r.animate({opacity:1},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+s.id,r),s.ishiding=!1,s.isanimating=!1,n._renderItems(),s._raiseEvent("0",n)});else{r.css("opacity",1);var p=r.outerHeight();d?r.css("margin-top",p):r.css("margin-top",-p),r.animate({"margin-top":0},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+s.id,r),s.ishiding=!1,s.isanimating=!1,n._renderItems(),s._raiseEvent("0",n)})}d?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),r.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),r.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(r.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this.listBoxContainer,i=this.listBox,s=this.container,r=this;if(e.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!r.ishiding){t.stop();var n=t.outerHeight();t.css("margin-top",0),r.isanimating=!0;var a=-n;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(a=n),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1,r.ishiding=!1})):t.animate({"margin-top":a},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1,r.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(t){var i=t.data.me,s=e(t.target),r=t.data.listbox;if(null==r)return!0;if(e(t.target).ischildof(t.data.me.host))return!0;if(!i.isOpened())return!0;var n=!1;return e.each(s.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(n=!0),!1}}),null!=r&&!n&&i.isOpened()&&i.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){e!==!0&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=parseInt(this.host.width()),t=parseInt(this.host.height()),i=(this.arrowSize,this.arrowSize),s=3,r=e-i-2*s;if(r>0&&"auto"!==this.width?this.dropdownlistContent.width(r+"px"):0>=r&&this.dropdownlistContent.width(0),"auto"===this.width&&(this.dropdownlistContent.css("width","auto"),e=this.dropdownlistContent.width()+i+2*s,this.host.width(e)),this.dropdownlistContent.height(t),this.dropdownlistContent.css("left",0),this.dropdownlistContent.css("top",0),this.dropdownlistArrow.width(i),this.width&&this.width.toString().indexOf("%")>=0){var n=100*i/e,a=100*r/e;this.dropdownlistArrow.css("width",n+"%"),this.dropdownlistContent.css("width",a+"%")}this.dropdownlistArrow.height(t),this.rtl&&(this.dropdownlistArrow.css("float","left"),this.dropdownlistContent.css("float","right"))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var t=e.data(this.element,"jqxDropDownList");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var r=new e.Event(s);r.owner=this,(2==t||3==t||4==t||5==t)&&(r.args=i);var n=this.host.trigger(r);return n},propertyChangedHandler:function(t,i,s,r){if(void 0!=t.isInitialized&&0!=t.isInitialized){if("filterable"==i&&t.listBoxContainer.jqxListBox({filterable:r}),"filterHeight"==i&&t.listBoxContainer.jqxListBox({filterHeight:r}),"filterPlaceHolder"==i&&t.listBoxContainer.jqxListBox({filterPlaceHolder:r}),"filterDelay"==i&&t.listBoxContainer.jqxListBox({filterDelay:r}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:r}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:r}),"autoOpen"==i&&t._updateHandlers(),"emptyString"==i&&(t.listBox.emptyString=t.emptyString),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:r}),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:r}),"rtl"==i&&(r?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"source"==i&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),null==r&&t.clear()),("displayMember"==i||"valueMember"==i)&&(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),"placeHolder"==i&&t.renderSelection(),"theme"==i&&null!=r&&(t.listBoxContainer.jqxListBox({theme:r}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.utilities.setTheme(s,r,t.host)),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"searchMode"==i&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),"incrementalSearch"==i&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),"incrementalSearchDelay"==i&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var n=t.width;
"auto"!=t.dropDownWidth&&(n=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:n,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(n)+25)}if(("width"==i||"height"==i)&&r!=s&&(this.refresh(),"width"==i&&"auto"==t.dropDownWidth)){var n=t.host.width();t.listBoxContainer.jqxListBox({width:n}),t.container.width(parseInt(n)+25)}"checkboxes"==i&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),"selectedIndex"==i&&null!=t.listBox&&(t.listBox.selectIndex(parseInt(r)),t.renderSelection())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxCheckBox","",{}),e.extend(e.jqx._jqxCheckBox.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return e.extend(!0,this,t),t},createInstance:function(){this.render()},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.checked),this.host.attr("role","checkbox"),e.jqx.aria(this)}},render:function(){this.init=!0;var t=this;this.setSize(),this.propertyChangeMap.width=function(){t.setSize()},this.propertyChangeMap.height=function(){t.setSize()},this._removeHandlers(),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=13);var i=parseInt(this.boxSize)+"px",s="13px",r=Math.floor((parseInt(this.boxSize)-13)/2),n=r;r+="px",n+="px",this.checkbox=e("13px"!=this.boxSize?'<div><div style="width: '+i+"; height: "+i+';"><span style="position: relative; left: '+r+"; top: "+n+"; width: "+s+"; height: "+s+';"></span></div></div>':'<div><div style="width: '+i+"; height: "+i+';"><span style="width: '+i+"; height: "+i+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=e('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=e(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");var a=this.element.getAttribute("checked");("checked"==a||"true"==a||1==a)&&(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height)},_addHandlers:function(){var t=this,i=e.jqx.mobile.isTouchDevice(),s="mousedown";i&&(s=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,s,function(e){return t.disabled||t.enableContainerClick||t.locked?void 0:(t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1)}),this.disabledContainer||(this.addHandler(this.host,"keydown",function(e){return t.disabled||t.locked||!t.keyboardCheck||32!=e.keyCode?void 0:t._canFocus?(t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1):!0}),this.addHandler(this.host,s,function(e){return t.disabled||!t.enableContainerClick||t.locked?void 0:(t.toggle(),e.preventDefault&&e.preventDefault(),t._canFocus&&t.focus(),!1)}),this.addHandler(this.host,"selectstart",function(e){return!t.disabled&&t.enableContainerClick?(e.preventDefault&&e.preventDefault(),!1):void 0}),this.addHandler(this.host,"mouseup",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault&&e.preventDefault()}),this.addHandler(this.host,"focus",function(e){return t.disabled||t.locked?void 0:t._canFocus?(t.enableHover&&t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1):!0}),this.addHandler(this.host,"blur",function(e){return t.disabled||t.locked?void 0:t._canFocus?(t.enableHover&&t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1):!0}),this.addHandler(this.host,"mouseenter",function(e){return t.locked&&t.host.css("cursor","arrow"),t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked?(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1):void 0}),this.addHandler(this.host,"mouseleave",function(e){return t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked?(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1):void 0}),this.addHandler(this.box,"mouseenter",function(){t.locked||t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){var t=e.jqx.mobile.isTouchDevice(),i="mousedown";t&&(i="touchend"),this.box&&(this.removeHandler(this.box,i),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,i),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},_setState:function(e){this.checked!=e&&(this.checked=e,this.checkMark[0].className=this.checked?this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.toThemeProperty("jqx-checkbox-check-indeterminate"):"")},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},check:function(){this.checked=!0;var t=this;if(this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=this.groupName&&this.groupName.length>0){var i=e.find(this.toThemeProperty(".jqx-checkbox",!0));e.each(i,function(){var i=e(this).jqxCheckBox("groupName");i==t.groupName&&this!=t.element&&e(this).jqxCheckBox("uncheck")})}this._raiseEvent("0",!0),this._raiseEvent("3",{checked:!0}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},uncheck:function(){this.checked=!1;var t=this;e.jqx.browser.msie||0==this.animationHideDelay?""!=t.checkMark[0].className&&(t.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){""!=t.checkMark[0].className&&(t.checkMark[0].className="")})),this._raiseEvent("1"),this._raiseEvent("3",{checked:!1}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined"))},toggle:function(){if(!this.disabled&&!this.locked){if(null!=this.groupName&&this.groupName.length>0)return void(1!=this.checked&&(this.checked=!0,this.updateStates()));this.oldChecked=this.checked,this.checked=1==this.checked?this.hasThreeStates?null:!1:null!=this.checked,this.updateStates(),void 0!=this.input&&this.input.val(this.checked)}},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(t,i){if(!this.init){var s=this.events[t],r=new e.Event(s);r.owner=this,r.args=i;try{var n=this.host.trigger(r)}catch(a){}return n}},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized){if(i!=t.enableContainerClick||t.disabled||t.locked||(r?t.host.css("cursor","pointer"):t.host.css("cursor","auto")),"rtl"==i&&(r?(t.box.addClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"boxSize"==i&&t.render(),"theme"==i&&e.jqx.utilities.setTheme(s,r,t.host),"checked"==i&&r!=s)switch(r){case!0:t.check();break;case!1:t.uncheck();break;case null:t.indeterminate()}"disabled"==i&&r!=s&&(r?t.disable():t.enable())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDragDrop","",{}),e.extend(e.jqx._jqxDragDrop.prototype,{defineInstance:function(){var t={restricter:"document",handle:!1,feedback:"clone",opacity:.6,revert:!1,revertDuration:400,distance:5,disabled:!1,tolerance:"intersect",data:null,dropAction:"default",dragZIndex:999999,appendTo:"parent",cursor:"move",onDragEnd:null,onDrag:null,onDragStart:null,onTargetDrop:null,onDropTargetEnter:null,onDropTargetLeave:null,initFeedback:null,dropTarget:null,isDestroyed:!1,triggerEvents:!0,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_restricter:null,_zIndexBackup:0,_targetEnterFired:!1,_oldOpacity:1,_feedbackType:void 0,_isTouchDevice:!1,_events:["dragStart","dragEnd","dragging","dropTargetEnter","dropTargetLeave"]};return e.extend(!0,this,t),t},createInstance:function(){this._createDragDrop()},_createDragDrop:function(){var t=e.data(document.body,"jqx-draggables")||1;if(this.appendTo=this._getParent(),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),/(static|relative)/.test(this.host.css("position"))&&(!this.feedback||"original"===this.feedback)){var i=this._getRelativeOffset(this.host),s=this.appendTo.offset();"static"!=this.appendTo.css("position")&&(s={left:0,top:0}),this.element.style.position="absolute",this.element.style.left=s.left+i.left+"px",this.element.style.top=s.top+i.top+"px"}this._validateProperties(),this._idHandler(t),this.disabled&&this.disable(),"string"==typeof this.dropTarget&&(this.dropTarget=e(this.dropTarget)),this._refresh(),t+=1,e.data(document.body,"jqx-draggables",t),this.host.addClass("jqx-draggable"),this.disabled||this.host.css("cursor",this.cursor)},_getParent:function(){var t=this.appendTo;if("string"==typeof this.appendTo)switch(this.appendTo){case"parent":t=this.host.parent();break;case"document":t=e(document);break;case"body":t=e(document.body);break;default:t=e(this.appendTo)}return t},_idHandler:function(e){if(!this.element.id){var t="jqx-draggable-"+e;this.element.id=t}},_refresh:function(){this._removeEventHandlers(),this._addEventHandlers()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_validateProperties:function(){this._feedbackType="clone"===this.feedback?"clone":"original","default"!==this.dropAction&&(this.dropAction="nothing")},_removeEventHandlers:function(){this.removeHandler(this.host,"dragstart"),this.removeHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown),this.removeHandler(e(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove),this.removeHandler(e(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp)},_addEventHandlers:function(){var t=this;this.addHandler(this.host,"dragstart",function(i){if(t.disabled)return!0;var s=e.jqx.mobile.isTouchDevice();return s?void 0:(i.preventDefault(),!1)}),this.addHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown,{self:this}),this.addHandler(e(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove,{self:this}),this.addHandler(e(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp,{self:this});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var i="";if(window.parent&&document.referrer&&(i=document.referrer),-1!=i.indexOf(document.location.host)){var s=function(){t._mouseUp(t)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}}catch(r){}},_mouseDown:function(e){var t=e.data.self,i=t._getMouseCoordinates(e),s=t._mouseCapture(e);if(t._originalPageX=i.left,t._originalPageY=i.top,t.disabled)return!0;var r=!1;return t._mouseStarted||(t._mouseUp(e),r=!0),s&&(t._mouseDownEvent=e),t._isTouchDevice?!0:1===e.which&&s?void e.preventDefault():!0},_mouseMove:function(e){var t=e.data.self;return t.disabled?!0:t._mouseStarted?(t._mouseDrag(e),e.preventDefault&&e.preventDefault(),!1):(t._mouseDownEvent&&t._isMovedDistance(e)&&(t._mouseStarted=t._mouseStart(t._mouseDownEvent,e)?!0:!1,t._mouseStarted?t._mouseDrag(e):t._mouseUp(e)),!t._mouseStarted)},_mouseUp:function(e){var t;return t=e.data&&e.data.self?e.data.self:this,t.disabled?!0:(t._mouseDownEvent=!1,t._movedDistance=!1,t._mouseStarted&&(t._mouseStarted=!1,t._mouseStop(e)),t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&!t.revert&&t.feedback.remove(),t._isTouchDevice?void 0:!1)},cancelDrag:function(){var e=this.revertDuration;this.revertDuration=0,this._mouseDownEvent=!1,this._movedDistance=!1,this._mouseStarted=!1,this._mouseStop(),this.feedback.remove(),this.revertDuration=e},_isMovedDistance:function(e){var t=this._getMouseCoordinates(e);return this._movedDistance?!0:t.left>=this._originalPageX+this.distance||t.left<=this._originalPageX-this.distance||t.top>=this._originalPageY+this.distance||t.top<=this._originalPageY-this.distance?(this._movedDistance=!0,!0):!1},_getMouseCoordinates:function(t){if(this._isTouchDevice){var i=e.jqx.position(t);return{left:i.left,top:i.top}}return{left:t.pageX,top:t.pageY}},destroy:function(){return this._enableSelection(this.host),this.host.removeData("draggable").off(".draggable").removeClass("jqx-draggable jqx-draggable-dragging jqx-draggable-disabled"),this._removeEventHandlers(),this.isDestroyed=!0,this},_disableSelection:function(t){t.each(function(){e(this).attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})},_enableSelection:function(t){t.each(function(){e(this).attr("unselectable","off").css({"-ms-user-select":"text","-moz-user-select":"text","-webkit-user-select":"text","user-select":"text"}).each(function(){this.onselectstart=null})})},_mouseCapture:function(e){return this.disabled?!1:this._getHandle(e)?(this._disableSelection(this.host),!0):!1},_getScrollParent:function(t){var i;return i=e.jqx.browser.msie&&/(static|relative)/.test(t.css("position"))||/absolute/.test(t.css("position"))?t.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position",1))&&/(auto|scroll)/.test(e.css(this,"overflow",1)+e.css(this,"overflow-y",1)+e.css(this,"overflow-x",1))}).eq(0):t.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow",1)+e.css(this,"overflow-y",1)+e.css(this,"overflow-x",1))}).eq(0),/fixed/.test(t.css("position"))||!i.length?e(document):i},_mouseStart:function(t){{var i=this._getMouseCoordinates(t);this._getParentOffset(this.host)}this.feedback=this._createFeedback(t),this._zIndexBackup=this.feedback.css("z-index"),this.feedback[0].style.zIndex=this.dragZIndex,this._backupFeedbackProportions(),this._backupeMargins(),this._positionType=this.feedback.css("position"),this._scrollParent=this._getScrollParent(this.feedback),this._offset=this.positionAbs=this.host.offset(),this._offset={top:this._offset.top-this.margins.top,left:this._offset.left-this.margins.left},e.extend(this._offset,{click:{left:i.left-this._offset.left,top:i.top-this._offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset(),hostRelative:this._getRelativeOffset(this.host)}),this.position=this._generatePosition(t),this.originalPosition=this._fixPosition(),this.restricter&&this._setRestricter(),this.feedback.addClass(this.toThemeProperty("jqx-draggable-dragging"));this._raiseEvent(0,t);return this.onDragStart&&"function"==typeof this.onDragStart&&this.onDragStart(this.position),this._mouseDrag(t,!0),!0},_fixPosition:function(){var e=this._getRelativeOffset(this.host),t=this.position;return t={left:this.position.left+e.left,top:this.position.top+e.top}},_mouseDrag:function(e){return this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.feedback[0].style.left=this.position.left+"px",this.feedback[0].style.top=this.position.top+"px",this._raiseEvent(2,e),this.onDrag&&"function"==typeof this.onDrag&&this.onDrag(this.data,this.position),this._handleTarget(),!1},_over:function(t,i,s){if(this.dropTarget){var r=!1,n=this;e.each(this.dropTarget,function(e,a){return r=n._overItem(a,t,i,s),r.over?!1:void 0})}return r},_overItem:function(t,i,s,r){t=e(t);var n,a=t.offset(),o=t.outerHeight(),l=t.outerWidth();if(t&&t[0]!==this.element){var n=!1;switch(this.tolerance){case"intersect":i.left+s>a.left&&i.left<a.left+l&&i.top+r>a.top&&i.top<a.top+o&&(n=!0);break;case"fit":s+i.left<=a.left+l&&i.left>=a.left&&r+i.top<=a.top+o&&i.top>=a.top&&(n=!0)}return{over:n,target:t}}},_handleTarget:function(){if(this.dropTarget){var e=this.feedback.offset(),t=this.feedback.outerWidth(),i=this.feedback.outerHeight(),s=this._over(e,t,i);s.over?(this._targetEnterFired&&s.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&s.target[0]!=this._oldtarget[0]&&(this._raiseEvent(4,{target:this._oldtarget}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget)),(!this._targetEnterFired||s.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&s.target[0]!=this._oldtarget[0])&&(this._targetEnterFired=!0,this._raiseEvent(3,{target:s.target}),this.onDropTargetEnter&&"function"==typeof this.onDropTargetEnter&&this.onDropTargetEnter(s.target)),this._oldtarget=s.target):this._targetEnterFired&&(this._targetEnterFired=!1,this._raiseEvent(4,{target:this._oldtarget||s.target}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget||s.target))}},_mouseStop:function(e){var t=!1,i=this._fixPosition(),s={width:this.host.outerWidth(),height:this.host.outerHeight()};return this.feedback[0].style.opacity=this._oldOpacity,this.revert||(this.feedback[0].style.zIndex=this._zIndexBackup),this._enableSelection(this.host),this.dropped&&(t=this.dropped,this.dropped=!1),this.element&&this.element.parentNode||"original"!==this.feedback?(this._dropElement(i),this.feedback.removeClass(this.toThemeProperty("jqx-draggable-dragging")),this._raiseEvent(1,e),this.onDragEnd&&"function"==typeof this.onDragEnd&&this.onDragEnd(this.data),this.onTargetDrop&&"function"==typeof this.onTargetDrop&&this._over(i,s.width,s.height).over&&this.onTargetDrop(this._over(i,s.width,s.height).target),this._revertHandler(),!1):!1},_dropElement:function(e){if("default"===this.dropAction&&this.feedback&&this.feedback[0]!==this.element&&"original"!==this.feedback&&!this.revert&&!/(fixed|absolute)/.test(this.host.css("position"))){this.host.css("position","relative");var t=this._getRelativeOffset(this.host);e=this.position,e.left-=t.left,e.top-=t.top,this.element.style.left=e.left+"px",this.element.style.top=e.top+"px"}},_revertHandler:function(){if(this.revert||e.isFunction(this.revert)&&this.revert()){var t=this;"original"!=this._feedbackType?null!=this.feedback&&("none"!=this.dropAction?e(this.feedback).animate({left:t.originalPosition.left-t._offset.hostRelative.left,top:t.originalPosition.top-t._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&t.feedback.remove()}):t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&t.feedback.remove()):(this.element.style.zIndex=this.dragZIndex,e(this.host).animate({left:t.originalPosition.left-t._offset.hostRelative.left,top:t.originalPosition.top-t._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){t.element.style.zIndex=t._zIndexBackup}))}},_getHandle:function(t){var i;return this.handle?e(this.handle,this.host).find("*").andSelf().each(function(){this==t.target&&(i=!0)}):i=!0,i},_createFeedback:function(){var e;if(e="function"==typeof this._feedbackType?this._feedbackType():"clone"===this._feedbackType?this.host.clone().removeAttr("id"):this.host,/(absolute|fixed)/.test(e.css("position"))||e.css("position","absolute"),this.appendTo[0]!==this.host.parent()[0]||e[0]!==this.element){e.css({left:this.host.offset().left-this._getParentOffset(this.host).left+this._getParentOffset(e).left,top:this.host.offset().top-this._getParentOffset(this.host).top+this._getParentOffset(e).top}),e.appendTo(this.appendTo)}return"function"==typeof this.initFeedback&&this.initFeedback(e),e},_getParentOffset:function(t){var t=t||this.feedback;this._offsetParent=t.offsetParent();var i=this._offsetParent.offset();return"absolute"==this._positionType&&this._scrollParent[0]!==document&&e.contains(this._scrollParent[0],this._offsetParent[0])&&(i.left+=this._scrollParent.scrollLeft(),i.top+=this._scrollParent.scrollTop()),(this._offsetParent[0]==document.body||this._offsetParent[0].tagName&&"html"==this._offsetParent[0].tagName.toLowerCase()&&e.jqx.browser.msie)&&(i={top:0,left:0}),{top:i.top+(parseInt(this._offsetParent.css("border-top-width"),10)||0),left:i.left+(parseInt(this._offsetParent.css("border-left-width"),10)||0)}},_getRelativeOffset:function(e){this._scrollParent||e.parent();if(e=e||this.feedback,"relative"===e.css("position")){var t=this.host.position();return{top:t.top-(parseInt(e.css("top"),10)||0),left:t.left-(parseInt(e.css("left"),10)||0)}}return{top:0,left:0}},_backupeMargins:function(){this.margins={left:parseInt(this.host.css("margin-left"),10)||0,top:parseInt(this.host.css("margin-top"),10)||0,right:parseInt(this.host.css("margin-right"),10)||0,bottom:parseInt(this.host.css("margin-bottom"),10)||0}},_backupFeedbackProportions:function(){this.feedback[0].style.opacity=this.opacity,this._feedbackProportions={width:this.feedback.outerWidth(),height:this.feedback.outerHeight()}},_setRestricter:function(){"parent"==this.restricter&&(this.restricter=this.feedback[0].parentNode),("document"==this.restricter||"window"==this.restricter)&&this._handleNativeRestricter(),"undefined"!=typeof this.restricter.left&&"undefined"!=typeof this.restricter.top&&"undefined"!=typeof this.restricter.height&&"undefined"!=typeof this.restricter.width?this._restricter=[this.restricter.left,this.restricter.top,this.restricter.width,this.restricter.height]:/^(document|window|parent)$/.test(this.restricter)||this.restricter.constructor==Array?this.restricter.constructor==Array&&(this._restricter=this.restricter):this._handleDOMParentRestricter()},_handleNativeRestricter:function(){this._restricter=["document"===this.restricter?0:e(window).scrollLeft()-this._offset.relative.left-this._offset.parent.left,"document"===this.restricter?0:e(window).scrollTop()-this._offset.relative.top-this._offset.parent.top,("document"===this.restricter?0:e(window).scrollLeft())+e("document"===this.restricter?document:window).width()-this._feedbackProportions.width-this.margins.left,("document"===this.restricter?0:e(window).scrollTop())+(e("document"===this.restricter?document:window).height()||document.body.parentNode.scrollHeight)-this._feedbackProportions.height-this.margins.top]},_handleDOMParentRestricter:function(){var t=e(this.restricter),i=t[0];if(i){var s="hidden"!==e(i).css("overflow");this._restricter=[(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0),(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0),(s?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this._feedbackProportions.width-this.margins.left-this.margins.right,(s?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this._feedbackProportions.height-this.margins.top-this.margins.bottom],this._restrictiveContainer=t}},_convertPositionTo:function(t,i){i||(i=this.position);var s,r,n;return s="absolute"===t?1:-1,r="absolute"!==this._positionType||this._scrollParent[0]!=document&&e.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,n=/(html|body)/i.test(r[0].tagName),this._getPosition(i,s,n,r)},_getPosition:function(t,i,s,r){return{top:t.top+this._offset.relative.top*i+this._offset.parent.top*i-(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollTop():s?0:r.scrollTop())*i),left:t.left+this._offset.relative.left*i+this._offset.parent.left*i-(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollLeft():s?0:r.scrollLeft())*i)}},_generatePosition:function(t){var i="absolute"!=this._positionType||this._scrollParent[0]!=document&&e.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,s=/(html|body)/i.test(i[0].tagName),r=this._getMouseCoordinates(t),n=r.left,a=r.top;if(this.originalPosition){var o;if(this.restricter){if(this._restrictiveContainer){var l=this._restrictiveContainer.offset();o=[this._restricter[0]+l.left,this._restricter[1]+l.top,this._restricter[2]+l.left,this._restricter[3]+l.top]}else o=this._restricter;r.left-this._offset.click.left<o[0]&&(n=o[0]+this._offset.click.left),r.top-this._offset.click.top<o[1]&&(a=o[1]+this._offset.click.top),r.left-this._offset.click.left>o[2]&&(n=o[2]+this._offset.click.left),r.top-this._offset.click.top>o[3]&&(a=o[3]+this._offset.click.top)}}return{top:a-this._offset.click.top-this._offset.relative.top-this._offset.parent.top+(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollTop():s?0:i.scrollTop()),left:n-this._offset.click.left-this._offset.relative.left-this._offset.parent.left+(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollLeft():s?0:i.scrollLeft())}},_raiseEvent:function(t,i){if(void 0==this.triggerEvents||0!=this.triggerEvents){var s=this._events[t],r=e.Event(s),i=i||{};return i.position=this.position,i.element=this.element,e.extend(i,this.data),i.feedback=this.feedback,r.args=i,this.host.trigger(r)}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-draggable-disabled")),this._enableSelection(this.host)},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-draggable-disabled"))},propertyChangedHandler:function(t,i,s,r){"dropTarget"===i?"string"==typeof r&&(t.dropTarget=e(r)):"disabled"==i?r&&t._enableSelection(t.host):"cursor"==i&&t.host.css("cursor",t.cursor)}})}(jqxBaseFramework),function(e){jqxListBoxDragDrop=function(){e.extend(e.jqx._jqxListBox.prototype,{_hitTestBounds:function(e,t,i){var s=e.host.offset(),r=i-parseInt(s.top),n=t-parseInt(s.left),a=e._hitTest(n,r);if(0>r)return null;if(null!=a){var o=parseInt(s.left),l=o+e.host.width();return o<=t+a.width/2&&l>=t?a:null}if(e.items&&e.items.length>0){var d=e.items[e.items.length-1];if(e.groups.length<2&&d.top+d.height+15>=r)return d}return null},_handleDragStart:function(t,i){var s=e.jqx.mobile.isTouchDevice();s&&i.allowDrag&&t.on(e.jqx.mobile.getTouchEventName("touchstart"),function(){e.jqx.mobile.setTouchScroll(!1,i.element.id)}),t.off("dragStart"),t.on("dragStart",function(t){if(i.allowDrag&&!i.disabled){i.feedbackElement=e("<div style='z-index: 99999; position: absolute;'></div>"),i.feedbackElement.addClass(i.toThemeProperty("jqx-listbox-feedback")),i.feedbackElement.appendTo(e(document.body)),i.feedbackElement.hide(),i.isDragging=!0,i._dragCancel=!1;var s=i._getMouseCoordinates(t),r=i._hitTestBounds(i,s.left,s.top),n=e.find(".jqx-listbox");i._listBoxes=n,e.each(i._listBoxes,function(){var t=e.data(this,"jqxListBox").instance;t._enableHover=t.enableHover,t.enableHover=!1,e.jqx.mobile.setTouchScroll(!1,i.element.id)});var a=function(){i._dragCancel=!0,e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),e.each(i._listBoxes,function(){var t=e.data(this,"jqxListBox").instance;void 0!=t._enableHover&&(t.enableHover=t._enableHover,e.jqx.mobile.setTouchScroll(!0,i.element.id))})};if(null==r||r.isGroup)null==r&&a();else{if(i._dragItem=r,i.dragStart){var o=i.dragStart(r);if(0==o)return a(),!1}r.disabled&&a(),i._raiseEvent(4,{label:r.label,value:r.value,originalEvent:t.args})}}return!1})},_handleDragging:function(t,i){t.off("dragging"),t.on("dragging",function(t){var s=t.args;if(!i._dragCancel){var r=i._getMouseCoordinates(t),n=r;i._lastDraggingPosition=r,i._dragOverItem=null,i.feedbackElement.hide(),e.each(i._listBoxes,function(){if(e.jqx.isHidden(e(this)))return!0;
var t=e(this).offset(),a=t.top+20,o=e(this).height()+a-40,l=t.left,d=e(this).width(),h=l+d,c=e.data(this,"jqxListBox").instance,u=c._hitTestBounds(c,r.left,r.top),p=c.vScrollInstance;if(null!=u&&c.allowDrop&&!c.disabled&&(i._dragOverItem=u,u.element)){i.feedbackElement.show();var f=e(u.element).offset().top+1;n.top>f+u.height/2&&(f+=u.height),i.feedbackElement.css("top",f),i.feedbackElement.css("left",l),i.feedbackElement.width("visible"!=c.vScrollBar.css("visibility")?e(this).width():e(this).width()-20)}r.left>=l&&r.left<h?s.position.top<a&&s.position.top>=a-30?(clearInterval(c._autoScrollTimer),0!=p.value&&i.feedbackElement.hide(),c._autoScrollTimer=setInterval(function(){var e=c.scrollUp();e||clearInterval(c._autoScrollTimer)},100)):s.position.top>o&&s.position.top<o+30?(clearInterval(c._autoScrollTimer),"hidden"!=c.vScrollBar.css("visibility")&&p.value!=p.max&&i.feedbackElement.hide(),c._autoScrollTimer=setInterval(function(){var e=c.scrollDown();e||clearInterval(c._autoScrollTimer)},100)):clearInterval(c._autoScrollTimer):(null==i._dragOverItem&&i.feedbackElement.hide(),clearInterval(c._autoScrollTimer))})}})},_handleDragEnd:function(t,i){e.find(".jqx-listbox");t.off("dragEnd"),t.on("dragEnd",function(t){clearInterval(i._autoScrollTimer);var s=e.jqx.mobile.isTouchDevice(),r=s?i._lastDraggingPosition:i._getMouseCoordinates(t),n=e.find(".jqx-listbox"),a=null;if(i.feedbackElement.remove(),i._dragCancel)return void t.stopPropagation();e.each(n,function(){if(e.jqx.isHidden(e(this)))return!0;var t=parseInt(e(this).offset().left),s=t+e(this).width(),n=e.data(this,"jqxListBox").instance;if(clearInterval(n._autoScrollTimer),void 0!=n._enableHover&&(n.enableHover=n._enableHover,e.jqx.mobile.setTouchScroll(!0,i.element.id)),null!=i._dragItem&&r.left+i._dragItem.width/2>=t&&r.left<s){var o=parseInt(e(this).offset().top),l=o+e(this).height();r.top>=o&&r.top<=l&&(a=e(this))}});var o=i._dragItem;if(null!=a&&a.length>0){var l=e.data(a[0],"jqxListBox").instance,d=l.allowDrop;if(d&&!l.disabled){var l=e.data(a[0],"jqxListBox").instance,h=l._hitTestBounds(l,r.left,r.top);if(h=i._dragOverItem,null==h||h.isGroup){if("none"!=l.dropAction){if(l.content.find(".draggable").length>0&&l.content.find(".draggable").jqxDragDrop("destroy"),i.dragEnd){var c=i.dragEnd(i._dragItem,null,t.args);if(0==c)return e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1;void 0==c&&(c=!0)}l.addItem(i._dragItem),"default"==l.dropAction&&(o.visibleIndex>0&&i.selectIndex(o.visibleIndex-1),i.removeItem(o,!0)),l.clearSelection(),l.selectIndex(l.items.length-1)}}else{var c=!0;if(i.dragEnd){if(c=i.dragEnd(o,h,t.args),0==c)return e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1;void 0==c&&(c=!0)}if(c){var u=(h.visibleIndex,function(){for(var e=h.visibleIndex,t=e-2;e+2>=t;t++)if(l.items&&l.items.length>t){var i=l.items[t];if(null!=i&&i.value==o.value)return i.visibleIndex}return e});if("none"!=l.dropAction){if(h.element)var p=e(h.element).offset().top+1;else var p=e(l.element).offset().top+1;l.content.find(".draggable").length>0&&l.content.find(".draggable").jqxDragDrop("destroy"),r.top>p+h.height/2?l.insertAt(i._dragItem,h.index+1):l.insertAt(i._dragItem,h.index),"default"==i.dropAction&&(o.visibleIndex>0&&i.selectIndex(o.visibleIndex-1),i.removeItem(o,!0));var f=u();l.clearSelection(),l.selectIndex(f)}}}}}else if(i.dragEnd){var m=i.dragEnd(o,t.args);if(0==m)return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}return null!=o&&i._raiseEvent(5,{label:o.label,value:o.value,originalEvent:t.args}),!1})},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var t=this.content.find(".draggable");if(t.length>0){var i=this;t.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(t){var s=e('<span style="white-space: nowrap;" class="'+i.toThemeProperty("jqx-fill-state-normal")+'">'+t.text()+"</span>");e(document.body).append(s);var r=s.width();s.remove(),t.width(r+5),t.addClass(i.toThemeProperty("jqx-fill-state-pressed"))}}),this._autoScrollTimer=null,i._dragItem=null,i._handleDragStart(t,i),i._handleDragging(t,i),i._handleDragEnd(t,i)}}},_getMouseCoordinates:function(t){if(this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._isTouchDevice){var i=e.jqx.position(t.args);return{left:i.left,top:i.top}}return{left:t.args.pageX,top:t.args.pageY}}})},jqxTreeDragDrop=function(){e.extend(e.jqx._jqxTree.prototype,{_hitTestBounds:function(t,i,s){var r=null;if(t._visibleItems){var n=parseInt(t.host.offset().left),a=t.host.outerWidth();e.each(t._visibleItems,function(){if(i>=n&&n+a>i&&this.top+5<s&&s<this.top+this.height){var o=e(this.element).parents("li:first");if(o.length>0&&(r=t.getItem(o[0]),null!=r))return r.height=this.height,r.top=this.top,!1}})}return r},_handleDragStart:function(t,i){i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover"));var s=e.jqx.mobile.isTouchDevice();s&&i.allowDrag&&t.on(e.jqx.mobile.getTouchEventName("touchstart"),function(){e.jqx.mobile.setTouchScroll(!1,"panel"+i.element.id)}),t.off("dragStart"),t.on("dragStart",function(t){i.feedbackElement=e("<div style='z-index: 99999; position: absolute;'></div>"),i.feedbackElement.addClass(i.toThemeProperty("jqx-listbox-feedback")),i.feedbackElement.appendTo(e(document.body)),i.feedbackElement.hide(),i._dragCancel=!1;var s=(t.args.position,e.find(".jqx-tree"));return i._trees=s,e.each(s,function(){var s=e.data(this,"jqxTree").instance,r=s.host.find(".draggable");if(s._syncItems(r),s.allowDrag&&!s.disabled){var n=e(t.target).parents("li:first");if(n.length>0){var a=s.getItem(n[0]);if(a){if(i._dragItem=a,s.dragStart){var o=s.dragStart(a);if(0==o)return i._dragCancel=!0,e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:s}),!1}s._raiseEvent(8,{label:a.label,value:a.value,originalEvent:t.args})}}}}),!1})},_getMouseCoordinates:function(t){if(this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._isTouchDevice){var i=e.jqx.position(t.args);return{left:i.left,top:i.top}}return{left:t.args.pageX,top:t.args.pageY}},_handleDragging:function(t,i){var t=this.host.find(".draggable");t.off("dragging"),t.on("dragging",function(t){var s=t.args,r=(s.position,i._trees);if(!i._dragCancel){i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover"));var n=!0,a=i._getMouseCoordinates(t);i._lastDraggingPosition=a,e.each(r,function(){if(e.jqx.isHidden(e(this)))return!0;var t=e(this).offset(),s=t.top+20,r=e(this).height()+s-40,o=t.left,l=e(this).width(),d=o+l,h=e.data(this,"jqxTree").instance;if(!h.disabled&&h.allowDrop){var c=h.vScrollInstance,u=h._hitTestBounds(h,a.left,a.top);if(null!=u&&(i._dragOverItem&&i._dragOverItem.titleElement.removeClass(h.toThemeProperty("jqx-fill-state-hover")),i._dragOverItem=u,u.element)){i.feedbackElement.show();var p=u.top,f=a.top;i._dropPosition="before",f>p+u.height/3&&(p=u.top+u.height/2,i._dragOverItem.titleElement.addClass(i.toThemeProperty("jqx-fill-state-hover")),i.feedbackElement.hide(),i._dropPosition="inside"),f>u.top+u.height-u.height/3&&(p=u.top+u.height,i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.feedbackElement.show(),i._dropPosition="after"),i.feedbackElement.css("top",p);var o=-2+parseInt(u.titleElement.offset().left);i.feedbackElement.css("left",o),i.feedbackElement.width(e(u.titleElement).width()+12)}a.left>=o&&a.left<d?(a.top+20>=s&&a.top<=s+h.host.height()&&(n=!1),a.top<s&&a.top>=s-30?(clearInterval(h._autoScrollTimer),0!=c.value&&i.feedbackElement.hide(),h._autoScrollTimer=setInterval(function(){var e=h.panelInstance.scrollUp(),t=h.host.find(".draggable");h._syncItems(t),e||clearInterval(h._autoScrollTimer)},100)):a.top>r&&a.top<r+30?(clearInterval(h._autoScrollTimer),c.value!=c.max&&i.feedbackElement.hide(),h._autoScrollTimer=setInterval(function(){var e=h.panelInstance.scrollDown(),t=h.host.find(".draggable");h._syncItems(t),e||clearInterval(h._autoScrollTimer)},100)):clearInterval(h._autoScrollTimer)):clearInterval(h._autoScrollTimer)}}),n&&i.feedbackElement&&i.feedbackElement.hide()}})},_handleDragEnd:function(t,i){t.off("dragEnd"),t.on("dragEnd",function(t){i.host.find(".draggable");clearInterval(i._autoScrollTimer);var s=(t.args.position,i._trees),r=null,n=e.jqx.mobile.isTouchDevice(),a=n?i._lastDraggingPosition:i._getMouseCoordinates(t);if(i.feedbackElement.remove(),i._dragCancel)return!1;i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.each(s,function(){if(e.jqx.isHidden(e(this)))return!0;var t=parseInt(e(this).offset().left),s=t+e(this).width(),n=e.data(this,"jqxTree").instance;if(clearInterval(n._autoScrollTimer),null!=i._dragItem&&a.left>=t&&a.left<s){var o=parseInt(e(this).offset().top),l=o+e(this).height();a.top>=o&&a.top<=l&&(r=e(this))}});var o=i._dragItem;if(null!=r&&r.length>0){var l=r.jqxTree("allowDrop");if(l){var d=e.data(r[0],"jqxTree").instance,h=i._dragOverItem;if(null!=h&&i._dragOverItem.treeInstance.element.id==d.element.id){var c=!0;if(i.dragEnd&&(c=i.dragEnd(o,h,t.args,i._dropPosition,r),0==c&&(e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0})),void 0==c&&(c=!0)),c){var u=function(){var e=i._dragItem.treeInstance;e._refreshMapping(),e._updateItemsNavigation(),e._render(!0,!1),e.checkboxes&&e._updateCheckStates(),i._dragItem.treeInstance=d,i._syncItems(i._dragItem.treeInstance.host.find(".draggable"))};if("none"!=d.dropAction&&i._dragItem.id!=i._dragOverItem.id)if("inside"==i._dropPosition)d._drop(i._dragItem.element,i._dragOverItem.element,-1,d),u();else{var p=0;"after"==i._dropPosition&&p++,d._drop(i._dragItem.element,i._dragOverItem.parentElement,p+e(i._dragOverItem.element).index(),d),u()}d._render(!0,!1);var f=d.host.find(".draggable");i._syncItems(f),i._dragOverItem=null,i._dragItem=null,d._refreshMapping(),d._updateItemsNavigation(),d.selectedItem=null,d.selectItem(o.element),d.checkboxes&&d._updateCheckStates(),d._render(!0,!1)}}else if("none"!=d.dropAction&&d.allowDrop){var c=!0;if(i.dragEnd&&(c=i.dragEnd(o,h,t.args,i._dropPosition,r),0==c&&(e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0})),void 0==c&&(c=!0)),c){i._dragItem.parentElement=null,d._drop(i._dragItem.element,null,-1,d);var m=i._dragItem.treeInstance;m._refreshMapping(),m._updateItemsNavigation(),m.checkboxes&&m._updateCheckStates();var f=m.host.find(".draggable");i._syncItems(f),i._dragItem.treeInstance=d,d.items[d.items.length]=i._dragItem,d._render(!0,!1),d.selectItem(o.element),d._refreshMapping(),d._updateItemsNavigation();var f=d.host.find(".draggable");d._syncItems(f),d.checkboxes&&d._updateCheckStates(),i._dragOverItem=null,i._dragItem=null}}}}else if(i.dragEnd){var g=i.dragEnd(o,t.args);if(0==g)return!1}return null!=o&&i._raiseEvent(7,{label:o.label,value:o.value,originalEvent:t.args}),!1})},_drop:function(t,i,s,r){if(!(e(i).parents("#"+t.id).length>0||null!=i&&i.id==t.id)){if(r.element.innerHTML.indexOf("UL"))var n=r.host.find("ul:first");if(void 0==i&&null==i)void 0==s||-1==s?n.append(t):0==n.children("li").eq(s).length?n.children("li").eq(s-1).after(t):n.children("li").eq(s)[0].id!=t.id&&n.children("li").eq(s).before(t);else if(void 0==s||-1==s){i=e(i);var a=i.find("ul:first");if(0==a.length){ulElement=e("<ul></ul>"),e(i).append(ulElement),a=i.find("ul:first");var o=r.itemMapping["id"+i[0].id].item;o.subtreeElement=a[0],o.hasItems=!0,a.addClass(r.toThemeProperty("jqx-tree-dropdown")),a.append(t),t=a.find("li:first"),o.parentElement=t}else a.append(t)}else{i=e(i);var a=i.find("ul:first");if(0==a.length){if(ulElement=e("<ul></ul>"),e(i).append(ulElement),a=i.find("ul:first"),i){var o=r.itemMapping["id"+i[0].id].item;o.subtreeElement=a[0],o.hasItems=!0}a.addClass(r.toThemeProperty("jqx-tree-dropdown")),a.append(t),t=a.find("li:first"),o.parentElement=t}else 0==a.children("li").eq(s).length?a.children("li").eq(s-1).after(t):a.children("li").eq(s)[0].id!=t.id&&a.children("li").eq(s).before(t)}}},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var t=this.host.find(".draggable"),i=this;if(t.length>0){t.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(t){var s=e('<span style="white-space: nowrap;" class="'+i.toThemeProperty("jqx-fill-state-normal")+'">'+t.text()+"</span>");e(document.body).append(s);var r=s.width();s.remove(),t.width(r+5),t.addClass(i.toThemeProperty("jqx-fill-state-pressed"))}});var s=t.jqxDragDrop("isDestroyed");s===!0&&t.jqxDragDrop("_createDragDrop"),this._autoScrollTimer=null,i._dragItem=null,i._handleDragStart(t,i),i._handleDragging(t,i),i._handleDragEnd(t,i)}}}})}}(jqxBaseFramework),function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){var i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var s=this.that;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),this.displayfield=e.jqx.hasProperty(i,"displayField")?e.jqx.get(i,"displayField"):this.datafield,e.jqx.hasProperty(i,"enableTooltips")&&(this.enabletooltips=e.jqx.get(i,"enableTooltips")),this.text=e.jqx.hasProperty(i,"text")?e.jqx.get(i,"text"):this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hideable")&&(this.hideable=e.jqx.get(i,"hideable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsformat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsrenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"checkChange")&&(this.checkchange=e.jqx.get(i,"checkChange")),e.jqx.hasProperty(i,"buttonClick")&&(this.buttonclick=e.jqx.get(i,"buttonClick")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"visibleIndex")&&(this.visibleindex=e.jqx.get(i,"visibleIndex")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"cellBeginEdit")&&(this.cellbeginedit=e.jqx.get(i,"cellBeginEdit")),e.jqx.hasProperty(i,"cellEndEdit")&&(this.cellendedit=e.jqx.get(i,"cellEndEdit")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"menu")&&(this.menu=e.jqx.get(i,"menu")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesrenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"createFilterWidget")&&(this.createfilterwidget=e.jqx.get(i,"createFilterWidget")),e.jqx.hasProperty(i,"filterType")&&(this.filtertype=e.jqx.get(i,"filterType")),e.jqx.hasProperty(i,"filterDelay")&&(this.filterdelay=e.jqx.get(i,"filterDelay")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"filterItems")&&(this.filteritems=e.jqx.get(i,"filterItems")),e.jqx.hasProperty(i,"cellValueChanging")&&(this.cellvaluechanging=e.jqx.get(i,"cellValueChanging")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"filterCondition")&&(this.filtercondition=e.jqx.get(i,"filterCondition")),e.jqx.hasProperty(i,"threeStateCheckbox")&&(this.threestatecheckbox=e.jqx.get(i,"threeStateCheckbox")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var r in i)if(!s.hasOwnProperty(r)&&!s.hasOwnProperty(r.toLowerCase()))throw t.host.remove(),new Error("jqxGrid: Invalid property name - "+r+".")}},this._initfields(i),this}function i(e,t){return this.setdata=function(e){null!=e&&(this.bounddata=e,this.boundindex=e.boundindex,this.visibleindex=e.visibleindex,this.group=e.group,this.parentbounddata=e.parentItem,this.uniqueid=e.uniqueid,this.level=e.level)},this.setdata(t),this.parentrow=null,this.subrows=new Array,this.owner=e,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(e){this.hidden=e.hidden,this.rowdetails=e.rowdetails,this.rowdetailsheight=e.rowdetailsheight,this.rowdetailshidden=!e.showdetails,this.height=e.height},this}e.jqx.jqxWidget("jqxGrid","",{}),e.extend(e.jqx._jqxGrid.prototype,{defineInstance:function(){var t={disabled:!1,width:600,height:400,pagerheight:28,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:25,columnsheight:25,filterrowheight:31,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showtoolbar:!1,toolbarheight:34,showstatusbar:!1,statusbarheight:34,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:799,headerZIndex:299,updatefilterconditions:null,showaggregates:!1,showfilterrow:!1,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:e.jqx.utilities.scrollBarSize,touchscrollbarsize:e.jqx.utilities.touchScrollBarSize,scrollbarautoshow:e.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsreorder:!1,columnsmenuwidth:15,autoshowcolumnsmenubutton:!0,popupwidth:"auto",sorttogglestates:2,rendergridrows:null,enableanimations:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:25,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]};return e.extend(!0,this,t),t},createInstance:function(){this.that=this,this.pagesize=parseInt(this.pagesize),this.toolbarheight=parseInt(this.toolbarheight),this.columnsheight=parseInt(this.columnsheight),this.filterrowheight=parseInt(this.filterrowheight),this.statusbarheight=parseInt(this.statusbarheight),this.groupsheaderheight=parseInt(this.groupsheaderheight);var t="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+this.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(this.element.innerText="",this.element.innerHTML="",15!=e.jqx.utilities.scrollBarSize&&(this.scrollbarsize=e.jqx.utilities.scrollBarSize),this.source){if(!this.source.dataBind){if(!e.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js");this.source=new e.jqx.dataAdapter(this.source)}var i=this.source._source.datafields;i&&i.length>0&&(this.editmode=this.editmode.toLowerCase(),this.selectionmode=this.selectionmode.toLowerCase())}this.host.attr("role","grid"),this.host.attr("align","left"),this.element.innerHTML=t,this.host.addClass(this.toTP("jqx-grid")),this.host.addClass(this.toTP("jqx-reset")),this.host.addClass(this.toTP("jqx-rc-all")),this.host.addClass(this.toTP("jqx-widget")),this.host.addClass(this.toTP("jqx-widget-content")),this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var s=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id);if(this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),!s.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(this.editors=new Array,this.vScrollBar=s.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.groupsheader=this.host.find("#groupsheader"),this.groupsheader.addClass(this.toTP("jqx-grid-groups-header")),this.groupsheader.addClass(this.toTP("jqx-widget-header")),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.gridtable=null,this.isNestedGrid=this.host.parent()?9999==this.host.parent().css("z-index"):!1,this.touchdevice=this.isTouchDevice(),this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this.rowdetailstemplate&&(void 0==this.rowdetailstemplate.rowdetails&&(this.rowdetailstemplate.rowdetails="<div></div>"),void 0==this.rowdetailstemplate.rowdetailsheight&&(this.rowdetailstemplate.rowdetailsheight=200),void 0==this.rowdetailstemplate.rowdetailshidden&&(this.rowdetailstemplate.rowdetailshidden=!0)),this.showfilterrow&&!this.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(this.autorowheight&&!this.autoheight&&!this.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(this.virtualmode&&null==this.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(this.virtualmode&&!this.pageable&&this.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!this._testmodules()){if(this._builddataloadelement(),this._cachedcolumns=this.columns,25!=this.rowsheight&&this._measureElement("cell"),(25!=this.columnsheight||this.columngroups)&&this._measureElement("column"),this.source){var i=this.source.datafields;if(null==i&&this.source._source&&(i=this.source._source.datafields),i)for(var n=0;n<this.columns.length;n++){var a=this.columns[n];if(a&&a.cellsformat&&a.cellsformat.length>2)for(var o=0;o<i.length;o++)if(i[o].name==a.datafield&&!i[o].format){i[o].format=a.cellsformat;break}}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this._arrange(),this.pageable&&this._initpager&&this._initpager(),this.tableheight=null;var l=this.that,d=function(){l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.gridcontent&&(l.gridcontent[0].scrollLeft=0,l.gridcontent[0].scrollTop=0)};this.addHandler(this.content,"mousedown",function(){d()}),this.addHandler(this.content,"scroll",function(){return d(),!1}),this.showfilterrow||(this.showstatusbar||this.showtoolbar||this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),this.enablebrowserselection&&(this.content.removeClass("jqx-disableselect"),this.host.removeClass("jqx-disableselect")),this._resizeWindow(),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.hasTransform=e.jqx.utilities.hasTransform(this.host),"logical"==this.scrollmode&&(this.vScrollInstance.thumbStep=this.rowsheight,this.vScrollInstance.step=this.rowsheight),e.jqx.isHidden(this.host)||(this.filterable||this.groupable||this.sortable)&&this._initmenu()}},_resizeWindow:function(){var t=this.that;if(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%")){this._updatesizeonwindowresize=!0,e.jqx.utilities.resize(this.host,function(i){var s=e(window).width(),r=e(window).height(),n=t.host.width(),a=t.host.height();if(t.autoheight&&(t._lastHostWidth=r),t._lastHostWidth!=n||t._lastHostHeight!=a){if(t.touchdevice&&t.editcell&&"orientationchange"!==i)return;t._updatesize(t._lastHostWidth!=n,t._lastHostHeight!=a)}t._lastWidth=s,t._lastHeight=r,t._lastHostWidth=n,t._lastHostHeight=a});var i=t.host.width(),s=t.host.height();t._lastHostWidth=i,t._lastHostHeight=s}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement)},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_measureMenuElement:function(){var t=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-menu")),t.addClass(this.toTP("jqx-menu-item-top")),t.addClass(this.toTP("jqx-fill-state-normal")),e(document.body).append(t);
var i=t.outerHeight();return t.remove(),i},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var s=i.outerWidth()+20;return i.remove(),s},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_testmodules:function(){var t="",i=this.that,s=function(){""!=t.length&&(t+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(s(),t+=" jqxmenu.js"),this.host.jqxScrollBar||(s(),t+=" jqxscrollbar.js"),this.host.jqxButton||(s(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(s(),t+=" jqxdata.js"),this.pageable&&!this.gotopage&&(s(),t+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(s(),t+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(s(),t+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(s(),t+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(s(),t+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(s(),t+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(s(),t+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(s(),t+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(s(),t+=" jqxgrid.selection.js"),""!=t||this.editable||this.filterable||this.pageable){var r=[],n=function(e){switch(e){case"checkbox":i.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,s(),t+=" jqxcheckbox.js");break;case"numberinput":i.host.jqxNumberInput||r.numberinput||(r.numberinput=!0,s(),t+=" jqxnumberinput.js");break;case"datetimeinput":i.host.jqxDateTimeInput||r.datetimeinput?i.host.jqxCalendar||r.calendar||(s(),t+=" jqxcalendar.js"):(s(),r.datetimeinput=!0,t+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":i.host.jqxComboBox||r.combobox?i.host.jqxListBox||r.listbox||(s(),r.listbox=!0,t+=" jqxlistbox.js"):(s(),r.combobox=!0,t+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":i.host.jqxDropDownList||r.dropdownlist?i.host.jqxListBox||r.listbox||(s(),r.listbox=!0,t+=" jqxlistbox.js"):(s(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&n("dropdownlist");for(var a=0;a<this.columns.length;a++)if(void 0!=this.columns[a]){var o=this.columns[a].columntype;if(n(o),this.filterable&&this.showfilterrow){var o=this.columns[a].filtertype;("checkedlist"==o||"bool"==o)&&n("checkbox"),"date"==o&&n("datetimeinput")}}if(""!=t)throw new Error("jqxGrid: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus();var e=this.that;setTimeout(function(){e.wrapper.focus()},25),this.focused=!0}catch(t){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},resize:function(e,t){this.width=e,this.height=t,this._updatesize(!0,!0)},_updatesize:function(t,i){if(!this._loading){var s=this.that;s._newmax=null;var r=s.host.width(),n=s.host.height();s._oldWidth||(s._oldWidth=r),s._oldHeight||(s._oldHeight=n),s._resizeTimer&&clearTimeout(s._resizeTimer);var a=5;s._resizeTimer=setTimeout(function(){if(s.resizingGrid=!0,!e.jqx.isHidden(s.host)){if(s.editcell&&(s.endcelledit(s.editcell.row,s.editcell.column,!0,!0),s._oldselectedcell=null),o!=s._oldHeight||1==i){var n=s.groupable&&s.groups.length>0,a=s.vScrollBar.css("visibility");if(!s.autoheight){if(s.virtualmode&&(s._pageviews=new Array),n||s.rowdetails||s.pageable){s._arrange(),s.prerenderrequired=!0;var o=Math.round(s.host.height())+2*s.rowsheight;realheight=s._gettableheight();var l=Math.round(o/s.rowsheight),d=Math.max(s.dataview.totalrows,s.dataview.totalrecords);s.pageable&&(d=s.pagesize,s.pagesize>Math.max(s.dataview.totalrows,s.dataview.totalrecords)&&s.autoheight?d=Math.max(s.dataview.totalrows,s.dataview.totalrecords):s.autoheight||s.dataview.totalrows<s.pagesize&&(d=Math.max(s.dataview.totalrows,s.dataview.totalrecords)));{d*s.rowsheight,s._getpagesize()}!s.pageable&&s.autoheight&&(l=d),s.virtualsizeinfo&&(s.virtualsizeinfo.visiblerecords=l),s.rendergridcontent(!0,!1),s._renderrows(s.virtualsizeinfo)}else{s._arrange(),s.virtualsizeinfo=s._calculatevirtualheight();var o=Math.round(s.host.height())+2*s.rowsheight;parseInt(o)>=parseInt(s._oldHeight)&&(s.prerenderrequired=!0),s._renderrows(s.virtualsizeinfo)}a!=s.vScrollBar.css("visibility")&&(s.vScrollInstance.setPosition(0),s._arrange(),s._updatecolumnwidths(),s.table&&s.table.width(s.columnsheader.width()),s._updatecellwidths())}}if(r!=s._oldWidth||1==t){var h=!1;if(s.editcell&&s.editcell.editor)switch(s.editcell.columntype){case"dropdownlist":if(h=s.editcell.editor.jqxDropDownList("isOpened")||s.editcell.editor.jqxDropDownList("isanimating")&&!s.editcell.editor.jqxDropDownList("ishiding"))return s.editcell.editor.jqxDropDownList({openDelay:0}),s.editcell.editor.jqxDropDownList("open"),void s.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(h=s.editcell.editor.jqxComboBox("isOpened")||s.editcell.editor.jqxComboBox("isanimating")&&!s.editcell.editor.jqxComboBox("ishiding"))return s.editcell.editor.jqxComboBox({openDelay:0}),s.editcell.editor.jqxComboBox("open"),void s.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(h)return h=s.editcell.editor.jqxDateTimeInput("isOpened")||s.editcell.editor.jqxDateTimeInput("isanimating")&&!s.editcell.editor.jqxDateTimeInput("ishiding"),s.editcell.editor.jqxDateTimeInput({openDelay:0}),s.editcell.editor.jqxDateTimeInput("open"),void s.editcell.editor.jqxDateTimeInput({openDelay:250})}var c=s.hScrollBar.css("visibility");s._arrange(),s._updatecolumnwidths(),s.table&&s.table.width(s.columnsheader.width()),s._updatecellwidths(),0==t&&s._oldWidth>r||i&&0!=s.dataview.rows.length||s._renderrows(s.virtualsizeinfo),c!=s.hScrollBar.css("visibility")&&s.hScrollInstance.setPosition(0)}s._oldWidth=r,s._oldHeight=o,s.resizingGrid=!1}},a)}},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){t.scrollmode="logical",t.vScrollInstance.thumbStep=t.rowsheight;var i=e.jqx.mobile.getTouchEventName("touchstart"),s=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove");t.enablehover=!1,t.gridcontent&&(t.removeHandler(t.gridcontent,i+".touchScroll"),t.removeHandler(t.gridcontent,r+".touchScroll"),t.removeHandler(t.gridcontent,s+".touchScroll"),t.removeHandler(t.gridcontent,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.gridcontent[0],t.vScrollInstance.max,function(e,i){if("visible"==t.vScrollBar.css("visibility")){var s=t.vScrollInstance.value;t.vScrollInstance.setPosition(s+i)}if("visible"==t.hScrollBar.css("visibility")){var s=t.hScrollInstance.value;t.hScrollInstance.setPosition(s+e)}t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),t._overlayElement&&(t.removeHandler(t._overlayElement,i+".touchScroll"),t.removeHandler(t._overlayElement,r+".touchScroll"),t.removeHandler(t._overlayElement,s+".touchScroll"),t.removeHandler(t._overlayElement,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._overlayElement[0],t.vScrollInstance.max,function(e,i){if("visible"==t.vScrollBar.css("visibility")){var s=t.vScrollInstance.value;t.vScrollInstance.setPosition(s+i)}if("visible"==t.hScrollBar.css("visibility")){var s=t.hScrollInstance.value;t.hScrollInstance.setPosition(s+e)}t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,i,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")}),this.addHandler(this.host,s,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")})))}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();if(this.touchDevice=t,1==this.touchmode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return this.enablehover=!1,!1;t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t}else 0==this.touchmode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=t){for(var s in t)s.toLowerCase()!==s&&(t[s.toLowerCase()]=t[s]);if(t.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=t.pagergotopagestring),t.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=t.pagershowrowsstring),t.pagerrangestring&&(this.gridlocalization.pagerrangestring=t.pagerrangestring),t.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=t.pagernextbuttonstring),t.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=t.pagerpreviousbuttonstring),t.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=t.pagerfirstbuttonstring),t.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=t.pagerlastbuttonstring),t.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=t.groupsheaderstring),t.sortascendingstring&&(this.gridlocalization.sortascendingstring=t.sortascendingstring),t.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=t.sortdescendingstring),t.sortremovestring&&(this.gridlocalization.sortremovestring=t.sortremovestring),t.groupbystring&&(this.gridlocalization.groupbystring=t.groupbystring),t.groupremovestring&&(this.gridlocalization.groupremovestring=t.groupremovestring),t.firstDay&&(this.gridlocalization.firstDay=t.firstDay),t.days&&(this.gridlocalization.days=t.days),t.months&&(this.gridlocalization.months=t.months),t.AM&&(this.gridlocalization.AM=t.AM),t.PM&&(this.gridlocalization.PM=t.PM),t.patterns&&(this.gridlocalization.patterns=t.patterns),t.percentsymbol&&(this.gridlocalization.percentsymbol=t.percentsymbol),t.currencysymbol&&(this.gridlocalization.currencysymbol=t.currencysymbol),t.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=t.currencysymbolposition),void 0!=t.decimalseparator&&(this.gridlocalization.decimalseparator=t.decimalseparator),void 0!=t.thousandsseparator&&(this.gridlocalization.thousandsseparator=t.thousandsseparator),t.filterclearstring&&(this.gridlocalization.filterclearstring=t.filterclearstring),t.filterstring&&(this.gridlocalization.filterstring=t.filterstring),t.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=t.filtershowrowstring),t.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=t.filtershowrowdatestring),t.filterselectallstring&&(this.gridlocalization.filterselectallstring=t.filterselectallstring),t.filterchoosestring&&(this.gridlocalization.filterchoosestring=t.filterchoosestring),t.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=t.filterorconditionstring),t.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=t.filterandconditionstring),t.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=t.filterstringcomparisonoperators),t.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=t.filternumericcomparisonoperators),t.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=t.filterdatecomparisonoperators),t.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=t.filterbooleancomparisonoperators),t.emptydatastring&&(this.gridlocalization.emptydatastring=t.emptydatastring),t.filterselectstring&&(this.gridlocalization.filterselectstring=t.filterselectstring),t.todaystring&&(this.gridlocalization.todaystring=t.todaystring),t.clearstring&&(this.gridlocalization.clearstring=t.clearstring),t.validationstring&&(this.gridlocalization.validationstring=t.validationstring),t.loadtext&&(this.gridlocalization.loadtext=t.loadtext),i!==!1){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var s in this._filterrowcache)e(this._filterrowcache[s]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today"}},_initmenu:function(){var t=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array,this.gridmenu=e('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>'),this.host.append(this.gridmenu);var i=e("<ul></ul>"),s='<div class="jqx-grid-sortasc-icon"></div>',r=e("<li>"+s+this.gridlocalization.sortascendingstring+"</li>"),n='<div class="jqx-grid-sortdesc-icon"></div>',a=e("<li>"+n+this.gridlocalization.sortdescendingstring+"</li>"),o='<div class="jqx-grid-sortremove-icon"></div>',l=e("<li>"+o+this.gridlocalization.sortremovestring+"</li>"),d='<div class="jqx-grid-groupby-icon"></div>',h=e("<li>"+d+this.gridlocalization.groupbystring+"</li>"),c=e("<li>"+d+this.gridlocalization.groupremovestring+"</li>"),u=e('<li type="separator"></li>'),p=e('<li class="filter" style="height: 175px;" ignoretheme="true"><div class="filter"></div></li>'),f=this.gridlocalization.sortascendingstring.length,m=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>f&&(f=this.gridlocalization.sortdescendingstring.length,m=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>f&&(f=this.gridlocalization.sortremovestring.length,m=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>f&&(f=this.gridlocalization.groupbystring.length,m=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>f&&(f=this.gridlocalization.groupremovestring.length,m=this.gridlocalization.groupremovestring));var g=200;m=e.trim(m).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var v=e("<span>"+m+"</span>");v.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(v),g=v.outerWidth()+60,v.remove();var b=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(i.append(r),this.menuitemsarray[0]=r[0],i.append(a),this.menuitemsarray[1]=a[0],i.append(l),this.menuitemsarray[2]=l[0],b=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(i.append(h),this.menuitemsarray[3]=h[0],i.append(c),this.menuitemsarray[4]=c[0],b+=2);var x=this._measureMenuElement(),w=b*x+9,y=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=p[0],this.menuitemsarray[6]=p[0],i.append(u),i.append(p),w+=180,e.jqx.browser.msie&&e.jqx.browser.version<8&&(w+=20);var _=e(p).find("div:first");g+=20,this._initfilterpanel(this,_,"",g),y=!1,this.removeHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t),this.addHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t)}if(this.gridmenu.append(i),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.filterable&&(e("#listBoxfilter1"+this.element.id).css("z-index",4990),e("#listBoxfilter2"+this.element.id).css("z-index",4990),e("#listBoxfilter3"+this.element.id).css("z-index",4990),e("#gridmenu"+this.element.id).css("z-index",5e3),this.addHandler(e("#gridmenu"+this.element.id),"initialized",function(){e("#menuWrappergridmenu"+t.element.id).css("z-index",4980)})),void 0==this.menuitemsarray[0]&&(w=65),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(i){if(27==i.keyCode)t.gridmenu.jqxMenu("close");else if(13==i.keyCode&&t.filterable&&t._buildfilter){var s="block"==e(e.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display"),r="block"==e(e.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display"),n="block"==e(e.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display"),a=e(e.find("#filterclearbutton"+t.element.id)).hasClass("jqx-fill-state-focus");if(a){var o=e.data(document.body,"contextmenu"+t.element.id).column;t._clearfilter(t,t.element,o),t.gridmenu.jqxMenu("close")}else if(!s&&!r&&!n){var o=e.data(document.body,"contextmenu"+t.element.id).column;t.gridmenu.jqxMenu("close"),t._buildfilter(t,p,o)}}}),"auto"!=this.popupwidth&&(g=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:999999,width:g,height:w,autoCloseOnClick:y,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0}),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",p[0].id,"closeOnClick",!1),this.rtl){var j=this.that;e.each(i.find("li"),function(){e(this).addClass(j.toTP("jqx-rtl"))});var q=function(e){var t=e.find("div");t.css("float","right"),t.css("margin-left","4px"),t.css("margin-right","-4px")};q(l),q(a),q(r),q(h),q(c)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var t=this.gridlocalization.sortascendingstring.length,i=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>t&&(t=this.gridlocalization.sortdescendingstring.length,i=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>t&&(t=this.gridlocalization.sortremovestring.length,i=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>t&&(t=this.gridlocalization.groupbystring.length,i=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>t&&(t=this.gridlocalization.groupremovestring.length,i=this.gridlocalization.groupremovestring));var s=200;i=e.trim(i).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var r=e("<span>"+i+"</span>");r.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(r),s=r.outerWidth()+60,r.remove();var n=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(n=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(n+=2);var a=27*n+3;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(a+=180,s+=20,e.jqx.browser.msie&&e.jqx.browser.version<8&&(a+=20)),void 0==this.menuitemsarray[0]&&(a=65),"auto"!=this.popupwidth&&(s=this.popupwidth),this.gridmenu.jqxMenu({width:s,height:a})},_closemenuafterclick:function(t){var i=null!=t?t.data:this,s=!1;if(void 0==t.target||void 0!=t.target&&void 0==t.target.className.indexOf)return void i.gridmenu.jqxMenu("close");if(-1==t.target.className.indexOf("filter")||-1!=t.target.className.indexOf("jqx-grid-cell-filter")){if(-1!=t.target.className.indexOf("jqx-grid-cell"))return void i.gridmenu.jqxMenu("close");if(!i._hasOpenedMenu||!e(t.target).ischildof(i.gridmenu)){var r=(i.host.coord(),i.gridmenu.coord()),n=t.pageX,a=t.pageY;if(e.each(e(t.target).parents(),function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")?(s=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?(s=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")?(i.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(i.gridmenu.jqxMenu("close"),!1):void 0}),!s){try{if("default"===i.filtermode){var o=e(e.find("#filter1"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup,l=new Date;if(100>l-o)return;var d=e(e.find("#filter3"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(100>l-d)return;if("block"==e(e.find("#filter3"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter1"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter2"+i.element.id)).jqxDropDownList("container").css("display"))return;if(i._hasdatefilter&&"div"==e(".filtertext1"+i.element.id)[0].nodeName.toLowerCase()){if("block"==e(".filtertext1"+i.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==e(".filtertext2"+i.element.id).jqxDateTimeInput("container").css("display"))return}}else{var o=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup,l=new Date;if(100>l-o)return;var d=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup;if(100>l-d)return}}catch(h){}n>=r.left&&n<=r.left+i.gridmenu.width()&&a>=r.top&&a<=r.top+i.gridmenu.height()||i.gridmenu.jqxMenu("close")}}}},_handlemenueevents:function(){var t=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(){t._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(i){for(var s=i.args,r=0;r<t.menuitemsarray.length;r++){var n=t.menuitemsarray[r];if(s==n){if(void 0!=e(s).attr("ignoretheme"))return;var a=e.data(document.body,"contextmenu"+t.element.id),o=a.column;t.filterable&&t.gridmenu.jqxMenu("close");var l=o.displayfield;if(null==l&&(l=o.datafield),null!=a)switch(r){case 0:t.sortby(l,"ascending",null);break;case 1:t.sortby(l,"descending",null);break;case 2:t.sortby(l,null,null);break;case 3:t.addgroup(o.datafield);break;case 4:t.removegroup(o.datafield);break;case 5:var d=e(t.menuitemsarray[6]);e(d).css("display","block");break;case 7:}break}}})},getdatainformation:function(){var e=this.dataview.totalrecords;return this.summaryrows&&(e+=this.summaryrows.length),{rowscount:e,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var t=this.that;this.hiddens=new Array;var i=this.hiddenboundrows;e.each(i,function(e){if(void 0!=this.index){var i=(this.index,t.getrowvisibleindex(e));t.hiddens[i]=this.hidden}})},_updaterowheights:function(){var t=this.that;this.heights=new Array;var i=this.heightboundrows;e.each(i,function(e){if(void 0!=this.index){var i=(this.index,t.getrowvisibleindex(e));t.heights[i]=this.height}})},_updaterowdetails:function(){var t=this.that;this.details=new Array;var i=this.detailboundrows;e.each(i,function(e){if(void 0!=this.index){var i=(this.index,t.getrowvisibleindex(e));t.details[i]=this.details}})},_getmenuitembyindex:function(e){return void 0==e?null:this.menuitemsarray[e]},openmenu:function(t){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var i=this.getcolumn(t);if(!i.menu)return!1;this.gridmenu||this._initmenu();var s=i.columnsmenu;e(i.element).trigger("mouseenter");for(var r=this,n=0;n<r.columns.records.length;n++)r.columns.records[n].datafield!=t&&e(r.columns.records[n].element).trigger("mouseleave");setTimeout(function(){"block"==e(s)[0].style.display&&e(s).trigger("click"),r._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){null!=this.gridmenu&&this.gridmenu.jqxMenu("close");var t=e.data(document.body,"contextmenu"+this.element.id);if(null!=t&&this.autoshowcolumnsmenubutton){if(this.enableanimations){e(t.columnsmenu).animate({"margin-left":0},"fast",function(){e(t.columnsmenu).css("display","none")});var i=this.rtl?0:-32;t.column.iconscontainer.animate({"margin-left":i},"fast")}else{e(t.columnsmenu).css("display","none");var i=this.rtl?0:-32;t.column.iconscontainer.css("margin-left",i)}e.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1;var s=this._getmenuitembyindex(5);if(s){var r=e(s).find("#filter1"+this.element.id),n=e(s).find("#filter2"+this.element.id),a=e(s).find("#filter3"+this.element.id);r.length>0&&"default"===this.filtermode&&(r.jqxDropDownList("hideListBox"),n.jqxDropDownList("hideListBox"),a.jqxDropDownList("hideListBox"))}}},scrolloffset:function(e,t){null!=e&&null!=t&&void 0!=e&&void 0!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&void 0!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&void 0!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginupdate:function(e){this._updating=!0,this._datachanged=!1,e===!0&&(this._batchupdate=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void this.render();if(1==this._datachanged){var e=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=e&&e<this.vScrollInstance.max&&this.scrolltop(e)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block")},hideloadelement:function(){e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var e=this.that;e.focusedfilter&&(e.focusedfilter.focus(),setTimeout(function(){if(e.focusedfilter.focus(),"input"==e.focusedfilter[0].nodeName.toLowerCase()){var t=e.focusedfilter.val().length;try{if("selectionStart"in e.focusedfilter[0])e.focusedfilter[0].setSelectionRange(t,t);else{var i=e.focusedfilter[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}catch(s){}}},10))},databind:function(t,i){if(this.loadingstate!==!0){"block"==this.host.css("display")&&(this.autoshowloadelement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var s=this.that;null==t&&(t={}),t.recordstartindex||(t.recordstartindex=0),t.recordendindex||(t.recordendindex=0),(void 0==t.loadallrecords||null==t.loadallrecords)&&(t.loadallrecords=!0),(void 0==t.sortcomparer||null==t.sortcomparer)&&(t.sortcomparer=null),(void 0==t.filter||null==t.filter)&&(t.filter=null),(void 0==t.sort||null==t.sort)&&(t.sort=null),(void 0==t.data||null==t.data)&&(t.data=null);var r=null;if(null!=t&&(r=void 0!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataview,e.jqx.dataview.sort&&e.extend(this.dataview,new e.jqx.dataview.sort),e.jqx.dataview.grouping&&e.extend(this.dataview,new e.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!s.initializedcall){if(t._source&&this.sortable&&(void 0!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),void 0!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var n=t._source.sortdirection;if("a"==n||"asc"==n||"ascending"==n||1==n)var a=!0;else var a=!1;this.sortdirection=null!=n?{ascending:a,descending:!a}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(void 0!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),void 0!=t._source.pagesize?(this.pagesize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection)),this.filterable&&this.columns&&e.each(this.columns,function(){this.filter&&s.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0,this.dataview.update=function(t){if(!s.pageable&&s.virtualmode&&(s.loadondemand=!0),s._loading=!1,s.dataview.isupdating()&&s.dataview.resumeupdate(!1),s.pageable&&s.pagerrenderer){if(!s._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");s._initpager()}if(s.source&&s.source.sortcolumn&&s.sortby&&!s.virtualmode)s.render(),s.source._source.sort||s.sortby(s.source.sortcolumn,s.source.sortdirection,s.source.sortcomparer),s.source.sortcolumn=null;
else{var r=s.vScrollInstance.value,n=s.hScrollInstance.value,a=s.source?s.source.datatype:"array";if("local"!=a||"array"!=a){var o=null==s.virtualsizeinfo||null!=s.virtualsizeinfo&&0==s.virtualsizeinfo.virtualheight;if("cells"==i){var l=!1;if(s.filterable&&s._initfilterpanel&&s.dataview.filters.length&&(l=!0),0==t)return s.vScrollInstance.isScrolling()||s.hScrollInstance.isScrolling()||(s._cellscache=new Array,s._pagescache=new Array,s._renderrows(s.virtualsizeinfo),s.showfilterrow&&s.filterable&&s.filterrow&&s._updatelistfilters(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates()),s.sortcolumn&&s.sortby(s.sortcolumn,s.dataview.sortfielddirection,s.source.sortcomparer),s.autoshowloadelement&&(e(s.dataloadelement).css("visibility","hidden"),e(s.dataloadelement).css("display","none")),void(s.virtualmode&&!s._loading&&(s.loadondemand=!0,s._renderrows(s.virtualsizeinfo)));l?i="filter":void 0!=s.sortcolumn&&(i="sort")}!s.virtualmode||o||s.virtualmode&&s.pageable?1==s.initializedcall&&"pagechanged"==i?(r=0,s.groupable&&s.groups.length>0?(s._render(!0,!0,!1,!1,!1),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo)):(s.rendergridcontent(!0),s.pageable&&s.updatepagerdetails&&(s.updatepagerdetails(),s.autoheight?(s._updatepageviews(),s.autorowheight&&s._renderrows(this.virtualsizeinfo)):s.autorowheight&&(s._updatepageviews(),s._renderrows(this.virtualsizeinfo)))),s.showaggregates&&s._updateaggregates&&s._updateaggregates()):"filter"==i?s.virtualmode?(s._render(!0,!0,!1,!1,!1),s._updatefocusedfilter(),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo)):s._render(!0,!0,!1,!1,!1):"sort"==i?(s.virtualmode?(s.rendergridcontent(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates()):(s._render(!0,!0,!1,!1,!1),s.sortcolumn&&!s.source.sort&&s.sortby(s.sortcolumn,s.dataview.sortfielddirection,s.source.sortcomparer)),s.source.sort&&s._updatefocusedfilter()):"data"==i?s._render(!0,!0,!1,!1,!1):"state"==i?s._render(!0,!0,!1,s.menuitemsarray&&s.menuitemsarray.length>0&&!s.virtualmode):s._render(!0,!0,!0,s.menuitemsarray&&s.menuitemsarray.length>0&&!s.virtualmode):s.virtualmode&&1==t&&!s.pageable?(s._render(!0,!0,!1,!1,!1),s._updatefocusedfilter(),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo)):s.virtualmode&&!s.pageable&&0==t&&void 0!=i?(s.rendergridcontent(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates()):s.virtualmode&&0==s.dataview.totalrecords&&s.dataview.filters.length>0?s._render(!0,!0,!0,s.menuitemsarray&&!s.virtualmode):(s._pagescache=new Array,s._renderrows(s.virtualsizeinfo)),s.vScrollInstance.value!=r&&r<=s.vScrollInstance.max&&s.vScrollInstance.setPosition(r),s.hScrollInstance.value!=n&&n<=s.hScrollInstance.max&&s.hScrollInstance.setPosition(n)}}if(s.autoshowloadelement&&(e(s.dataloadelement).css("visibility","hidden"),e(s.dataloadelement).css("display","none")),s.pageable&&(s.pagerrightbutton&&(s.pagerrightbutton.jqxButton({disabled:!1}),s.pagerleftbutton.jqxButton({disabled:!1}),s.pagershowrowscombo.jqxDropDownList({disabled:!1})),s.pagerfirstbutton&&(s.pagerfirstbutton.jqxButton({disabled:!1}),s.pagerlastbutton.jqxButton({disabled:!1}))),s._raiseEvent(11),s.initializedcall)s._updateTouchScrolling();else{var d=function(){s._raiseEvent(0),s.initializedcall=!0,s.isInitialized=!0,s.ready&&s.ready(),s.renderstatusbar&&s.renderstatusbar(s.statusbar),s.rendertoolbar&&s.rendertoolbar(s.toolbar),s.autoloadstate&&s.loadstate&&s.loadstate(null,!0)};if(e.jqx.isHidden(s.host)?(s.readyInterval&&clearInterval(s.readyInterval),s.readyInterval=setInterval(function(){e.jqx.isHidden(s.host)||s.__isRendered&&(clearInterval(s.readyInterval),s.readyInterval=null,d(),s._initmenu())},200)):d(),null!=s.width&&-1!=s.width.toString().indexOf("%")||null!=s.height&&-1!=s.height.toString().indexOf("%"),"hidden"==s.host.css("visibility")){{e.jqx.browser.msie&&e.jqx.browser.version<8}"visible"==s.vScrollBar.css("visibility")&&s.vScrollBar.css("visibility","inherit"),s.autowidth||"visible"==s.hScrollBar.css("visibility")&&s.hScrollBar.css("visibility","inherit"),s._intervalTimer=setInterval(function(){"visible"==s.host.css("visibility")&&(s._updatesize(!0),clearInterval(s._intervalTimer))},100)}}},this.dataview.databind(t),this.dataview.isupdating()&&(void 0!=r?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(e,t){void 0!=e&&this.hScrollInstance.setPosition(e),void 0!=t&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(e){if(this.autoheight&&!this.pageable)return!0;var t=this._getpagesize(),i=Math.floor(e/t);if(this._pageviews[i]||this.pageable||this._updatepageviews(),this.groupable&&this.groups.length>0)return!0;var s=!1;if(this.pageable&&this.gotopage&&!this.virtualmode){var i=Math.floor(e/t);if(this.dataview.pagenum!=i){if(this.groupable&&this.groups.length>0)return!0;this.gotopage(i),s=!0}}var r=this.vScrollInstance.value,n=this._gettableheight()-this.rowsheight,a=t*(e/t-i);if(a=Math.round(a),this._pageviews[i]){var o=this._pageviews[i].top,l=o+a*this.rowsheight;if(this.rowdetails)for(var d=t*i;e>d;d++)this.details[d]&&0==this.details[d].rowdetailshidden&&(l+=this.details[d].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=l+this.rowsheight&&(l=this.vScrollInstance.max),r>l?(this.scrolltop(l),s=!0):l>r+n+2&&(this.scrolltop(l-n),s=!0)}else if(this.pageable){var l=a*this.rowsheight;if(this.rowdetails)for(var d=t*i;t*i+a>d;d++)this.details[d]&&0==this.details[d].rowdetailshidden&&(l+=this.details[d].rowdetailsheight);(r>l||l>r+n)&&(this.scrollto(0,l),s=!0)}return s},ensurecellvisible:function(t,i){var s=this.that,r=this.hScrollBar.jqxScrollBar("value"),n=s.hScrollInstance.max;s.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(n=0);var a=this.ensurerowvisible(t),o=0;if(this.columns.records){var l=r;if("hidden"==this.hScrollBar.css("visibility"))return;var d=this.host.width(),h=0,c="visible"==this.vScrollBar.css("visibility")?20:0,u=!1;e.each(this.columns.records,function(){if(this.hidden)return!0;if(this.datafield==i){var e=0,t=s.rtl?n-r:l;return o+this.width>t+d-c?(e=o+this.width-d+c,s.rtl&&(e=n-e),s.scrollleft(e),u=!0):t>=o&&(e=o-this.width,s.rtl&&(e=n-e),s.scrollleft(e),u=!0),0==h?(s.scrollleft(s.rtl?n:0),u=!0):h==s.columns.records.length-1&&"visible"==s.hScrollBar.css("visibility")&&(s.scrollleft(s.rtl?s.hScrollBar.jqxScrollBar("min"):s.hScrollBar.jqxScrollBar("max")),u=!0),!1}h++,o+=this.width}),u||s.scrollleft(l)}return a},setrowheight:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return null==e||null==t?!1:(this.heightboundrows[e]={index:e,height:t},e=this.getrowvisibleindex(e),0>e?!1:(this.rows.records[e]?this.rows.records[e].height=t:(row=new i(this,null),row.height=t,this.rows.replace(e,row)),this.heights[e]=t,this.rendergridcontent(!0),!0))},getrowheight:function(e){return null==e?null:(e=this.getrowvisibleindex(e),0>e?!1:this.rows.records[e]?this.rows.records[e].height:void 0)},setrowdetails:function(t,i,s,r){if(!(void 0==t||null==t||0>t)){var n=t+"_";if(this._rowdetailscache[n]){var a=this._rowdetailscache[n].element;e(a).remove(),this._rowdetailscache[n]=null}var o=this.dataview.generatekey();return this.detailboundrows[t]={index:t,details:{rowdetails:i,rowdetailsheight:s,rowdetailshidden:r,key:o}},t=this.getrowvisibleindex(t),0>t?!1:this._setrowdetails(t,i,s,r,o)}},getcolumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){return this.datafield==t||this.displayfield==t?(i=this,!1):void 0}),i},_getcolumnindex:function(t){var i=-1;return this.columns.records&&e.each(this.columns.records,function(){return i++,this.datafield==t?!1:void 0}),i},_getcolumnat:function(e){var t=this.columns.records[e];return t},_getprevvisiblecolumn:function(e){for(var t=this.that;e>0;){e--;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},_getnextvisiblecolumn:function(e){for(var t=this.that;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},getcolumnat:function(e){if(!isNaN(e)){var t=this.columns.records[e];return t}return null},_getcolumn:function(t){var i=null;return e.each(this._columns,function(){return this.datafield==t||this.displayfield==t?(i=this,!1):void 0}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var s=this.getcolumn(e);if(null!=s){var r=s[t];s[t]=i;var n=this._getcolumn(e);switch(null!=n&&(n[t]=i),this._cellscache=new Array,t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo);break;case"editable":case"resizable":case"draggable":if("editable"==t&&i!=r){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==s.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==t&&(this._initializeColumns(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1;"hidden"==t&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;s._width=null,s._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(e,t){if(null==e||null==t)return null;t=t.toLowerCase();var i=this.getcolumn(e);return i[t]},setcolumnproperty:function(e,t,i){this._setcolumnproperty(e,t,i)},getcolumnproperty:function(e,t){return this._getcolumnproperty(e,t)},hidecolumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showcolumn:function(e){this._setcolumnproperty(e,"hidden",!1)},iscolumnvisible:function(e){return!this._getcolumnproperty(e,"hidden")},pincolumn:function(e){this._setcolumnproperty(e,"pinned",!0)},unpincolumn:function(e){this._setcolumnproperty(e,"pinned",!1)},iscolumnpinned:function(e){return this._getcolumnproperty(e,"pinned")},_setrowdetails:function(e,t,i,s,r){if(0==i&&(i=100),null==e||null==i)return!1;if(null!=r)this.details[e]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,detailskey:r};else{for(var n=null!=this.details[e]?this.details[e].detailskey:null,a={rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,detailskey:n},o=(this.that,0);o<this.detailboundrows.length;o++)if(void 0!=this.detailboundrows[o]){var l=this.detailboundrows[o];if(l.details.detailskey==n){l.details.rowdetailsheight=a.rowdetailsheight,l.details.rowdetailshidden=a.rowdetailshidden,l.details.rowdetails=a.rowdetails;break}}this.details[e]=a}return this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0},getrowdetails:function(e){return null==e?!1:(e=this.getrowvisibleindex(e),this._getrowdetails(e))},_getrowdetails:function(e){return null==e?!1:0>e?!1:this.details[e]?this.details[e]:this.rowdetailstemplate?this.rowdetailstemplate:void 0},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e)return!1;if(e=this.getrowvisibleindex(e),0>e)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!1)},hiderowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(e=this.getrowvisibleindex(e),0>e)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!0)},_togglerowdetails:function(e){var t=e.visibleindex,i=this._getrowdetails(t);if(null!=i){var s=this.vScrollInstance.value,r=!i.rowdetailshidden,n=this._setrowdetailsvisibility(t,i,r);return 0!==s&&"hidden"!==this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(s<=this.vScrollInstance.max?s:this.vScrollInstance.max),n}return!1},_setrowdetailsvisibility:function(e,t,i){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[e])){this.details[e]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var s=this.dataview.generatekey();this.details[e].detailskey=s,this.detailboundrows[e]={index:e,details:this.details[e]}}if(null==t)return!1;this.details[e].rowdetailshidden=i;var r=this.details[e];return i?this._raiseEvent(21,{rowindex:e,details:r.rowdetails,height:r.rowdetailsheight}):this._raiseEvent(20,{rowindex:e,details:r.rowdetails,height:r.rowdetailsheight}),this._setrowdetails(e,r.rowdetails,r.rowdetailsheight,r.rowdetailshidden)},getrowvisibleindex:function(e){if(void 0==e||null==e||0>e)return!1;if(this.virtualmode){var t=this.dataview.loadedrecords[e];return void 0==t?-1:t.visibleindex}return this.getrowdisplayindex(e)},hiderow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return void 0==e||null==e||0>e?!1:null==e?!1:(this.hiddenboundrows[e]={index:e,hidden:!0},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!0))},showrow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return void 0==e||null==e||0>e?!1:null==e?!1:(this.hiddenboundrows[e]={index:e,hidden:!1},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!1))},isrowhiddenat:function(e){return null==e?null:(e=this.getrowvisibleindex(e),this.rows.records[e]?this.rows.records[e].hidden:void 0)},_setrowvisibility:function(e,t,i){return null==e?!1:(this.hiddens[e]=t,void 0==i||i?(this.rendergridcontent(!0),!0):!1)},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var e=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&void 0!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var t=this.that,s=new Array,r=new Array,n=t.groupable&&t.groups.length>0,a=(this.dataview.totalrecords,this.virtualsizeinfo.virtualheight,0);this.rows.beginupdate();var o=this.dataview.pagesize;this.pageable&&n&&(o=this.dataview.rows.length);for(var l=0;o>l&&!(l>=this.dataview.rows.length);l++){var d=this.dataview.rows[l],h=null;t.rows.records[d.visibleindex]?(h=t.rows.records[d.visibleindex],h.setdata(d)):h=new i(t,d),h.hidden=this.hiddens[h.visibleindex],this.rowdetailstemplate&&(h.rowdetails=this.rowdetailstemplate.rowdetails,h.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,h.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden);var c=this.details[h.visibleindex];if(c?(h.rowdetails=c.rowdetails,h.rowdetailsheight=c.rowdetailsheight,h.rowdetailshidden=c.rowdetailshidden):this.rowdetailstemplate||(h.rowdetails=null),n&&this.pageable&&null!=h.parentbounddata){var u=s[h.parentbounddata.uniqueid];if(null!=u){var p=this._findgroupstate(u.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,h.parentbounddata,!p,!1),h.hidden=this.hiddens[h.visibleindex]}null!=u&&void 0!=u&&(h.parentrow=u,u.subrows[u.subrows.length++]=h)}if(!h.hidden){var f=d.visibleindex;this.heights[f]||(this.heights[f]=this.rowsheight),h.height=this.heights[f],this.rowdetails&&h.rowdetails&&!h.rowdetailshidden&&(h.height+=h.rowdetailsheight),s[h.uniqueid]=h,r[a++]=h,h.top=e,e+=h.height;var m=f;t.rows.replace(m,h)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=e),this.rows.resumeupdate(),r.length>0&&(this._pagescache[this.dataview.pagenum]=r)}}},_gettableheight:function(){if(void 0!=this.tableheight)return this.tableheight;var e=this.host.height();if(this.columnsheader){var t=this.columnsheader.outerHeight();this.showheader||(t=0)}return e-=t,"visible"==this.hScrollBar[0].style.visibility&&(e-=this.hScrollBar.outerHeight()),this.pageable&&(e-=this.pager.outerHeight()),this._groupsheader()&&(e-=this.groupsheader.outerHeight()),this.showtoolbar&&(e-=this.toolbarheight),this.showstatusbar&&(e-=this.statusbarheight),e>0?(this.tableheight=e,e):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight,t=Math.round(e/this.rowsheight);return t}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){var e=(this.that,Math.round(this.host.height())+2*this.rowsheight);realheight=this._gettableheight();var t=Math.round(e/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var i=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(i=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?i=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(i=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var s=i*this.rowsheight,r=0,n=0,a=0,o=this._getpagesize(),l=o*this.rowsheight,d=0;if(!this.pageable&&this.autoheight&&(t=i),i+o>0)for(;i+o>=d;){if(r+=l,i>d-o&&d>=i){var h=d-i;h>0&&(a-=l,this._pageviews[n-1]={top:a,height:l-h*this.rowsheight});break}this._pageviews[n++]={top:a,height:l},a=r,d+=o}return 1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),s>realheight&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),this.vScrollBar.jqxScrollBar("deferred"==this.scrollmode?{max:s}:{max:s-realheight})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=o,this.dataview.updateview(),{visiblerecords:t,virtualheight:s}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var e=this.that,t=Math.round(this.host.height())+2*this.rowsheight,i=Math.round(t/this.rowsheight),s=Math.max(this.dataview.totalrows,this.dataview.totalrecords),r=s*this.rowsheight,n=0,a=0,o=0,l=0,d=0,h=this._getpagesize();if(this.pageable)this._updatepagedview&&(r=this._updatepagedview(s,r,0)),this.autoheight&&this._arrange();else for(var c=0;s>c;c++){var u={index:c,height:this.heights[c],hidden:this.hiddens[c],details:this.details[c]};if(void 0==this.heights[c]&&(this.heights[c]=this.rowsheight,u.height=this.rowsheight),void 0==this.hiddens[c]&&(this.hiddens[c]=!1,u.hidden=!1),void 0==this.details[c]&&(this.details[c]=null),u.height!=e.rowsheight&&(r-=e.rowsheight,r+=u.height),u.hidden)r-=u.height;else{a+=u.height;var p=0;this.rowdetails&&(this.rowdetailstemplate&&(u.details||(u.details=this.rowdetailstemplate)),u.details&&u.details.rowdetails&&!u.details.rowdetailshidden&&(p=u.details.rowdetailsheight,a+=p,r+=p)),n+=u.height+p}d++,(d>=h||c==s-1)&&(this._pageviews[o++]={top:l,height:a},a=0,l=n,d=0)}var f=this._gettableheight();if(r>f)if(this.pageable&&this.gotopage&&(r=this._pageviews[0].height,0>r&&(r=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(f>=r||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),r-f>0)if("deferred"!=this.scrollmode){var m=r-f,g=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:m}),m!=g&&this.vScrollBar.jqxScrollBar({value:0})}else this.vScrollBar.jqxScrollBar({value:0,max:r});else this.vScrollBar.jqxScrollBar({value:0,max:r});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(i=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:i,virtualheight:r}}},updatebounddata:function(e){"data"==e||"sort"==e||"filter"==e||"cells"==e||"pagechanged"==e||"pagesizechanged"==e||this.virtualmode||(this.virtualsizeinfo=null,this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())),this.databind(this.source,e)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var e=this._pageviews[0].height;(this.virtualmode||!this.pageable)&&(e=this.virtualsizeinfo.virtualheight);var t=this._gettableheight();if(e>t)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height,0>e&&(e=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(t>=e||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),e-t>0){var i=e-t;this.vScrollBar.jqxScrollBar({max:i})}else this.vScrollBar.jqxScrollBar({value:0,max:e});else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var e=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var t=this,i=0;i<this.columngroups.length;i++)this.columngroups[i].parent=null,this.columngroups[i].groups=null;for(var i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;for(var s=function(e){for(var i=0;i<t.columngroups.length;i++){var s=t.columngroups[i];if(s.name===e)return s}return null},i=0;i<this.columngroups.length;i++){var r=this.columngroups[i];if(r.groups||(r.groups=null),r.parentgroup){var n=s(r.parentgroup);n&&(r.parent=n,n.groups||(n.groups=new Array),-1===n.groups.indexOf(r)&&n.groups.push(r))}}for(var i=0;i<this.columns.records.length;i++){var r=this.columns.records[i];if(r.columngroup){var n=s(r.columngroup);n&&(n.groups||(n.groups=new Array),r.parent=n,-1===n.groups.indexOf(r)&&n.groups.push(r))}}for(var a=0,i=0;i<this.columns.records.length;i++){var r=this.columns.records[i],o=r;for(r.level=0;o.parent;)o=o.parent,r.level++;var o=r,l=r.level;for(a=Math.max(a,r.level);o.parent;)o=o.parent,o&&(o.level=--l)}for(var d=function(e){var t=new Array;if(e.columngroup&&t.push(e),e.groups)for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=d(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t},i=0;i<this.columngroups.length;i++){var r=this.columngroups[i],h=d(r);r.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return e=parseInt(e),t=parseInt(t),t>e?-1:e>t?1:0});for(var f=1;f<c.length;f++)if(c[f]!=c[f-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+a,e=this.columngroupslevel*this.columnsheight}return e},_render:function(t,i,s,r,n){if(null!=this.dataview&&!this._loading&&!this._batchupdate){if(e.jqx.isHidden(this.host)){var a=this;return a.___hiddenTimer&&(clearInterval(a.___hiddenTimer),a.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){e.jqx.isHidden(a.host)||(clearInterval(a.___hiddenTimer),a.render())},300))}if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=void 0!=i?i:!0,this._newmax=null,s)if(this._requiresupdate||0!=r&&this._initmenu(),null==this.columns)this.columns=new e.jqx.collection(this.element);else{var o=this;this.columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(e){var t=function(){o.columns=o._columns,o.render()};switch(e.type){case"add":t();break;case"update":if("index"===e.name){o.beginupdate();for(var i in e.newValue)o.setcolumnproperty(e.newValue.datafield,i,e.newValue[i]);o.endupdate()}else{var s=e.path.split(".");o.setcolumnproperty(o.columns[s[0]].datafield,e.name,e.newValue)}break;case"delete":t()}}),this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(){o.render()}),this._initializeColumns()}this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==r&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,e.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),s?(this.filterrow&&this.filterrow.detach(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&e.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var l=this.columnsheight;if(l=this._preparecolumngroups(),this.columnsheader.height(this.showfilterrow&&this.filterable?l+this.filterrowheight:l),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||e("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,s),this.groups.length>0&&this.groupable){var d=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=d&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(void 0==n||1==n)&&this._updatelistfilters(!s),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){if(this.autoheight)return this._overlayElement&&this._overlayElement.remove(),void this._updateTouchScrolling();var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=e("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",18e3),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var i=0;"checkbox"==this.selectionmode&&(i+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var s=this._overlayElement.css("left");this._overlayElement.css("left",s+i)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=e("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",18e3),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=e("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",18005),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},rendergridcontent:function(e,t){if(this.updating())return!1;(void 0==e||null==e)&&(e=!1),this._requiresupdate=e;var i=this.prerenderrequired;this.prerenderrequired&&this._arrange();var s=this.that,t=t;if((null==t||void 0==t)&&(t=!0),this.tableheight=null,s.virtualsizeinfo=s.virtualsizeinfo||s._calculatevirtualheight(),s.pageable&&!s.autoheight&&s.dataview.totalrows<s.pagesize&&(s._requiresupdate=!0),t?s._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),s._renderrows(s.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),i){var r=this.tableheight;this._arrange(),r!=this.tableheight&&this.autoheight&&s._renderrows(s.virtualsizeinfo)}return this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),!0},_updatecolumnwidths:function(){var t=this.host.width(),i=t,s="";if(void 0!=this.columns&&void 0!=this.columns.records){var r=this.that,n=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;e.each(this.columns.records,function(e,a){if(!this.hidden||!this.hideable)if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var a=0,o="hidden"==r.vScrollBar[0].style.visibility?0:r.scrollbarsize+5;r.scrollbarautoshow&&(o=0);var l=i;a=parseFloat(this.width)*l/100,o+=n,void 0!=this._percentagewidth&&(a=parseFloat(this._percentagewidth)*(l-o)/100),a<this.minwidth&&"auto"!=this.minwidth&&(a=this.minwidth),a>this.maxwidth&&"auto"!=this.maxwidth&&(a=this.maxwidth),t-=a}else"auto"==this.width||this._width?s+=this.text:t-=this.width});var a=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>a)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var o=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var l=0;l<this.dataview.rows.length;l++)this.dataview.rows[l].group&&0===this.dataview.rows[l].level&&(o+=this.rowsheight);o>a?(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5)
}else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5;else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5;var n=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(i-=n,this.columnsheader){var d=this.columnsheader.find("#columntable"+this.element.id);if(0!=d.length){var h=d.find(".jqx-grid-column-header"),c=0;e.each(this.columns.records,function(r){var n=e(h[r]),a=!1,o=this.width;if((-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)&&(o=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,a=!0),"auto"==this.width||this._width||a)if(a)o<this.minwidth&&"auto"!=this.minwidth&&(o=this.minwidth,this.width=o),o>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth,this.width=o),parseInt(n[0].style.width)!=o&&(n.width(o),this.width=o);else{var l=Math.floor(t*(this.text.length/s.length));isNaN(l)&&(l=this.minwidth),1/0==l&&(l=0),0>l&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),l=10+$element.width(),$element.remove()),l<this.minwidth&&(l=this.minwidth),l>this.maxwidth&&(l=this.maxwidth),this._width="auto",this.width=l,n.width(this.width)}else parseInt(n[0].style.width)!=this.width&&n.width(this.width);parseInt(n[0].style.left)!=c&&n.css("left",c),this.hidden&&this.hideable||(c+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+c),d.width(this.columnsheader.width()),this.columnsheader[0].style.visibility=0==c?"hidden":"inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var t=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),void(this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var s=0,r=0,n="",a=this.host.width(),o=a,l=new Array,d=new Array,h=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(e.each(this.columns.records,function(e,i){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)n+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)a-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)a-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var i=0,s="hidden"==t.vScrollBar[0].style.visibility?0:t.scrollbarsize+5;s+=h,i=parseFloat(this.width)*(o-s)/100,i<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),a-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),a-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),l[l.length]=this):d[d.length]=this}),this.rtl){var c=0;l.reverse();for(var u=this.columns.records.length-1;u>=this.columns.records.length-l.length;u--)this.columns.replace(u,l[c++]);for(var p=0;p<d.length;p++)this.columns.replace(p,d[p])}else{for(var u=0;u<l.length;u++)this.columns.replace(u,l[u]);for(var p=0;p<d.length;p++)this.columns.replace(l.length+p,d[p])}var f=this.headerZIndex,m=t.groupable?t.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&m++;var g=t.columnsheader.height();this.showfilterrow&&(this.columngroups?g-=this.filterrowheight:g=this.columnsheight);var v=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>v&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var b=0;if(this.pageable){if(this.pageable)for(var x=0;x<this.dataview.rows.length;x++)this.dataview.rows[x].group&&0===this.dataview.rows[x].level&&(b+=this.rowsheight)}else var b=this.dataview.loadedrootgroups.length*this.rowsheight;b>v&&(a-=this.scrollbarsize+5,o-=this.scrollbarsize+5)}else a-=this.scrollbarsize+5,o-=this.scrollbarsize+5;else this.autoheight||(a-=this.scrollbarsize+5,o-=this.scrollbarsize+5);o-=h;var w=function(e,i){var s=t.columngroupslevel*t.columnsheight;return s-=i.level*t.columnsheight};if(e.each(this.columns.records,function(l){this.height=t.columnsheight,t.columngroups&&t.columngroups.length&&(this.height=w(this.datafield,this),g=this.height);var d=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(d+=" "+t.toTP("jqx-grid-column-header-rtl"));var h=t.rtl?150+f+1:150+f-1,c=t.rtl?f++:f--,u=e('<div role="columnheader" style="z-index: '+c+';position: absolute; height: 100%;" class="'+d+'"><div style="height: 100%; width: 100%;"></div></div>');t.columngroups&&(u[0].style.height=g+"px",u[0].style.bottom="0px",this.pinned&&(u[0].style.zIndex=h)),this.uielement=u,""!=this.classname&&this.classname&&u.addClass(this.classname);var p=this.width,v=!1;if(null===this.width&&(this.width="auto"),(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)&&(p=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*o/100:parseFloat(this.width)*o/100,v=!0),"auto"==this.width||this._width||v){if(v)p<this.minwidth&&"auto"!=this.minwidth&&(p=this.minwidth),p>this.maxwidth&&"auto"!=this.maxwidth&&(p=this.maxwidth),(void 0==this._percentagewidth||-1!=this.width.toString().indexOf("%"))&&(this._percentagewidth=this.width),u.width(p),this.width=p;else if(!this.hidden){var b=Math.floor(a*(this.text.length/n.length));isNaN(b)&&(b=this.minwidth),0>b&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),b=10+$element.width(),$element.remove()),b<this.minwidth&&(b=this.minwidth),b>this.maxwidth&&(b=this.maxwidth),this._width="auto",this.width=b,p=this.width,u.width(this.width)}}else p<this.minwidth&&"auto"!=this.minwidth&&(p=this.minwidth,this.width=p),p>this.maxwidth&&"auto"!=this.maxwidth&&(p=this.maxwidth,this.width=p),u[0].style.width=parseInt(p)+"px";this.hidden&&this.hideable&&u.css("display","none");var x=e(u.children()[0]),y=t.rtl?t.toTP("jqx-grid-column-menubutton")+" "+t.toTP("jqx-grid-column-menubutton-rtl"):t.toTP("jqx-grid-column-menubutton");y+=" "+t.toTP("jqx-icon-arrow-down");var _=e('<div style="height: '+g+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+y+'" style="width: 100%; height:100%;"></div></div>');t.enableanimations||_.css("margin-left",-16),t.rtl&&_.css("left","0px"),this.columnsmenu=_[0],i[0].cells[l]=u[0],_[0].style.width=parseInt(t.columnsmenuwidth)+"px";var j=t.columnsmenu,q=!1,k=!1,I=t.groupable&&m>0&&m>s||t.rowdetails&&m>s;if(t.rtl&&(I=t.groupable&&m>0&&m>s||t.rowdetails&&m>s,I&=l>t.columns.records.length-1-m),I)s++,j&=!1,this.sortable=!1,this.editable=!1,k=!0;else{var T=null!=this.renderer?this.renderer(this.text,this.align,g):t._rendercolumnheader(this.text,this.align,g,t);null==T&&(T=t._rendercolumnheader(this.text,this.align,g,t)),null!=this.renderer&&(T=e(T)),j&=!0,q=!0}if(t.WinJS?MSApp.execUnsafeLocalFunction(function(){x.append(e(T))}):this.renderer?x.append(e(T)):T&&(x[0].innerHTML=T),null!=T){var C=e('<div class="iconscontainer" style="height: '+g+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+" "+t.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');_.addClass(t.toTP("jqx-widget-header")),x.append(C);var S=C.children();this.sortasc=S[1],this.sortdesc=S[2],this.filtericon=S[0],this.iconscontainer=C,t.rtl&&(C.css("margin-left","0px"),C.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left")),!t.autoshowfiltericon&&this.filterable&&e(this.filtericon).css("display","block")}if(this.element=u[0],j&&(t._handlecolumnsmenu(t,x,u,_,this),this.menu||_.hide()),i.append(u),t.groupable&&q){if(u[0].id=t.dataview.generatekey(),!t._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");t._handlecolumnstogroupsdragdrop(this,u)}t.columnsreorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,u);var D=this;if(t.addHandler(u,"click",function(e){return D.checkboxcolumn?!0:(t.sorttogglestates>0&&t._togglesort&&(t._loading||t._togglesort(D)),e.preventDefault(),void t._raiseEvent(7,{column:D.getcolumnproperties(),datafield:D.datafield,originalEvent:e}))}),D.resizable&&t.columnsresize&&!k){var P=!1,E="mousemove";t.isTouchDevice()&&t.touchmode!==!0&&(P=!0,E=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(u,E,function(i){var s=parseInt(i.pageX),r=5,n=parseInt(u.coord().left);if(t.hasTransform&&(n=e.jqx.utilities.getOffset(u).left),t.resizing)return!0;if(t._handlecolumnsresize){if(P){var a=t.getTouches(i),o=a[0];return s=o.pageX,r=40,s>=n+D.width-r?(t.resizablecolumn={columnelement:u,column:D},u.css("cursor","col-resize")):(u.css("cursor",""),t.resizablecolumn=null),!0}var l=D.width;if(t.rtl&&(l=0),s>=n+l-r){if(n+l+r>=s)return t.resizablecolumn={columnelement:u,column:D},u.css("cursor","col-resize"),!1;u.css("cursor",""),t.resizablecolumn=null}else u.css("cursor",""),n+l-r>s&&(D._animating||D._menuvisible||u.mouseenter()),t.resizablecolumn=null}})}if(u.css("left",r),this.hidden&&this.hideable||(r+=p),D.rendered){var H=D.rendered(e(x[0].firstChild),D.align,g);H&&null!=C&&C.hide()}if(D.checkboxcolumn){if(C&&C.hide(),!t.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");x.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>');var B=x.find("div:first");B.jqxCheckBox({_canFocus:!1,disabled:t.disabled,disabledContainer:!0,theme:t.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0}),D.checkboxelement=B;var A=B.data().jqxCheckBox.instance;t._checkboxcolumn=D,A.updated=function(e,i,s){t._checkboxcolumnupdating=!0,t.disabled&&(B.jqxCheckBox({disabled:t.disabled}),i=s),i?t.selectallrows():t.unselectallrows(),t._checkboxcolumnupdating=!1}}}),this.columnsheader.width(r>0?2+r:r),this.columnsrow=i,t.columnsheader.append(i),this.showfilterrow&&this._updatefilterrow){if(i.height(this.columngroups?this.columngroupslevel*this.columnsheight:this.columnsheight),!this.filterrow){var y=e("<div></div>");y[0].id="filterrow."+this.element.id,y.height(this.filterrowheight),this.filterrow=y}this.filterrow.width(2+r),this.columnsheader.append(this.filterrow),this._updatefilterrow()}i[0].style.visibility=0==r?"hidden":"inherit",i.width(r),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var s=this.headerZIndex-t+this.columns.records.length,r=this.that,n=r.toTP("jqx-grid-column-header")+" "+r.toTP("jqx-grid-columngroup-header")+" "+r.toTP("jqx-widget-header");r.rtl&&(n+=" "+r.toTP("jqx-grid-columngroup-header-rtl"));var a=this.columnsheader.find("#columntable"+this.element.id);a.find("jqx-grid-columngroup-header").remove();for(var o=0;o<this.columngroupslevel-1;o++)for(var i=0;i<this.columngroups.length;i++){var l=this.columngroups[i],d=l.level;if(d===o){var h=d*this.columnsheight,c=99999;if(l.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=u(s):s.hidden||(t+=s.width,c=Math.min(parseFloat(s.element.style.left),c))}return t};l.width=u(l),l.left=c;var p=this.columnsheight,f=s--,m=e('<div role="columnheader" style="z-index: '+f+';position: absolute;" class="'+n+'"></div>'),g=e(this._rendercolumnheader(l.text,l.align,this.columnsheight,this));if(l.renderer){var g=e("<div style='height: 100%; width: 100%;'></div>"),v=l.renderer(l.text,l.align,p);g.html(v)}m.append(g),m[0].style.left=c+"px",0===c&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=h+"px",m[0].style.height=p+"px",m[0].style.width=-1+l.width+"px",a.append(m),l.element=m,l.rendered&&l.rendered(g,l.align,p)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var e=0;e<this.columngroups.length;e++){var t=this.columngroups[e],i=t.level,s=i*this.columnsheight,r=99999;if(t.groups){var n=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=n(s):s.hidden||(t+=s.width,r=Math.min(parseFloat(s.element.style.left),r))}return t};t.width=n(t),t.left=r;var a=this.columnsheight,o=t.element;o[0].style.left=r+"px",o[0].style.top=s+"px",o[0].style.height=a+"px",o[0].style.width=-1+t.width+"px"}}},_handlecolumnsmenu:function(t,i,s,r,n){t.dragmousedown=null,r[0].id=t.dataview.generatekey(),i.append(r),s[0].columnsmenu=r[0],n.element=s[0];var a=this.columnsmenuwidth+1,o=function(){if(!n.menu)return!1;if(!t.resizing){if(n._menuvisible&&t._hasOpenedMenu)return!1;if(n._animating=!0,t.menuitemsarray&&t.menuitemsarray.length>0)if(t.enableanimations){r.css("display","block"),r.stop(),n.iconscontainer.stop(),t.rtl?(r.css("margin-left",-a),r.animate({"margin-left":"0px"},"fast",function(){r.css("display","block"),n._animating=!1,n._menuvisible=!0})):(r.css("margin-left","0px"),r.animate({"margin-left":-a},"fast",function(){r.css("display","block"),n._animating=!1,n._menuvisible=!0}));var e=t.rtl?a:-(32+a);n.iconscontainer.animate({"margin-left":e},"fast")}else{r.css("display","block");var e=t.rtl?16:-48;n.iconscontainer.css("margin-left",e+"px"),n._animating=!1,n._menuvisible=!0}}},l="mouseenter";if(t.isTouchDevice()&&(l="touchstart"),t.addHandler(s,l,function(i){var r=parseInt(i.pageX),a=t.columnsresize&&n.resizable?3:0,l=parseInt(s.coord().left);t.hasTransform&&(l=e.jqx.utilities.getOffset(s).left);var d=n.width;if(t.rtl&&(d=0),0!=a&&r>=l+d-a&&l+d+a>=r)return!1;var h=t.vScrollInstance.isScrolling();n.menu&&t.autoshowcolumnsmenubutton&&!h&&!t.disabled&&o()}),!t.autoshowcolumnsmenubutton){r.css("display","block");var d=t.rtl?16:-48;n.iconscontainer.css("margin-left",d+"px"),r.css(t.rtl?{"margin-left":"0px"}:{"margin-left":-a})}t.addHandler(s,"mouseleave",function(){if(t.menuitemsarray&&t.menuitemsarray.length>0&&n.menu){var i=e.data(document.body,"contextmenu"+t.element.id);if(void 0!=i&&r[0].id==i.columnsmenu.id)return;if(t.autoshowcolumnsmenubutton)if(t.enableanimations){t.rtl?r.css("margin-left","0px"):r.css("margin-left",-a),r.stop(),n.iconscontainer.stop(),t.rtl?r.animate({"margin-left":-a},"fast",function(){r.css("display","none"),n._menuvisible=!1}):r.animate({"margin-left":0},"fast",function(){r.css("display","none"),n._menuvisible=!1});var s=t.rtl?0:-32;n.iconscontainer.animate({"margin-left":s},"fast")}else{r.css("display","none");var s=t.rtl?0:-32;n.iconscontainer.css("margin-left",s+"px"),n._menuvisible=!1}}});var h=!0,c="",u=e(n.filtericon);t.addHandler(r,"mousedown",function(){t.gridmenu||t._initmenu(),h=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),c=e.data(document.body,"contextmenu"+t.element.id),null!=c&&(c=c.column.datafield)}),t.addHandler(u,"mousedown",function(){t.gridmenu||t._initmenu(),h=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),c=e.data(document.body,"contextmenu"+t.element.id),null!=c&&(c=c.column.datafield)});var p=function(){if(!n.menu)return!1;if(t.gridmenu||t._initmenu(),t.disabled)return!1;for(var i=0;i<t.columns.records.length;i++)t.columns.records[i].datafield!=n.datafield&&(t.columns.records[i]._menuvisible=!1);var s=r.coord(!0),a=r.height();if(!h&&(h=!0,c==n.datafield))return t._closemenu(),!1;var o=t.host.coord(!0);t.hasTransform&&(o=e.jqx.utilities.getOffset(t.host),s=e.jqx.utilities.getOffset(r)),o.left+t.host.width()>parseInt(s.left)+t.gridmenu.width()?t.gridmenu.jqxMenu("open",s.left,s.top+a):t.gridmenu.jqxMenu("open",r.width()+s.left-t.gridmenu.width(),s.top+a),t.gridmenu.width()<100&&t._arrangemenu(),t._hasOpenedMenu=!0;var l=t._getmenuitembyindex(0),d=t._getmenuitembyindex(1),u=t._getmenuitembyindex(2),p=t._getmenuitembyindex(3),f=t._getmenuitembyindex(4),m=t._getmenuitembyindex(5);if(null!=l&&null!=d&&null!=u){var g=n.sortable&&t.sortable;if(t.gridmenu.jqxMenu("disable",l.id,!g),t.gridmenu.jqxMenu("disable",d.id,!g),t.gridmenu.jqxMenu("disable",u.id,!g),void 0!=n.displayfield)if(t.sortcolumn==n.displayfield){var v=t.getsortinformation();g&&(v.sortdirection.ascending?t.gridmenu.jqxMenu("disable",l.id,!0):t.gridmenu.jqxMenu("disable",d.id,!0))}else t.gridmenu.jqxMenu("disable",u.id,!0)}if(null!=p&&null!=f&&(t.groupable&&n.groupable?t.groups&&-1!=t.groups.indexOf(n.datafield)?(t.gridmenu.jqxMenu("disable",p.id,!0),t.gridmenu.jqxMenu("disable",f.id,!1)):(t.gridmenu.jqxMenu("disable",p.id,!1),t.gridmenu.jqxMenu("disable",f.id,!0)):(t.gridmenu.jqxMenu("disable",f.id,!0),t.gridmenu.jqxMenu("disable",p.id,!0))),null!=m){t._updatefilterpanel(t,m,n);var b=0;t.sortable&&t._togglesort&&t.showsortmenuitems&&(b+=3),t.groupable&&t.addgroup&&t.showgroupmenuitems&&(b+=2);var x=27*b+3;e.jqx.browser.msie&&e.jqx.browser.version<8&&(x+=20,e(m).height(190)),t.filterable&&t.showfiltermenuitems&&(n.filterable?(t.gridmenu.height(x+180),e(m).css("display","block")):(t.gridmenu.height(x),e(m).css("display","none")))}e.data(document.body,"contextmenu"+t.element.id,{column:n,columnsmenu:r[0]})};t.addHandler(u,"click",function(){return n.menu?(t.showfilterrow||("block"!=r[0].style.display&&s.trigger("mouseenter"),setTimeout(function(){"block"!=r[0].style.display&&s.trigger("mouseenter"),p()},200)),!1):!1}),t.addHandler(r,"click",function(){return n.menu?(p(),!1):!1}),t.isTouchDevice()&&t.addHandler(r,e.jqx.mobile.getTouchEventName("touchstart"),function(){return n.menu?(t._hasOpenedMenu?t._closemenu():p(),!1):!1})},_removecolumnhandlers:function(t){var i=this.that,s=e(t.element);if(s.length>0){i.removeHandler(s,"mouseenter"),i.removeHandler(s,"mouseleave");var r=e(t.filtericon);if(i.removeHandler(r,"mousedown"),i.removeHandler(r,"click"),i.removeHandler(s,"click"),i.removeHandler(s,"mousemove"),i.columnsreorder&&(i.removeHandler(s,"mousedown.drag"),i.removeHandler(s,"mousemove.drag")),i.removeHandler(s,"dragstart"),s[0].columnsmenu){var n=e(s[0].columnsmenu);i.removeHandler(n,"click"),i.removeHandler(n,"mousedown"),i.removeHandler(n,e.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(e,t,i,s){var r="4px";if(s.columngroups?(r=i/2-this._columnheight/2,0>r&&(r=4),r+="px"):25!=this.columnsheight&&(r=this.columnsheight/2-this._columnheight/2,0>r&&(r=4),r+="px"),this.enableellipsis)return'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if("center"==t||"middle"==t)return'<div style="padding-bottom: 2px; text-align: center; margin-top: '+r+';"><a href="#">'+e+"</a></div>";var n='<a style="margin-top: '+r+"; float: "+t+';" href="#">'+e+"</a>";return n},_renderrows:function(t,i){var s=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(s.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var r=this.source.totalrecords;isNaN(r)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=r&&(s.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||s.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?s.prerenderrequired=!0:this.pageable||(s.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?s.prerenderrequired=!0:this.pageable||(s.prerenderrequired=!0))),s._prerenderrows(t),s._requiresupdate&&(s._requiresupdate=!1,s._updatepageviews());var n=function(){s._loading||(s.WinJS?MSApp.execUnsafeLocalFunction(function(){s._rendervisualrows()}):s._rendervisualrows(),s.virtualmode&&s.showaggregates&&s._updateaggregates&&s.refreshaggregates())},a=e.jqx.browser.msie&&e.jqx.browser.version<10;if(this.virtualmode){var o=function(){if(s.rendergridrows){var e=s._startboundindex;void 0==e&&(e=0);var t=e+1+s.dataview.pagesize;if(null!=e&&null!=t){var r=s.source._source?!0:!1,n=r?s.source._source.recordstartindex:s.source.recordstartindex;if(n!=e||1==i){if(r){if(t>=s.source._source.totalrecords&&(t=s.source._source.totalrecords,e=t-s.dataview.pagesize-1,0>e&&(e=0),s.source._source.recordendindex==t&&s.source._source.recordstartindex==e))return;s.source._source.recordstartindex=e,s.source._source.recordendindex=t}else s.source.recordstartindex=e,s.source.recordendindex=t;s.updatebounddata("cells")}}}};this.loadondemand&&(n(),o(),this.loadondemand=!1);var l=void 0==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?n():this.autoheight?n():l||a||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){n()},5)):n()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var d=this._getfirstvisualrow();if(null!=d){var h=function(){if(null==d)return"";var t="<table>",i=s.deferreddatafields;null==i&&s.columns.records.length>0&&(i=new Array,i.push(s.columns.records[0].displayfield));for(var r=0;r<i.length;r++){var n=i[r],a=s._getcolumnbydatafield(n);if(a){var o=s._getcellvalue(a,d);""!=a.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(o)?o=e.jqx.dataFormat.formatdate(o,a.cellsformat,s.gridlocalization):e.jqx.dataFormat.isNumber(o)&&(o=e.jqx.dataFormat.formatnumber(o,a.cellsformat,s.gridlocalization))),t+="<tr><td>"+o+"</td></tr>"}}return t+="</table>"},c=this.scrollfeedback?this.scrollfeedback(d.bounddata):h(d.bounddata);c!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=c,this._scrollelementcontent=c)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){s.hScrollInstance.isScrolling()||s.vScrollInstance.isScrolling()||(n(),s._scrollelement.css("visibility","hidden"),s._scrollelementoverlay.css("visibility","hidden"),clearInterval(s._scrolltimer),d&&s.ensurerowvisible(d.visibleindex))},100))}navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),void 0!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5);var l=void 0==this._browser?this._isIE10():this._browser;if((l||a)&&(this._updatedelay=5),l&&this.hScrollInstance.isScrolling())return void n();if(e.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)n();else{var u=this._jqxgridrendertimer;null!=u&&clearTimeout(u),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(u=setTimeout(function(){n()},this._updatedelay),this._jqxgridrendertimer=u):(this._jqxgridrendertimer=u,n())}}if(s.autorowheight&&!s.autoheight&&this._pageviews.length>0){var p=this._gettableheight(),f=this._pageviews[0].height;if(f>p)if(this.pageable&&this.gotopage&&(f=this._pageviews[0].height,0>f&&(f=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(p>=f||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),f-p>0){if("deferred"!=this.scrollmode){var m=f-p,g=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:m}),Math.round(m)!=Math.round(g)&&this.vScrollBar.jqxScrollBar({value:0})}}else this.vScrollBar.jqxScrollBar({value:0,max:f});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=f)}},scrolling:function(){var e=this.vScrollInstance.isScrolling(),t=this.hScrollInstance.isScrolling();return{vertical:e,horizontal:t}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var s=this.table[0].rows.length,r=this.columnsrow,n=this.groupable&&this.groups.length>0?this.groups.length:0,a=this.columns.records.length-n,o=this.columns.records,l=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),l&&!this._haspinned){for(var d=0;s>d;d++)for(var h=this.table[0].rows[d],c=0;n+a>c;c++){var u=h.cells[c];if(void 0!=u){var p=o[c];if(p.pinned&&(u.style.marginLeft=i+"px",0==d)){var f=r[0].cells[c];f.style.marginLeft=i+"px"}}}this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px"}else if(this._haspinned||void 0==this._haspinned){for(var d=0;s>d;d++)for(var h=this.table[0].rows[d],c=0;n+a>c;c++){var u=h.cells[c];if(void 0!=u){var p=o[c];if(p.pinned){if(0==i&&""==u.style.marginLeft)continue;var m=null,g=null;if(this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(g=this.filterrow[0].cells[c]),this.showaggregates&&this.statusbar[0].cells&&(m=this.statusbar[0].cells[c]),this.rtl){if(u.style.marginLeft=-parseInt(t)+"px",0==d){var f=r[0].cells[c];f.style.marginLeft=-parseInt(t)+"px",m&&(m.style.marginLeft=-parseInt(t)+"px"),g&&(g.style.marginLeft=-parseInt(t)+"px")}}else if(u.style.marginLeft=i+"px",0==d){var f=r[0].cells[c];f.style.marginLeft=i+"px",m&&(m.style.marginLeft=i+"px"),g&&(g.style.marginLeft=i+"px")}}}}this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px");if(this.showaggregates&&this.statusbar[0].cells){var v=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(v=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-i+v+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-i+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var t=0;t<this._rowdetailselementscache.length;t++)e(this._rowdetailselementscache[t]).css("display","none")},_getvisualcolumnsindexes:function(e,t,i,s,r){if(this.rowdetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+s};var n=0,a=-1,o=i+s,l=!1;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var d=0;i+s>d;d++){if(l||this.columns.records[d].pinned&&(l=!0),this.columns.records[d].hidden||(n+=this.columns.records[d].width),n>=e&&-1==a&&(a=d),n>t+e){o=d;break}}return o++,o>i+s&&(o=i+s),(-1==a||l)&&(a=0),{start:a,end:o}},_getfirstvisualrow:function(){var e=this.vScrollInstance,t=e.value,i=parseInt(t);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(i=0),!this.pageable){var s=this._findvisiblerow(i,this._pageviews);if(-1==s)return null;s!=this.dataview.pagenum?(this.dataview.pagenum=s,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var r=this._findvisiblerow(i,this._pagescache[this.dataview.pagenum]),n=this._pagescache[this.dataview.pagenum];return n&&n[0]?n[r]:void 0},_rendervisualrows:function(){if(this.virtualsizeinfo){var t=this.vScrollInstance,i=this.hScrollInstance,s=t.value,r=i.value,n=parseInt(s),a=parseInt(r),o=this._gettableheight(),l=void 0!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(o+=29),"deferred"==this.scrollmode&&0!=this._newmax&&n>this._newmax&&null!=this._newmax&&(n=this._newmax);var d=t.isScrolling()||i.isScrolling()||this._keydown,h=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&void 0==this.editrow&&this._hidecelleditor(!1),void 0!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(n=0),!this.pageable){var c=this._findvisiblerow(n,this._pageviews);if(-1==c)return this._clearvisualrows(),this._renderemptyrow(),void this._updaterowdetailsvisibility();c!=this.dataview.pagenum?(this.dataview.pagenum=c,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var u=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var p=this.columns.records.length-u,f=this._findvisiblerow(n,this._pagescache[this.dataview.pagenum]),m=this._pagescache[this.dataview.pagenum],g=f;0>g&&(g=0);var v=0,b=0,x=0,w=0,y=this.virtualsizeinfo.visiblerecords,_=this.groupable?this.groups.length:0,j=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(j+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(y=this.dataview.pagesize),h&&(j=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(j+=" "+this.toTP("jqx-touch")),this.autorowheight&&(j+=" jqx-grid-cell-wrap");var q=this.rowsheight,k=this._rendercell,I=!0,T=this._getvisualcolumnsindexes(a,l,u,p,h),C=T.start,S=T.end;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(g=0),g>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=m?m[g].bounddata.boundindex:0,this._startvisibleindex=null!=m?m[g].bounddata.visibleindex:0;for(var D=0;y>D&&y>b;D++){var P=void 0!=m?m[g+D]:null;if(null==P){if(g=-D,this._pagescache[this.dataview.pagenum+1])m=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var E=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){m=void 0;break}this.dataview.pagenum++,m=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),m=this._pagescache[this.dataview.pagenum])}while(void 0==m&&this.dataview.pagenum<E)}void 0!=m&&(P=m[g+D])}if(null!=P){if(P.hidden)continue;if(this._endboundindex=this._startboundindex+D,this._endvisibleindex=this._startvisibleindex+D,0==D){var H=Math.abs(n-P.top);this.table[0].style.top=-H+"px",w=-H}var B=this.table[0].rows[b];if(!B)continue;parseInt(B.style.height)!=P.height&&(B.style.height=parseInt(P.height)+"px"),x+=P.height;var A=this.rowdetails&&P.rowdetails,z=!P.rowdetailshidden;A&&z&&(B.style.height=parseInt(P.height-P.rowdetailsheight)+"px",y++);for(var M=this._isrowselected(I,P),L=C;S>L;L++){var O=L;this._rendervisualcell(k,j,M,A,z,h,_,B,P,O,b,d)}if(void 0!=P.group&&this._rendergroup&&this._rendergroup(_,B,P,u,p,b,l),this.autorowheight&&(this.autoheight||this.pageable)){for(var q=this.rowsheight,L=C;S>L;L++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[L].datafield&&this.editcell.row==this.getboundindex(P)?q=Math.max(q,this.editcell.editor.height()):B.cells[L].firstChild&&(q=Math.max(q,8+parseInt(B.cells[L].firstChild.offsetHeight)));B.style.height=parseInt(q)+"px",this.heights[this._startboundindex+D]=q,A&&z&&(q+=P.rowdetailsheight),P.height=q}if(this.visiblerows[this.visiblerows.length]=P,this.hittestinfo[this.hittestinfo.length]={row:P,visualrow:B,details:!1},A&&z){b++;
var B=this.table[0].rows[b];this._renderrowdetails(j,B,P,u,p,b),this.visiblerows[this.visiblerows.length]=P,this.hittestinfo[this.hittestinfo.length]={row:P,visualrow:B,details:!0}}if(!this.autorowheight&&x+w>=o)break}else cansetheight=!0,this._clearvisualrow(a,h,b,u,p),o>=x+v+w&&(v+=q);b++}if(this._horizontalvalue=a,v>0&&"visible"==this.vScrollBar[0].style.visibility){var N=(parseInt(this.table.css("top")),this._pageviews[this._pageviews.length-1]),F=t.max,W=N.top+N.height-o;"visible"==this.hScrollBar.css("visibility")&&(W+=this.scrollbarsize+20),F==W||this.autorowheight||W>=0&&("deferred"!=this.scrollmode?(t.max=W,t.setPosition(t.max)):this._newmax!=W&&(this._newmax=W,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;for(var R=0,$=0,U=0;U<this.visiblerows.length;U++){var V=this.visiblerows[U];V.top=R,R+=V.height,$+=V.height;var A=this.rowdetails&&V.rowdetails,z=!V.rowdetailshidden,B=this.table[0].rows[U];A&&z&&U++;for(var L=C;S>L;L++){var G=this.columns.records[L];if(!G.hidden&&!G.cellsrenderer){var K=B.cells[L],X=0;if(K.firstChild){var X=(V.height-parseInt(K.firstChild.offsetHeight)-8)/2;if(A&&z)var X=(V.height-V.rowdetailsheight-e(K.firstChild).height()-8)/2}else var X=(V.height-parseInt(e(K).height())-8)/2;if(X>=0&&(X=parseInt(X)+4,K.firstChild&&-1==K.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=G.columntype&&"button"!=G.columntype)){if(this.editable&&this.editcell&&this.editcell.column==G.datafield&&this.editcell.row==this.getboundindex(V))continue;K.firstChild.style.marginTop=X+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=$),this._arrange()}this._renderemptyrow()}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var t=this.table[0].rows[0];if(t)for(var i=!1,s=0;s<t.cells.length;s++){var r=e(t.cells[s]);"none"==r.css("display")||i||(r.width()==this.host.width()||r.text()==this.gridlocalization.emptydatastring)&&(r[0].checkbox=null,r[0].button=null,i=!0,r[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var t=!1,i=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var s=this.table[0].rows[0];this.table[0].style.top="0px";for(var r=0;r<s.cells.length;r++){var n=e(s.cells[r]);if("none"!=n.css("display")&&!t){n[0].checkbox=null,n[0].button=null,n[0].className=i,t=!0,n[0].innerHTML="";var a=e("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");a.text(this.gridlocalization.emptydatastring),n.append(a);var o=0;this.oldhscroll||(o=parseInt(this.table[0].style.marginLeft),this.rtl&&(n.css("z-index",999),n.css("overflow","visible"))),a.css("left",-o-a.width()/2),a.css("top",this._gettableheight()/2-a.height()/2),e.jqx.browser.msie&&e.jqx.browser.version<8&&(a.css("margin-left","0px"),a.css("left",this.host.width()/2-a.width()/2));var l=Math.abs(parseInt(this.table[0].style.top));isNaN(l)&&(l=0),e(s).height(this._gettableheight()+l),n.css("margin-left","0px"),n.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}n.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords,t=this.hScrollInstance,i=t.value,s=parseInt(i),r=this.groupable&&this.groups.length>0;if(this.columns.records)for(var n=0;e>n;n++)this._clearvisualrow(s,r,n,0,this.columns.records.length)},_iscellselected:function(e,t,i){var s=!1,r=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(r=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var n=this.getrowboundindexbyid(t.bounddata.uid);for(var a in this.selectedcells)a==n+"_"+i&&(s=!0);return s}if(e&&null!=t.bounddata)if("singlerow"!=this.selectionmode){if(this.dataview.filters.length>0)if(this.virtualmode||void 0==t.bounddata.dataindex)for(var a in this.selectedcells)a==r+t.bounddata.boundindex+"_"+i&&(s=!0);else for(var a in this.selectedcells)a==r+t.bounddata.dataindex+"_"+i&&(s=!0);else for(var a in this.selectedcells)if(a==r+t.bounddata.boundindex+"_"+i){s=!0;break}}else if(this.dataview.filters.length>0){if(this.virtualmode||void 0==t.bounddata.dataindex){for(var a in this.selectedcells)if(a==r+t.bounddata.boundindex+"_"+i){s=!0;break}}else for(var a in this.selectedcells)if(a==r+t.bounddata.dataindex+"_"+i){s=!0;break}}else for(var a in this.selectedcells)if(a==r+t.bounddata.boundindex==this.selectedrowindex){s=!0;break}return s},_isrowselected:function(e,t){var i=!1,s=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(s=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var r=this.getrowboundindexbyid(t.bounddata.uid);return void 0==r||-1==r?!1:(-1!=this.selectedrowindexes.indexOf(r)&&(i=!0),i||(i=r==this.selectedrowindex&&-1!=this.selectedrowindex),i)}return e&&null!=t.bounddata&&("singlerow"!=this.selectionmode?this.dataview.filters.length>0?this.virtualmode||void 0==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(s+t.bounddata.dataindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)&&(i=!0):this.dataview.filters.length>0?this.virtualmode||void 0==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(s+t.bounddata.dataindex)&&(i=!0):s+t.bounddata.boundindex==this.selectedrowindex&&(i=!0)),i},_rendervisualcell:function(t,i,s,r,n,a,o,l,d,h,c,u){var p=this.columns.records[h];if(p.hidden){var f=l.cells[h];return void(f.innerHTML="")}cellvalue=this._getcellvalue(p,d);var f=l.cells[h],m=i;if(-1!=this.selectionmode.indexOf("cell")&&(s=this.dataview.filters.length>0?this.selectedcells[d.bounddata.dataindex+"_"+p.datafield]?!0:!1:this.selectedcells[d.boundindex+"_"+p.datafield]?!0:!1,this.editcell&&this.editcell.row===d.boundindex&&this.editcell.column===p.datafield&&"checkbox"!==p.columntype&&(s=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(s=this._iscellselected(!0,d,p.datafield))),""!=p.cellclassname&&p.cellclassname)if("string"==typeof p.cellclassname)m+=" "+p.cellclassname;else{var g=p.cellclassname(this.getboundindex(d),p.datafield,cellvalue,d.bounddata);g&&(m+=" "+g)}var v=this.showsortcolumnbackground&&this.sortcolumn&&p.displayfield==this.sortcolumn;if(v&&(m+=" "+this.toTP("jqx-grid-cell-sort")),p.filter&&this.showfiltercolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-filter")),(p.pinned&&this.showpinnedcolumnbackground||p.grouped)&&(m+=a?" "+this.toTP("jqx-grid-cell-pinned"):" "+this.toTP("jqx-grid-cell-pinned")),this.altrows&&void 0==d.group){var b=d.visibleindex;b>=this.altstart&&(this.altstart+b)%(1+this.altstep)==0&&(m+=v?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),p.filter&&this.showfiltercolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-filter-alt")),p.pinned&&this.showpinnedcolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(o>=h){if(a||this.rowdetails){var x=e(f),w=this.columns.records[h].width;f.style.width!=parseInt(w)+"px"&&x.width(w)}}else if((a||this.rowdetails)&&this._hiddencolumns){var x=e(f),w=this.columns.records[h].width;parseInt(f.style.width)!=w&&x.width(w)}var y=!0;if(this.rowdetails&&r&&(n&&!a?m+=" "+this.toTP("jqx-grid-details-cell"):a&&(m+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(void 0==d.group&&h==l.cells.length-o-1){var _=this.toThemeProperty("jqx-icon-arrow-down");if(n)m+=" "+this.toTP("jqx-grid-group-expand-rtl"),m+=" "+_;else{m+=" "+this.toTP("jqx-grid-group-collapse-rtl");var _=this.toThemeProperty("jqx-icon-arrow-left");m+=" "+_}return y=!1,f.title="",f.innerHTML="",void(f.className!=m&&(f.className=m))}}else if(void 0==d.group&&h==o){var _=this.toThemeProperty("jqx-icon-arrow-down");if(n)m+=" "+this.toTP("jqx-grid-group-expand"),m+=" "+_;else{m+=" "+this.toTP("jqx-grid-group-collapse");var _=this.toThemeProperty("jqx-icon-arrow-right");m+=" "+_}return y=!1,f.title="",f.innerHTML="",void(f.className!=m&&(f.className=m))}return s&&y&&h>=o&&(m+=" "+this.toTP("jqx-grid-cell-selected"),m+=" "+this.toTP("jqx-fill-state-pressed")),f.className!=m&&(f.className=m),void 0!=d.group?(cellvalue="",f.title="",void(f.innerHTML="")):void t(this,p,d,cellvalue,f,u)},_rendercell:function(t,i,s,r,n,a){var o=r+"_"+i.visibleindex;if("number"==i.columntype||null!=i.cellsrenderer)var o=s.uniqueid+"_"+i.visibleindex;if("number"==i.columntype&&(r=s.visibleindex),t.editcell&&void 0==t.editrow)if("selectedrow"==t.editmode&&i.editable&&t.editable){if(t.editcell.row==t.getboundindex(s)&&t._showcelleditor)return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,n,!1,!1):t._showcelleditor(t.editcell.row,i,n,t.editcell.init))}else if(t.editcell.row==t.getboundindex(s)&&t.editcell.column==i.datafield&&(t.editcell.element=n,t.editcell.editing&&t._showcelleditor))return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init,!1):t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init));var l=t._defaultcellsrenderer(r,i),d=t._cellscache[o];if(d){if("inline"==i.columntype){if(t._renderinlinecell(t,n,i,s,r),null!=i.cellsrenderer){var h=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata);void 0!=h&&(n.innerHTML=h)}return}if("checkbox"==i.columntype){if(t.host.jqxCheckBox){""===r&&(r=null);var c=0==n.innerHTML.toString().length;if(!n.checkbox||t.groupable||c?t._rendercheckboxcell(t,n,i,s,r):(n.checkboxrow=t.getboundindex(s),""==r&&(r=!1),"1"==r&&(r=!0),"0"==r&&(r=!1),1==r&&(r=!0),0==r&&(r=!1),"true"==r&&(r=!0),"false"==r&&(r=!1),null!=r||i.threestatecheckbox||(r=!1),i.checkboxcolumn&&(r=!1,t.dataview.filters.length>0&&!t.virtualmode&&void 0!=s.bounddata.dataindex?-1!=t.selectedrowindexes.indexOf(s.bounddata.dataindex)&&(r=!0):-1!=t.selectedrowindexes.indexOf(s.bounddata.boundindex)&&(r=!0)),t.disabled||(n.checkboxinstance?n.checkboxinstance._setState(r):n.checkbox.jqxCheckBox("_setState",r))),null!=i.cellsrenderer){var h=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata);void 0!=h&&(n.innerHTML=h)}return}}else if("button"==i.columntype&&t.host.jqxButton)return""==r&&(r=!1),null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata)),""==n.innerHTML&&(n.buttonrow=t.getboundindex(s),n.button=null,t._renderbuttoncell(t,n,i,s,r)),void(n.button&&!t.groupable?(n.buttonrow=t.getboundindex(s),n.button.val(r)):t._renderbuttoncell(t,n,i,s,r));var u=d.element;if(null!=i.cellsrenderer||n.childNodes&&0==n.childNodes.length||t.groupable||t.rowdetails)n.innerHTML!=u&&(n.innerHTML=u);else if(n.innerHTML.indexOf("editor")>=0)n.innerHTML=u;else if(a){var p=u.indexOf(">"),f=u.indexOf("</"),m=u.substring(p+1,f),g=n.childNodes[0];if(m.indexOf(">")>=0)n.innerHTML=u;else if(g.childNodes[0])m!=g.childNodes[0].nodeValue&&(m.indexOf("&")>=0?n.innerHTML=u:g.childNodes[0].nodeValue=m);else{var v=document.createTextNode(m);g.appendChild(v)}}else n.innerHTML!=u&&(n.innerHTML=u);return void(t.enabletooltips&&i.enabletooltips&&(n.title=d.title))}if("checkbox"==i.columntype)return t._rendercheckboxcell(t,n,i,s,r),t._cellscache[o]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(n.title=r));if("button"==i.columntype)return null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata)),t._renderbuttoncell(t,n,i,s,r),t._cellscache[o]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(n.title=r));if("number"==i.columntype)r=s.visibleindex;else if("inline"==i.columntype)return t._renderinlinecell(t,n,i,s,r),t._cellscache[o]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(n.title=r));var u=null;u=null!=i.cellsrenderer?i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata):l,null==u&&(u=l);var b=r;return t.enabletooltips&&i.enabletooltips&&(""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?b=e.jqx.dataFormat.formatdate(b,i.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(b=e.jqx.dataFormat.formatnumber(b,i.cellsformat,this.gridlocalization))),n.title=b),t.WinJS?e(n).html(u):n.innerHTML=u,t._cellscache[o]={element:n.innerHTML,title:b},!0},_isIE10:function(){if(void 0==this._browser){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)>9)this._browser=!0;else if(this._browser=!1,"msie"==t.browser){var i="Browser CodeName: "+navigator.appCodeName;i+="Browser Name: "+navigator.appName,i+="Browser Version: "+navigator.appVersion,i+="Platform: "+navigator.platform,i+="User-agent header: "+navigator.userAgent,-1!=i.indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(t,i){e(i);i.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(t,i,s,r,n){if(t.host.jqxCheckBox){var a=e(i);if(""===n&&(n=s.threestatecheckbox?null:!1),"1"==n&&(n=!0),"0"==n&&(n=!1),1==n&&(n=!0),0==n&&(n=!1),"true"==n&&(n=!0),"false"==n&&(n=!1),s.checkboxcolumn){n=!1;var o=this.getboundindex(r);-1!=this.selectedrowindexes.indexOf(o)&&(n=!0)}if(0==a.find(".jqx-checkbox").length){i.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>',e(i.firstChild).jqxCheckBox({disabled:t.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:s.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:t.theme,checked:n}),this.editable&&s.editable&&e(i.firstChild).jqxCheckBox({locked:!1}),s.checkboxcolumn&&e(i.firstChild).jqxCheckBox({locked:!1}),i.checkbox=e(i.firstChild),i.checkboxinstance=i.checkbox.data().jqxCheckBox.instance,i.checkboxrow=this.getboundindex(r);var l=e.data(i.firstChild,"jqxCheckBox").instance;l.updated=function(r,n,a){if(t.disabled){n=a;for(var o=t.table[0].rows.length,l=t._getcolumnindex(s.datafield),d=0;o>d;d++){var h=t.table[0].rows[d].cells[l].firstChild;h&&e(h).jqxCheckBox({disabled:t.disabled})}}if(s.editable&&!t.disabled){var o=t.table[0].rows.length,l=t._getcolumnindex(s.datafield);if(void 0==t.editrow){if(s.cellbeginedit){var c=s.cellbeginedit(i.checkboxrow,s.datafield,s.columntype,!n);if(0==c)return void t.setcellvalue(i.checkboxrow,s.datafield,!n,!0)}if("selectedrow"!==t.editmode)for(var d=0;o>d;d++){var h=t.table[0].rows[d].cells[l].firstChild;h&&e(h).jqxCheckBox("destroy")}t.editcell&&0==t.editcell.validated?t.setcellvalue(i.checkboxrow,s.datafield,!n,!0):"selectedrow"!==t.editmode||null==t.editcell?(t._raiseEvent(17,{rowindex:i.checkboxrow,datafield:s.datafield,value:a,columntype:s.columntype}),t.setcellvalue(i.checkboxrow,s.datafield,n,!0),t._raiseEvent(18,{rowindex:i.checkboxrow,datafield:s.datafield,oldvalue:a,value:n,columntype:s.columntype})):t.setcellvalue(i.checkboxrow,s.datafield,n,!1,!1)}}else s.checkboxcolumn&&(t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t.disabled||(n?t.selectrow(i.checkboxrow):t.unselectrow(i.checkboxrow),t.autosavestate&&t.savestate&&t.savestate()))}}else i.checkboxrow=this.getboundindex(r),e(i.firstChild).jqxCheckBox("_setState",n)}},_renderbuttoncell:function(t,i,s,r,n){if(t.host.jqxButton){var a=e(i);if(""==n&&(n=!1),0==a.find(".jqx-button").length){i.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',e(i.firstChild).val(n),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).jqxButton({disabled:t.disabled,theme:t.theme,height:t.rowsheight-4,width:s.width-4}),i.button=e(i.firstChild),i.buttonrow=t.getboundindex(r);var o=this.isTouchDevice();if(o){var l=e.jqx.mobile.getTouchEventName("touchend");t.addHandler(e(i.firstChild),l,function(e){s.buttonclick&&s.buttonclick(i.buttonrow,e)})}else t.addHandler(e(i.firstChild),"click",function(e){s.buttonclick&&s.buttonclick(i.buttonrow,e)})}else i.buttonrow=t.getboundindex(r),e(i.firstChild).val(n)}},_clearvisualrow:function(t,i,s,r,n){var a=this.toTP("jqx-grid-cell");i&&(a=" "+this.toTP("jqx-grid-group-cell")),a+=" "+this.toTP("jqx-grid-cleared-cell");for(var o=this.table[0].rows,l=0;r+n>l;l++)if(o[s]){var d=o[s].cells[l];d.className!=a&&(d.className=a);var h=this.columns.records[l];if(this._horizontalvalue!=t&&!h.pinned&&1==this.oldhscroll){d.style.marginLeft=-t+"px"}var c=h.width;c<h.minwidth&&(c=h.minwidth),c>h.maxwidth&&(c=h.maxwidth),parseInt(d.style.width)!=c&&(e(d)[0].style.width="auto"!=c?c+"px":c),""!=d.title&&(d.title=""),""!=d.innerHTML&&(d.innerHTML="")}o[s]&&parseInt(o[s].style.height)!=this.rowsheight&&(o[s].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(e){var t=this._findgroup(e);return null==t?!1:t.expanded},_findgroup:function(e){var t=null;return this.expandedgroups[e]?this.expandedgroups[e]:t},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(t){if(void 0==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[t])return this._columnsbydatafield[t];var i=t,s=null;return e.each(this.columns.records,function(){return this.datafield==t?(i=this.text,s=this,!1):void 0}),this._columnsbydatafield[t]={label:i,column:s},this._columnsbydatafield[t]},_getcolumnbydatafield:function(t){if(void 0==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[t])return this.__columnsbydatafield[t];var i=t,s=null;return e.each(this.columns.records,function(){return this.datafield==t||this.displayfield==t?(i=this.text,s=this,!1):void 0}),this.__columnsbydatafield[t]=s,this.__columnsbydatafield[t]},isscrollingvertically:function(){var e=this.vScrollBar.jqxScrollBar("isScrolling");return e},_renderrowdetails:function(t,i,s,r,n){if(void 0!=i){var a=e(i),o=0,l=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var d=0;n>=d;d++){var h=e(i.cells[d]);h[0].innerHTML="",h[0].className="jqx-grid-details-cell"}var h=e(i.cells[o]);if("none"==h[0].style.display){for(var c=i.cells[o],u=2,p=o;void 0!=c&&"none"==c.style.display&&10>u;)c=i.cells[p+u-1],u++;h=e(c)}if(this.rtl)for(var f=r;n>f;f++)i.cells[f].innerHTML="",i.cells[f].className="jqx-grid-details-cell";h.css("width","100%"),a.height(s.rowdetailsheight),h[0].className=t;var m=this.getboundindex(s),g=m+"_";if(this._rowdetailscache[g]){var v=this._rowdetailscache[g],b=v.html;if(this.initrowdetails){if(this._rowdetailscache[g].element){var x=this._rowdetailscache[g].element,w=h.coord(),y=this.gridcontent.coord(),_=parseInt(w.top)-parseInt(y.top),j=parseInt(w.left)-parseInt(y.left);this.rtl&&(j=0),e(x).css("top",_),e(x).css("left",j),e(x).css("display","block"),e(x).width(this.host.width()-l),this.layoutrowdetails&&this.layoutrowdetails(m,x,this.element,this.getrowdata(m))}}else h[0].innerHTML=b}else{h[0].innerHTML="",this.enablerowdetailsindent||(l=0);var q='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+l+'px;">'+s.rowdetails+"</div>";if(this.rtl)var q='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+l+'px;">'+s.rowdetails+"</div>";if(this._rowdetailscache[g]={id:i.id,html:q},this.initrowdetails){var x=e(q)[0];e(this.gridcontent).prepend(e(x)),e(x).css("position","absolute"),e(x).width(this.host.width()-l),e(x).height(h.height());var w=h.coord();e(x).css("z-index",9999),this.isTouchDevice()&&e(x).css("z-index",99999),e(x).addClass(this.toThemeProperty("jqx-widget-content"));var w=h.coord(),y=this.gridcontent.coord(),_=parseInt(w.top)-parseInt(y.top),j=parseInt(w.left)-parseInt(y.left);e(x).css("top",_),e(x).css("left",j),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var k=e(e(x).children()[0]);""!=k[0].id&&(k[0].id=k[0].id+m),this.initrowdetails(m,x,this.element,this.getrowdata(m)),this._rowdetailscache[g].element=x,this._rowdetailselementscache[m]=x}else h[0].innerHTML=q}}},_defaultcellsrenderer:function(t,i){""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(t)?t=e.jqx.dataFormat.formatdate(t,i.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(t)&&(t=e.jqx.dataFormat.formatnumber(t,i.cellsformat,this.gridlocalization)));var s="4px";if(25!=this.rowsheight&&(s=this.rowsheight/2-this._cellheight/2,0>s&&(s=4),s+="px"),this.enableellipsis){if("center"==i.cellsalign||"middle"==i.cellsalign)return'<div style="text-overflow: ellipsis; overflow: hidden; padding-bottom: 2px; text-align: center; margin-top: '+s+';">'+t+"</div>";if("left"==i.cellsalign)return'<div style="overflow: hidden; text-overflow: ellipsis; padding-bottom: 2px; text-align: left; margin-right: 2px; margin-left: 4px; margin-top: '+s+';">'+t+"</div>";if("right"==i.cellsalign)return'<div style="overflow: hidden;  text-overflow: ellipsis; padding-bottom: 2px; text-align: right; margin-right: 2px; margin-left: 4px; margin-top: '+s+';">'+t+"</div>"}return"center"==i.cellsalign||"middle"==i.cellsalign?'<div style="text-align: center; margin-top: '+s+';">'+t+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+s+"; float: "+i.cellsalign+';">'+t+"</span>"},getcelltext:function(t,i){if(null==t||null==i)return null;var s=this.getcellvalue(t,i),r=this.getcolumn(i);return r&&""!=r.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?s=e.jqx.dataFormat.formatdate(s,r.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(s)&&(s=e.jqx.dataFormat.formatnumber(s,r.cellsformat,this.gridlocalization))),s},getcelltextbyid:function(t,i){if(null==t||null==i)return null;var s=this.getcellvaluebyid(t,i),r=this.getcolumn(i);return r&&""!=r.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?s=e.jqx.dataFormat.formatdate(s,r.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(s)&&(s=e.jqx.dataFormat.formatnumber(s,r.cellsformat,this.gridlocalization))),s},_getcellvalue:function(e,t){var i=null;return i=t.bounddata[e.datafield],null!=e.displayfield&&(i=t.bounddata[e.displayfield]),null==i&&(i=""),i},getcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),s=e,r="";return isNaN(i)||(s=this.getrowdata(i)),null!=s&&(r=s[t]),this._getcellresult(r,e,t)},getrenderedcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),s=e,r="";return isNaN(i)||(s=this.getrenderedrowdata(i)),null!=s&&(r=s[t]),this._getcellresult(r,e,t)},_getcellresult:function(e,t,i){var s=this.getcolumn(i);if(null==s||void 0==s)return null;var r=s.getcolumnproperties(),n=r.hidden,a=r.width,o=r.pinned,l=r.cellsalign,d=r.cellsformat,h=this.getrowheight(t);return 0==h?null:{value:e,row:t,column:i,datafield:i,width:a,height:h,hidden:n,pinned:o,align:l,format:d}},setcellvaluebyid:function(e,t,i,s,r){var n=this.getrowboundindexbyid(e);return this.setcellvalue(n,t,i,s,r)},getcellvaluebyid:function(e,t){var i=this.getrowboundindexbyid(e);return this.getcellvalue(i,t)},setcellvalue:function(t,i,s,r,n){if(null==t||null==i)return!1;var a=parseInt(t),o=a,l=t;isNaN(a)||(l=this.getrowdata(a));var d=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(d=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var h="",c="";if(null==l||l[i]===s)return this._updating||0==r||this._renderrows(this.virtualsizeinfo),!1;if(null!==l[i]||""!==s){var u=this._getcolumnbydatafield(i),p="string",f=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(f){var m="";e.each(f,function(){return this.name==u.displayfield?(this.type&&(m=this.type),!1):void 0}),m&&(p=m),c=l[u.displayfield]}if(h=l[i],!u.nullable||null!=s&&""!==s&&u.nullable&&void 0===s.label){if(e.jqx.dataFormat.isNumber(h)||"number"==p||"float"==p||"int"==p||"decimal"==p&&"date"!=p)s=new Number(s),s=parseFloat(s),isNaN(s)&&(s=0);else if((e.jqx.dataFormat.isDate(h)||"date"==p)&&""!=s){var g=s;g=new Date(g),"Invalid Date"!=g&&null!=g?s=g:"Invalid Date"==g&&(g=new Date,s=g)}if(l[i]===s)return void(this._updating||0==r||this._renderrows(this.virtualsizeinfo))}var v=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name;if(l[i]=s,v){var b=this.source._source.localdata;b._updating||(b._updating=!0,b[t][i]=s,b._updating=!1)}var x=this.getrenderedrowdata(a,!0);if(x){if(x[i]=s,null!=s&&null!=s.label){var u=this._getcolumnbydatafield(i);l[u.displayfield]=s.label,x[u.displayfield]=s.label,l[i]=s.value,x[i]=s.value,v&&!b._updating&&(b._updating=!0,b[t][i]=s.value,b[t][u.displayfield]=s.label,b._updating=!1)}if(d&&void 0!=l.dataindex&&(o=l.dataindex,this.dataview.cachedrecords[l.dataindex][i]=s,null!=s&&void 0!=s.label&&(this.dataview.cachedrecords[l.dataindex][i]=s.value,this.dataview.cachedrecords[l.dataindex][u.displayfield]=s.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var w=a;d&&void 0!=l.dataindex&&(w=l.dataindex);var y=this.source._source._localdata()[w];this.source.suspendKO=!0;var _=y;if(_[i]&&_[i].subscribe)null!=s&&null!=s.label?(_[u.displayfield](s.label),_[i](s.value)):_[i](s);else{var f=this.source._source.datafields,j=null;if(f&&e.each(f,function(){return this.name==i?(j=this.map,!1):void 0}),null==j)null!=s&&null!=s.label?(_[i]=s.value,_[u.displayfield]=s.label):_[i]=s;else{var q=j.split(this.source.mapChar);if(q.length>0){for(var k=_,I=0;I<q.length-1;I++)k=k[q[I]];k[q[q.length-1]]=s}}this.source._source._localdata.replace(y,e.extend({},_))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var T=this.getsortinformation();this.sortcolumn==i&&(this.dataview.clearsortdata(),this.dataview.sortby(T.sortcolumn,T.sortdirection.ascending))}else this._updating||this.dataview.sortby&&this.dataview.sortcache[i]&&(this.dataview.sortcache[i]=null);if(this._cellscache=new Array,this.source.updaterow&&(void 0==n||1==n)){var C=!1,S=this.that,D=function(e){0==e&&(S.setcellvalue(t,i,h,!0,!1),h!=c&&S.setcellvalue(t,S.getcolumn(i).displayfield,c,!0,!1))};try{var P=this.getrowid(a);C=this.source.updaterow(P,l,D),void 0==C&&(C=!0)}catch(E){return C=!1,S.setcellvalue(t,i,h,!0,!1),void(h!=c&&S.setcellvalue(t,S.getcolumn(i).displayfield,c,!0,!1))}}var H=this.vScrollInstance.value;if(this._updating&&1!=r&&(r=!1),1==r||void 0==r){var S=this.that,B=function(){S.pageable&&S.updatepagerdetails&&(S.updatepagerdetails(),(S.autoheight||S.autorowheight)&&S._updatepageviews())},A=this.groupable&&this.groups.length>0;d&&!A?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),B(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!A?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),B(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(i)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(H),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var z=this.getcolumn(i).filtertype;("list"==z||"checkedlist"==z)&&this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:t,datafield:i,newvalue:s,value:s,oldvalue:h}),!0}}},getcellvalue:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),s=e;if(isNaN(i)||(s=this.getrowdata(i)),null!=s){var r=s[t];return r}return null},getrows:function(){var t=this.dataview.records.length;if(this.virtualmode){for(var i=new Array,s=0;s<this.dataview.records.length;s++){var r=this.dataview.records[s];r&&i.push(r)}void 0===this.dataview.records.length&&e.each(this.dataview.records,function(){var e=this;e&&i.push(e)});var n=0;return this.pageable&&(n=this.dataview.pagenum*this.dataview.pagesize),i.length>this.source._source.totalrecords-n?i.slice(0,this.source._source.totalrecords-n):i}if(this.dataview.sortdata){for(var i=new Array,s=0;t>s;s++){var a={};a=e.extend({},this.dataview.sortdata[s].value),i[s]=a}return i}return this.dataview.records},getrowboundindexbyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t&&t.boundindex)return this.getboundindex(t);for(var i=this.getboundrows(),s=0;s<i.length;s++)if(i[s]&&i[s].uid==e)return s;return-1},getrowdatabyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t)return t;var i=this.getrowboundindexbyid(e);return this.getboundrows()[i]},getrowdata:function(e){if(void 0==e&&(e=0),this.virtualmode){var t=this.dataview.records[e];return t}var t=this.getboundrows()[e];return t},getrenderedrowdata:function(e,t){if(void 0==e&&(e=0),this.virtualmode){var i=this.getrowvisibleindex(e),s=this.dataview.loadedrecords[i];return s}var i=this.getrowvisibleindex(e);if(i>=0){if(this.groupable&&this.groups.length>0)var s=this.dataview.loadedrecords[i];else{var s=this.dataview.loadedrecords[i];if(this.pageable&&(void 0==t||0==t))var s=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+e]}return s}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(e){for(var t=this.getdisplayrows(),i=0;i<t.length;i++)if(void 0!==t[i].dataindex){if(t[i].dataindex===e)return t[i].visibleindex}else if(t[i].boundindex===e)return t[i].visibleindex;return-1},getboundindex:function(e){var t=e.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&e.bounddata&&(t=this.getrowboundindexbyid(e.bounddata.uid)),this.dataview.filters.length>0&&(e.bounddata?void 0!==e.bounddata.dataindex&&(t=e.bounddata.dataindex):void 0!==e.dataindex&&(t=e.dataindex)),t},getrowboundindex:function(e){var t=this.getdisplayrows()[e];return t?void 0!==t.dataindex?t.dataindex:t.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(e){var t=this.getvisiblerows();return t?t[e]:null},getloadedrowdata:function(e){var t=this.getloadedrows();return t?t[e]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var e=[],t=0;t<this.dataview.pagesize;t++){var i=this.dataview.loadedrecords[t+this.dataview.pagesize*this.dataview.pagenum];if(void 0==i)break;e.push(i)}return e}if(void 0!=this._startboundindex&&void 0!=this._endboundindex){for(var e=[],t=this._startvisibleindex;t<=this._endvisibleindex;t++){var i=this.dataview.loadedrecords[t];if(void 0==i)break;e.push(i)}return e}return this.dataview.loadedrecords},getrowid:function(e){if(void 0==e&&(e=0),this.virtualmode){var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];if(i)return i.uid}else{var i=null,s=this.dataview.filters.length>0;if(e>=0&&e<this.dataview.bounditems.length&&!s){if(this.groupable&&this.groups.length>0)var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];else var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];if(i)return i.uid}if(this.dataview.filters.length>0){var i=this.getboundrows()[e];return i&&null!=i.uid?i.uid:null}}return null},_updateGridData:function(e){var t=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(t=!0),t?(this.dataview.refresh(),"updaterow"==e?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):(this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)
},updaterow:function(t,i,s){if(void 0!=t&&void 0!=i){var r=this.that,n=!1;r._datachanged=!0;var a=function(t,i,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var n=!1;e.isArray(i)?(e.each(i,function(e){n=t.dataview.updaterow(this,r[e],!1)}),t.dataview.refresh()):n=t.dataview.updaterow(i,r);var a=t.vScrollInstance.value;if((void 0==s||1==s)&&(void 0==t._updating||0==t._updating)&&t._updateGridData("updaterow"),t.showaggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var o=t.dataview.recordsbyid["id"+i],l=t.dataview.records.indexOf(o),d=t.source._source._localdata()[l];t.source.suspendKO=!0,t.source._source._localdata.replace(d,e.extend({},o)),t.source.suspendKO=!1}var h=t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name;if(h&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var c=t.getrowboundindexbyid(i);t.source._source.localdata.set(c,r),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition(a),n};if(this.source.updaterow){var o=function(e){1==e||void 0==e?a(r,t,i):n=!1};try{n=this.source.updaterow(t,i,o),void 0==n&&(n=!0)}catch(l){n=!1}}else n=a(r,t,i);return n}return!1},deleterow:function(t,i){if(void 0!=t){this._datachanged=!0;var s=!1,r=this.that,n=this.getrowboundindexbyid(t);void 0!=n&&(this.selectedrowindexes.indexOf(n)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(n),1),this.selectedrowindex==n&&(this.selectedrowindex=-1));var a=function(t,s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var r=!1,a=t.vScrollInstance.value;if(e.isArray(s))e.each(s,function(){r=t.dataview.deleterow(this,!1)}),t.dataview.refresh();else var r=t.dataview.deleterow(s);(void 0==t._updating||0==t._updating)&&(void 0==i||1==i)&&(t._render(!0,!0,!1,!1),"visible"!=t.vScrollBar.css("visibility")&&(t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._renderrows(t.virtualsizeinfo))),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(rowdata),t.source.suspendKO=!1);var o=t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name;if(o&&(t.source._source.localdata._updating||(t.source._source.localdata._updating=!0,t.source._source.localdata.splice(n,1),t.source._source.localdata._updating=!1)),t.dataview.sortby){var l=t.getsortinformation();t.dataview.clearsortdata(),t.dataview.sortby(l.sortcolumn,l.sortdirection?l.sortdirection.ascending:null)}return t.vScrollInstance.setPosition(a),r};if(this.source.deleterow){var o=function(e){(1==e||void 0==e)&&a(r,t)};try{this.source.deleterow(t,o),void 0==s&&(s=!0)}catch(l){s=!1}}else s=a(r,t);return s}return!1},addrow:function(t,i,s){if(void 0!=i){this._datachanged=!0,void 0==s&&(s="last");var r=!1,n=this.that;if(null==t){var a=this.dataview.filters&&this.dataview.filters.length>0,o=a?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(e.isArray(i)){var l=new Array;e.each(i,function(e){var t=n.dataview.getid(n.dataview.source.id,i[e],o+e);l.push(t)}),t=l}else for(t=this.dataview.getid(this.dataview.source.id,i,o);null!=this.dataview.recordsbyid["id"+t];)t++}var d=function(t,i,s,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var n=t.vScrollInstance.value,a=!1;e.isArray(s)?(e.each(s,function(e){void 0!=this.dataindex&&delete this.dataindex;var s=null;null!=i&&null!=i[e]&&(s=i[e]),a=t.dataview.addrow(s,this,r,!1)}),t.dataview.refresh()):(void 0!=s&&void 0!=s.dataindex&&delete s.dataindex,a=t.dataview.addrow(i,s,r)),(void 0==t._updating||0==t._updating)&&(t._render(!0,!0,!1,!1),t.invalidate()),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(s),t.source.suspendKO=!1);var o=t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name;if(o&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var l=t.getrowboundindexbyid(i);t.source._source.localdata.set(l,s),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition("deferred"!=t.scrollmode?n:0),a};if(this.source.addrow){var h=function(e,r){(1==e||void 0==e)&&(void 0!=r&&(t=r),d(n,t,i,s))};try{r=this.source.addrow(t,i,s,h),void 0==r&&(r=!0)}catch(c){r=!1}if(0==r)return!1}else d(this,t,i,s);return r}return!1},_findvisiblerow:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;(void 0==t||null==t)&&(t=this.rows.records);for(var s=t.length;s>=i;){mid=parseInt((i+s)/2);var r=t[mid];if(void 0==r)break;if(r.top>e&&r.top+r.height>e)s=mid-1;else{if(!(r.top<e&&r.top+r.height<e))return mid;i=mid+1}}return-1},_updatecellwidths:function(){var e=this.virtualsizeinfo;if(e){var t=this.that;if(void 0!=t.gridcontent){void 0==t.table&&(t.table=t.gridcontent.find("#contenttable"+t.element.id));var i=t.groupable&&t.groups.length>0,s=0,r=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(r=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),r=t.dataview.rows.length)),t.groupable||t.pageable||!t.autoheight&&!t.autorowheight||(r=t.dataview.totalrecords),t.rowdetails&&(r+=t.dataview.pagesize),t.columns.records){for(var n=t.columns.records.length,a=t.table[0].rows,o=0;r>o;o++){var l=a[o];if(!l)break;for(var d=l.cells,h=0,c=0;n>c;c++){var u=t.columns.records[c],p=u.width,f=d[c];parseInt(f.style.left)!=h&&(f.style.left=h+"px"),parseInt(f.style.width)!=p&&(f.style.width=p+"px"),u.hidden&&u.hideable?f.style.display="none":h+=parseFloat(p)}0==s&&(t.table.width(parseFloat(h)+2),s=h)}t.showaggregates&&t._updateaggregates&&t._updateaggregates(),t.showfilterrow&&t.filterable&&t._updatefilterrowui&&t._updatefilterrowui(),t._updatescrollbarsafterrowsprerender(),i&&t._renderrows(t.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var e=this.that,t=e.hScrollBar[0].style.visibility,i=0,s=e.vScrollBar[0].style.visibility;"visible"==s&&(i=e.scrollbarsize+3),e.scrollbarautoshow&&(i=0);var r=e.element.style.width;if(r=r.toString().indexOf("%")>=0?e.host.width():parseInt(r),parseInt(e.table[0].style.width)-2>r-i){if("visible"!=t&&(e.autowidth||(e.hScrollBar[0].style.visibility="visible"),e._arrange()),"visible"==s){if("deferred"==e.scrollmode||e.virtualmode)e._updatevscrollbarmax();else if(e.virtualsizeinfo){var n=e.virtualsizeinfo.virtualheight-e._gettableheight();!isNaN(n)&&n>0&&("hidden"!=t?e.vScrollBar.jqxScrollBar("max",n+e.scrollbarsize+4):e.vScrollBar.jqxScrollBar("max",n))}}else i=-2;e.hScrollBar.jqxScrollBar("max",i+e.table.width()-e.host.width())}else"hidden"!=t&&(e.hScrollBar.css("visibility","hidden"),e._arrange());e._renderhorizontalscroll()},_prerenderrows:function(t){var i=this.that;if(1==i.prerenderrequired){if(i.prerenderrequired=!1,i.editable&&i._destroyeditors&&i._destroyeditors(),void 0==i.gridcontent)return;i.gridcontent.find("#contenttable"+i.element.id).remove(),null!=i.table&&(i.table.remove(),i.table=null),i.table=e('<div id="contenttable'+i.element.id+'" style="overflow: hidden; position: relative;" height="100%"></div>'),i.gridcontent.addClass(i.toTP("jqx-grid-content")),i.gridcontent.addClass(i.toTP("jqx-widget-content")),i.gridcontent.append(i.table);var s=i.groupable&&i.groups.length>0,r=0;i.table[0].rows=new Array;var n=i.toTP("jqx-grid-cell");s&&(n=" "+i.toTP("jqx-grid-group-cell"));var a=t.visiblerecords;if(i.pageable&&(i.autoheight||i.autorowheight)&&(a=i.dataview.pagesize,i.groupable&&(i.dataview.updateview(),a=i.dataview.rows.length,a<i.dataview.pagesize&&(a=i.dataview.pagesize))),i.pageable||!i.autoheight&&!i.autorowheight||(a=i.dataview.totalrecords),i.groupable&&i.groups.length>0&&(i.autoheight||i.autorowheight)&&!i.pageable&&(a=i.dataview.rows.length),i.rowdetails&&(a+=i.autoheight||i.autorowheight?i.dataview.pagesize:a),!i.columns.records)return;var o=i.columns.records.length;e.jqx.browser.msie&&e.jqx.browser.version>8&&i.table.css("opacity","0.99"),e.jqx.browser.mozilla,-1!=navigator.userAgent.indexOf("Safari")&&i.table.css("opacity","0.99");var l=e.jqx.browser.msie&&e.jqx.browser.version<8;l&&i.host.attr("hideFocus","true");var d=i.tableZIndex;a*o>d&&(d=a*o);var h=(0==i.dataview.records.length,i.isTouchDevice(),"");i._hiddencolumns=!1;for(var c=0;a>c;c++){var u='<div role="row" style="position: relative; height='+i.rowsheight+'px;" id="row'+c+i.element.id+'">';if(l){var u='<div role="row" style="position: relative; z-index: '+d+"; height:"+i.rowsheight+'px;" id="row'+c+i.element.id+'">';d--}for(var p=0,f=0;o>f;f++){var m=i.columns.records[f],g=m.width;if(g<m.minwidth&&(g=m.minwidth),g>m.maxwidth&&(g=m.maxwidth),i.rtl){var v=d-o+2*f,b='<div role="gridcell" style="left: '+p+"px; z-index: "+v+"; width:"+g+"px;";d--}else var b='<div role="gridcell" style="left: '+p+"px; z-index: "+d--+"; width:"+g+"px;";m.hidden&&m.hideable?(b+="display: none;",i._hiddencolumns=!0,d++):p+=g,b+='" class="'+n+'"></div>',u+=b}0==r&&(i.table.width(parseInt(p)+2),r=p),u+="</div>",h+=u}i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(h)}):i.table[0].innerHTML=h,i.table[0].rows=new Array;for(var x=i.table.children(),c=0;a>c;c++){var w=x[c];i.table[0].rows.push(w),w.cells=new Array;for(var y=e(w).children(),f=0;o>f;f++)w.cells.push(y[f])}if(0==a){var p=0;if(i.showemptyrow){var u=e('<div style="position: relative;" id="row0'+i.element.id+'"></div>');i.table.append(u),u.height(i.rowsheight),i.table[0].rows[0]=u[0],i.table[0].rows[0].cells=new Array}for(var f=0;o>f;f++){var m=i.columns.records[f],g=m.width;if(i.showemptyrow){var b=e('<div style="position: absolute; height: 100%; left: '+p+"px; z-index: "+d--+"; width:"+g+'px;" class="'+n+'"></div>');b.height(i.rowsheight),u.append(b),i.table[0].rows[0].cells[f]=b[0]}g<m.minwidth&&(g=m.minwidth),g>m.maxwidth&&(g=m.maxwidth),m.hidden&&m.hideable||(p+=g)}i.table.width(parseInt(p)+2),r=p}i._updatescrollbarsafterrowsprerender(),i.rendered&&i.rendered("rows"),i._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var e=null,t=null;this.tableheight=null;var i=this.that,s=!1,r=!1;if(null!=i.width&&-1!=i.width.toString().indexOf("px")?e=i.width:void 0==i.width||isNaN(i.width)||(e=i.width),null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=i.width,s=!0),i.scrollbarautoshow&&(i.vScrollBar[0].style.display="none",i.hScrollBar[0].style.display="none",i.vScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex,i.hScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex),i.autowidth){for(var n=0,a=0;a<i.columns.records.length;a++){var o=i.columns.records[a].width;"auto"==o?(o=i._measureElementWidth(i.columns.records[a].text),n+=o):n+=o}"hidden"!=i.vScrollBar.css("visibility")&&(n+=i.scrollbarsize+4),e=n,i.width=e}null!=i.height&&-1!=i.height.toString().indexOf("px")?t=i.height:void 0==i.height||isNaN(i.height)||(t=i.height),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=i.height,r=!0);var l=function(){var e=0,t=i.showheader&&null!=i.columnsheader?i.columnsheader.height()+2:0;return e+=t,i.pageable&&(e+=i.pagerheight),i._groupsheader()&&(e+=i.groupsheaderheight),i.showtoolbar&&(e+=i.toolbarheight),i.showstatusbar&&(e+=i.statusbarheight),"visible"==i.hScrollBar[0].style.visibility&&(e+=20),e};if(i.autoheight&&i.virtualsizeinfo)if(i.pageable&&i.gotopage){var d=0;t=d+(i._pageviews[0]?i._pageviews[0].height:0),t+=l(),i.showemptyrow&&0==i.dataview.totalrecords&&(t+=i.rowsheight)}else{var d=i.host.height()-i._gettableheight();i._pageviews.length>0?(t=d+i._pageviews[i._pageviews.length-1].height+i._pageviews[i._pageviews.length-1].top,i.vScrollBar[0].style.visibility="hidden"):(t=l(),i.showemptyrow&&(t+=i.rowsheight))}else i.autoheight&&(t=i.dataview.totalrecords*i.rowsheight,i._loading&&(t=250,i.dataloadelement.height(t)),t+=l(),t>1e4&&(t=1e4));null!=e?(e=parseInt(e),s?i.element.style.width=i.width:i.element.style.width!=parseInt(i.width)+"px"&&(i.element.style.width=parseInt(i.width)+"px"),s&&(e=i.host.width(),2>=e&&(e=600,i.host.width(e)),i._oldWidth||(i._oldWidth=e))):i.host.width(250),null!=t?(r||(t=parseInt(t)),r?i.element.style.height=i.height:i.element.style.height!=parseInt(t)+"px"&&(i.element.style.height=parseInt(t)+"px"),r&&!i.autoheight&&(t=i.host.height(),0==t&&(t=400,i.host.height(t)),i._oldHeight||(i._oldHeight=t))):i.host.height(250),i.autoheight&&(i.tableheight=null,i._gettableheight());var h=0;if(i.showtoolbar?(i.toolbar.width(e),i.toolbar.height(i.toolbarheight-1),i.toolbar.css("top",0),h+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.toolbar[0].style.height="0px",i.showstatusbar?(i.statusbar.width(i.showaggregates?i.table?Math.max(e,i.table.width()):e:e),i.statusbar.height(i.statusbarheight)):i.statusbar[0].style.height="0px",i._groupsheader()){i.groupsheader.width(e),i.groupsheader.height(i.groupsheaderheight),i.groupsheader.css("top",h);var c=i.groupsheader.height()+1;h+=c,t>c&&(t-=parseInt(c))}else{i.groupsheader[0].style.width!=e+"px"&&(i.groupsheader[0].style.width=parseInt(e)+"px"),i.groupsheader[0].style.height="0px",i.groupsheader[0].style.top!=h+"px"&&i.groupsheader.css("top",h);var c=i.showgroupsheader&&i.groupable?i.groupsheaderheight:0,u=h+c+"px";i.content[0].style.top!=u&&i.content.css("top",h+i.groupsheaderheight)}var p=i.scrollbarsize;isNaN(p)&&(p=parseInt(p),isNaN(p)?p="17px":p+="px"),p=parseInt(p);var f=4,m=2,g=0;"visible"==i.vScrollBar[0].style.visibility&&(g=p+f),"visible"==i.hScrollBar[0].style.visibility&&(m=p+f+2);var v=0;i.pageable&&(v=i.pagerheight,m+=i.pagerheight),i.showstatusbar&&(m+=i.statusbarheight,v+=i.statusbarheight),i.hScrollBar[0].style.height!=p+"px"&&(i.hScrollBar[0].style.height=parseInt(p)+"px"),(i.hScrollBar[0].style.top!=h+t-f-p-v+"px"||"0px"!=i.hScrollBar[0].style.left)&&i.hScrollBar.css({top:h+t-f-p-v+"px",left:"0px"});var b=i.hScrollBar[0].style.width,x=!1,w=!1;0==g?b!=e-2+"px"&&(i.hScrollBar.width(e-2),x=!0):b!=e-p-f+"px"&&(i.hScrollBar.width(e-p-f+"px"),x=!0),i.autoheight||(i.vScrollBar[0].style.width!=p+"px"&&(i.vScrollBar.width(p),w=!0),i.vScrollBar[0].style.height!=parseInt(t)-m+"px"&&(i.vScrollBar.height(parseInt(t)-m+"px"),w=!0),(i.vScrollBar[0].style.left!=parseInt(e)-parseInt(p)-f+"px"||i.vScrollBar[0].style.top!=h+"px")&&i.vScrollBar.css({left:parseInt(e)-parseInt(p)-f+"px",top:h})),i.rtl&&(i.vScrollBar.css({left:"0px",top:h}),"hidden"!=i.vScrollBar.css("visibility")&&i.hScrollBar.css({left:p+2}));var y=i.vScrollInstance;y.disabled=i.disabled,i.autoheight||w&&y.refresh();var _=i.hScrollInstance;_.disabled=i.disabled,x&&_.refresh(),i.autowidth&&(i.hScrollBar[0].style.visibility="hidden"),i.statusbarheight=parseInt(i.statusbarheight),i.toolbarheight=parseInt(i.toolbarheight);var j=function(e){"visible"==e.vScrollBar[0].style.visibility&&"visible"==e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="visible",e.bottomRight.css({left:1+parseInt(e.vScrollBar.css("left")),top:parseInt(e.hScrollBar.css("top"))}),e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight.width(parseInt(p)+3),e.bottomRight.height(parseInt(p)+4),e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+e.statusbarheight),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.statusbarheight}))):e.bottomRight[0].style.visibility="hidden"};if(j(this),i.content[0].style.width!=e-g+"px"&&i.content.width(e-g),i.content[0].style.height!=t-m+3+"px"&&i.content.height(t-m+3),i.scrollbarautoshow&&(i.content[0].style.width!=e+"px"&&i.content.width(e),i.content[0].style.height!=t+"px"&&i.content.height(t)),i.content[0].style.top!=h+"px"&&i.content.css("top",h),i.rtl&&(i.content.css("left",g),i.scrollbarautoshow&&i.content.css("left","0px"),i.table)){var q=i.table.width();e-g>q&&i.content.css("left",e-q)}if(i.showstatusbar&&(i.statusbar.css("top",h+t-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.showaggregates&&("visible"==i.hScrollBar.css("visibility")&&(i.hScrollBar.css({top:h+t-f-p-v+i.statusbarheight+"px"}),i.statusbar.css("top",1+h+t-p-5-i.statusbarheight-(i.pageable?i.pagerheight:0))),j(this)),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.statusbar.css("left",i.content.css("left")):i.statusbar.css("left","0px"))),i.pageable?(i.pager.width(e),i.pager.height(i.pagerheight),i.pager.css("top",h+t-i.pagerheight-1)):i.pager[0].style.height="0px",null!=i.table){var k=-2;if("visible"==i.vScrollBar[0].style.visibility&&(k=i.scrollbarsize+3),"visible"==i.hScrollBar[0].style.visibility){var I=k+i.table.width()-i.host.width();I>=0&&i.hScrollBar.jqxScrollBar("max",I),"visible"==i.hScrollBar[0].style.visibility&&0==I&&(i.hScrollBar[0].style.visibility="hidden",i._arrange())}}e!=parseInt(i.dataloadelement[0].style.width)&&(i.dataloadelement[0].style.width=i.element.style.width),t!=parseInt(i.dataloadelement[0].style.height)&&(i.dataloadelement[0].style.height=i.element.style.height),i._hostwidth=e},destroy:function(){if(delete e.jqx.dataFormat.datescache,delete this.gridlocalization,e.jqx.utilities.resize(this.host,null,!0),this.table&&this.table[0]){for(var t=this.table[0].rows.length,i=0;t>i;i++){for(var s=this.table[0].rows[i],r=s.cells,n=r.length,a=0;n>a;a++)e(s.cells[a]).remove(),s.cells[a]=null,delete s.cells[a];s.cells=null,s.cells&&delete s.cells,e(this.table[0].rows[i]).remove(),this.table[0].rows[i]=null}try{delete this.table[0].rows}catch(o){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(var i=0;i<this.columns.records.length;i++){var l=this.columns.records[i];this._removecolumnhandlers(this.columns.records[i]),l.element&&(e(l.element).remove(),e(l.sortasc).remove(),e(l.sortdesc).remove(),e(l.filtericon).remove(),e(l.menu).remove(),l.element=null,l.uielement=null,l.sortasc=null,l.sortdesc=null,l.filtericon=null,l.menu=null,delete l.element,delete l.uielement,delete l.sortasc,delete l.sortdesc,delete l.filtericon,delete l.menu,delete this.columnsrow[0].cells[i])}try{delete this.columnsrow[0].cells}catch(o){}delete this.columnsrow}if(e.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(e(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(e(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(e(document),"selectstart."+this.element.id),this.removeHandler(e(document),"mousedown.resize"+this.element.id),this.removeHandler(e(document),"mouseup.resize"+this.element.id),this.removeHandler(e(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var d=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,h=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,c=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),d),this.removeHandler(e(document),h),this.removeHandler(e(document),c)}if(this.removeHandler(e(document),"mousedown.reorder"+this.element.id),this.removeHandler(e(document),"mouseup.reorder"+this.element.id),this.removeHandler(e(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){var d=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,h=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,c=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(e(document),d),this.removeHandler(e(document),h),this.removeHandler(e(document),c)}if(this.removeHandler(e(window),"resize."+this.element.id),this.groupable){var d="mousemove.grouping"+this.element.id,h="mousedown.grouping"+this.element.id,c="mouseup.grouping"+this.element.id;this.removeHandler(e(document),d),this.removeHandler(e(document),h),this.removeHandler(e(document),c)}if(this.columnsreorder){var d="mousemove.reorder"+this.element.id,h="mousedown.reorder"+this.element.id,c="mouseup.reorder"+this.element.id;this.removeHandler(e(document),d),this.removeHandler(e(document),h),this.removeHandler(e(document),c),delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader.remove(),delete this.columnsheader,this.selectionarea.remove(),delete this.selectionarea,this.menuitemsarray&&this.menuitemsarray.length)for(var u=this.menuitemsarray.length,i=0;u>i;i++)e(this.menuitemsarray[i]).remove();delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent.remove(),delete this.gridcontent,this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var i=this.source?this.source.datafields:null;null==i&&this.source&&this.source._source&&(i=this.source._source.datafields);var s=i?i.length>0:!1;if(this.autogeneratecolumns){var r=new Array;if(i)e.each(i,function(){var e={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};r.push(e)});else if(this.source.records.length>0){var n=this.source.records[0];for(obj in n)if("uid"!=obj){var a={width:100,datafield:obj,text:obj};r.push(a)}}this.columns=r}if(this.columns&&this.columns.records)for(var o=0;o<this.columns.records.length;o++)this._removecolumnhandlers(this.columns.records[o]);var l=this.that,d=new e.jqx.collection(this.element),h=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&e.each(this.groups,function(){var e=new t(l,this);e.visibleindex=h++,e.width=l.groupindentwidth,d.add(e),e.grouped=!0,e.filterable=!1,e.sortable=!1,e.editable=!1,e.resizable=!1,e.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn){var a=new t(l,this);a.visibleindex=h++,a.width=l.groupindentwidth,a.pinned=!0,a.editable=!1,a.filterable=!1,a.draggable=!1,a.groupable=!1,a.resizable=!1,d.add(a),l._haspinned=!0}if("checkbox"==this.selectionmode){var a=new t(l,null);a.visibleindex=h++,a.width=l.groupindentwidth,a.checkboxcolumn=!0,a.editable=!1,a.columntype="checkbox",a.groupable=!1,a.draggable=!1,a.filterable=!1,a.resizable=!1,a.datafield="_checkboxcolumn",d.add(a)}var c=new Array;e.each(this.columns,function(e){if(void 0!=l.columns[e]){var i=new t(l,this);if(i.visibleindex=h++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(l._haspinned=!0),null==this.datafield)l.source&&l.source._source&&"array"==l.source._source.datatype&&(s||(l.source._source.datafields?l.source._source.datafields.push({name:e.toString()}):(l.source._source.datafields=new Array,l.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(c[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");c[this.datafield]=!0}d.add(i)}}),this.rtl&&d.records.reverse(),this.columns=d},_initializeRows:function(){var t=new e.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=t},_raiseEvent:function(t,i){if(void 0==i&&(i={owner:null}),this._trigger!==!1){var s=this.events[t];this._camelCase||(s=s.toLowerCase()),args=i,args.owner=this;var r=new e.Event(s);r.owner=this,r.args=args;var n=this.host.trigger(r);return i=r.args,n}},wheel:function(e,t){if(t.autoheight&&"visible"!=t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),s?(s=!1,e.returnValue=s,s):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;if(t!=i)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var t=this.hScrollInstance.value;this.hScrollInstance.setPosition(e>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.value-2*this.horizontalscrollbarstep:0:this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.value+2*this.horizontalscrollbarstep:this.hScrollInstance.max);var i=this.hScrollInstance.value;if(t!=i)return!0}return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.setPosition(e.value+this.rowsheight<=e.max?parseInt(e.value)+this.rowsheight:e.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.setPosition(e.value-this.rowsheight>=e.min?parseInt(e.value)-this.rowsheight:e.min)}},_removeHandlers:function(){var t=this.that;t.removeHandler(t.vScrollBar,"valueChanged"),t.removeHandler(t.hScrollBar,"valueChanged"),t.vScrollInstance.valueChanged=null,t.hScrollInstance.valueChanged=null;var i="mousedown.jqxgrid";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),t.removeHandler(t.host,"dblclick.jqxgrid"),t.removeHandler(t.host,i),t.removeHandler(t.content,"mousemove",t._mousemovefunc),t.removeHandler(t.host,"mouseleave.jqxgrid"),t.removeHandler(t.content,"mouseenter"),t.removeHandler(t.content,"mouseleave"),t.removeHandler(t.content,"mousedown"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"selectstart."+t.element.id),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"keydown.edit"+t.element.id),t.removeHandler(e(document),"keydown.edit"+t.element.id),t.removeHandler(e(document),"keyup.edit"+t.element.id),t._mousemovedocumentfunc&&t.removeHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc),t.removeHandler(e(document),"mouseup.selection"+t.element.id),t._mousewheelfunc&&t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.editable&&t.removeHandler(e(document),"mousedown.gridedit"+t.element.id),t.host.off&&(t.content.off("mousemove"),t.host.off("mousewheel"))},_addHandlers:function(){var t=this.that,i=t.isTouchDevice();i||t.addHandler(t.host,"dragstart."+t.element.id,function(){return!1}),t.scrollbarautoshow&&(t.addHandler(t.host,"mouseenter.gridscroll"+t.element.id,function(){t.vScrollBar.fadeIn("fast"),t.hScrollBar.fadeIn("fast")}),t.addHandler(t.host,"mouseleave.gridscroll"+t.element.id,function(){t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()||(t.vScrollBar.fadeOut("fast"),t.hScrollBar.fadeOut("fast"))})),t.editable&&t.addHandler(e(document),"mousedown.gridedit"+t.element.id,function(e){if(t.editable&&t.begincelledit&&t.editcell&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var i=t.host.coord(),s=t.host.width(),r=t.host.height(),n=!1,a=!1,o=!1;if((e.pageY<i.top||e.pageY>i.top+r)&&(n=!0,a=!0),(e.pageX<i.left||e.pageX>i.left+s)&&(n=!0,o=!0),n){if(t.editcell&&t.editcell.editor)switch(t.editcell.columntype){case"datetimeinput":if(t.editcell.editor.jqxDateTimeInput&&t.editcell.editor.jqxDateTimeInput("container")&&"block"==t.editcell.editor.jqxDateTimeInput("container")[0].style.display){var l=t.editcell.editor.jqxDateTimeInput("container").coord().top,d=t.editcell.editor.jqxDateTimeInput("container").coord().top+t.editcell.editor.jqxDateTimeInput("container").height();if(!a||!(e.pageY<l||e.pageY>d))return;n=!0,t.editcell.editor.jqxDateTimeInput("close")}break;case"combobox":if(t.editcell.editor.jqxComboBox&&t.editcell.editor.jqxComboBox("container")&&"block"==t.editcell.editor.jqxComboBox("container")[0].style.display){var l=t.editcell.editor.jqxComboBox("container").coord().top,d=t.editcell.editor.jqxComboBox("container").coord().top+t.editcell.editor.jqxComboBox("container").height();if(!a||!(e.pageY<l||e.pageY>d))return;n=!0,t.editcell.editor.jqxComboBox("close")}break;case"dropdownlist":if(t.editcell.editor.jqxDropDownList&&t.editcell.editor.jqxDropDownList("container")&&"block"==t.editcell.editor.jqxDropDownList("container")[0].style.display){var l=t.editcell.editor.jqxDropDownList("container").coord().top,d=t.editcell.editor.jqxDropDownList("container").coord().top+t.editcell.editor.jqxDropDownList("container").height();if(!a||!(e.pageY<l||e.pageY>d))return;n=!0,t.editcell.editor.jqxDropDownList("close")}break;case"template":case"custom":for(var h=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],c=function(i){var s=t.editcell.editor.data();if(s[i]&&s[i].instance.container&&"block"==s[i].instance.container[0].style.display){var r=s[i].instance,o=r.container.coord().top,l=r.container.coord().top+r.container.height();return a&&(e.pageY<o||e.pageY>l)?(n=!0,r.close(),!0):!1}},u=0;u<h.length;u++){var p=c(h[u]);if(0==p)return}}t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t._oldselectedcell=null}}}),t.vScrollInstance.valueChanged=function(e){t.virtualsizeinfo&&(t._closemenu(),"physical"!=t.scrollmode?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):void 0!=t.currentScrollValue&&Math.abs(t.currentScrollValue-e.currentValue)>=5?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue),t.pageable||t.groupable||!t.dataview.virtualmode||(t.loadondemandupdate&&clearTimeout(t.loadondemandupdate),t.loadondemandupdate=setTimeout(function(){t.loadondemand=!0,t._renderrows(t.virtualsizeinfo)},100)),i&&(t._lastScroll=new Date))},t.hScrollInstance.valueChanged=function(){if(t.virtualsizeinfo){t._closemenu();{var s=function(){t._renderhorizontalscroll(),t._renderrows(t.virtualsizeinfo),t.editcell&&!t.editrow&&t._showcelleditor&&t.editcell.editing&&(t.hScrollInstance.isScrolling()||t._showcelleditor(t.editcell.row,t.getcolumn(t.editcell.column),t.editcell.element,t.editcell.init))
};void 0==t._browser?t._isIE10():t._browser}navigator&&-1!=navigator.userAgent.indexOf("Safari")?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){s()},1)):e.jqx.browser.msie?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){s()},.01)):s(),i&&(t._lastScroll=new Date)}},t._mousewheelfunc=t._mousewheelfunc||function(e){return!t.editcell&&t.enablemousewheel?(t.wheel(e,t),!1):void 0},t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.addHandler(t.host,"mousewheel",t._mousewheelfunc);var s="mousedown.jqxgrid";i&&(s=e.jqx.mobile.getTouchEventName("touchend")),t.addHandler(t.host,s,function(i){if(t.isTouchDevice()){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(e(i.target).ischildof(t.vScrollBar))return!1;if(e(i.target).ischildof(t.hScrollBar))return!1}t._mousedown=new Date;var s=t._handlemousedown(i,t);return t.isNestedGrid&&(t.resizablecolumn||t.columnsreorder||i.stopPropagation()),t._lastmousedown=new Date,s}),i||(t.addHandler(t.host,"dblclick.jqxgrid",function(i){if(t.editable&&t.begincelledit&&"dblclick"==t.editmode)t._handledblclick(i,t);else if(e.jqx.browser.msie&&e.jqx.browser.version<9){t._handlemousedown(i,t)}return t.mousecaptured=!1,t._lastmousedown=new Date,!0}),t._mousemovefunc=function(e){return t._handlemousemove?t._handlemousemove(e,t):void 0},t.addHandler(t.content,"mousemove",t._mousemovefunc),t._handlemousemoveselection&&(t._mousemovedocumentfunc=function(e){return t._handlemousemoveselection?t._handlemousemoveselection(e,t):void 0},t.addHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc)),t.addHandler(e(document),"mouseup.selection"+t.element.id,function(e){t._handlemouseupselection&&t._handlemouseupselection(e,t)}));try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r=null;if(window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)){var n=function(e){if(t._handlemouseupselection)try{t._handlemouseupselection(e,t)}catch(i){}};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",n,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",n)}}}catch(a){}t.focused=!1,i||(t.addHandler(t.content,"mouseenter",function(){t.focused=!0,t.wrapper&&(t.wrapper.attr("tabindex",1),t.content.attr("tabindex",2)),t._overlayElement&&(t._overlayElement[0].style.visibility=t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()?"visible":"hidden")}),t.addHandler(t.content,"mouseleave",function(){t._handlemousemove&&t.enablehover&&t._clearhoverstyle(),t._overlayElement&&(t._overlayElement[0].style.visibility="hidden"),t.focused=!1}),(t.groupable||t.columnsreorder)&&t.addHandler(e(document),"selectstart."+t.element.id,function(){return t.__drag===!0?!1:void 0}),t.addHandler(t.content,"selectstart."+t.element.id,function(i){return t.enablebrowserselection?!0:t.showfilterrow&&e(i.target).ischildof(t.filterrow)?!0:t.editcell?void(i.stopPropagation&&i.stopPropagation()):!1}),t.addHandler(e(document),"keyup.edit"+t.element.id,function(){t._keydown=!1}),t.addHandler(e(document),"keydown.edit"+t.element.id,function(i){t._keydown=!0&&!t.editcell;var s=i.charCode?i.charCode:i.keyCode?i.keyCode:0;if(t.handlekeyboardnavigation){var r=t.handlekeyboardnavigation(i);if(1==r)return!1}if(t.editable&&t.editcell&&(13==s||27==s)&&t._handleeditkeydown&&(n=t._handleeditkeydown(i,t)),27==s&&(t.mousecaptured=!1,"visible"==t.selectionarea.css("visibility")&&t.selectionarea.css("visibility","hidden")),e.jqx.browser.msie&&e.jqx.browser.version<8&&t.focused&&!t.isNestedGrid){if(13==s&&0==n)return n;var n=!0,s=i.charCode?i.charCode:i.keyCode?i.keyCode:0;if(!t.editcell&&t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(n=t._handleeditkeydown(i,t)),n&&t.keyboardnavigation&&t._handlekeydown)return n=t._handlekeydown(i,t),n||(i.preventDefault&&i.preventDefault(),void 0!=i.stopPropagation&&i.stopPropagation()),n}return!0}),t.addHandler(t.host,"keydown.edit"+t.element.id,function(i){var s=!0;if(t.handlekeyboardnavigation){var r=t.handlekeyboardnavigation(i);if(1==r)return!1}return t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(s=t._handleeditkeydown(i,t),t.isNestedGrid&&i.stopPropagation()),e.jqx.browser.msie&&e.jqx.browser.version<8?t.isNestedGrid&&s&&t.keyboardnavigation&&t._handlekeydown&&(s=t._handlekeydown(i,t),i.stopPropagation()):s&&t.keyboardnavigation&&t._handlekeydown&&(s=t._handlekeydown(i,t),t.isNestedGrid&&i.stopPropagation()),s||(i.preventDefault&&i.preventDefault(),void 0!=i.stopPropagation&&i.stopPropagation()),s}))},_hittestrow:function(t,i){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){void 0==t&&(t=0);var s=this.vScrollInstance,r=this.hScrollInstance,n=s.value;"visible"!=this.vScrollBar.css("visibility")&&(n=0);var a=r.value;"visible"!=this.hScrollBar.css("visibility")&&(a=0),"deferred"==this.scrollmode&&null!=this._newmax&&n>this._newmax&&(n=this._newmax);{var o=parseInt(n)+i;parseInt(a)+t}if(null!=this.visiblerows&&0!=this.visiblerows.length){var l=!1,d=this._findvisiblerow(o,this.visiblerows);if(d>=0){var h=this.visiblerows[d],c=this.rowdetails&&h.rowdetails,u=!h.rowdetailshidden;if(c){var p=this.visiblerows[d-1];if(p==h&&(h=p,d--),u){var f=e(this.hittestinfo[d].visualrow).position().top+parseInt(this.table.css("top")),m=e(this.hittestinfo[d].visualrow).height();i>=f&&f+m>=i||(d++,h=this.visiblerows[d],l=!0)}}}return{index:d,row:h,details:l}}}},getcellatposition:function(t,i){var s=this.that,r=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0,a=this.showtoolbar?this.toolbarheight:0;n+=a;var o=this.host.coord();this.hasTransform&&(o=e.jqx.utilities.getOffset(this.host));var l=t-o.left,d=i-r-o.top-n,h=this._hittestrow(l,d),c=h.row,u=h.index,p=this.table[0].rows[u];if(this.dataview&&0==this.dataview.records.length){for(var f=this.table[0].rows,m=0,g=0;g<f.length;g++){if(d>=m&&d<m+this.rowsheight){p=f[g];break}m+=this.rowsheight}c={boundindex:g}}if(null==p)return!0;for(var v=this.hScrollInstance,b=v.value,x=0,g=(this.groupable?this.groups.length:0,0);g<p.cells.length;g++){var w=parseInt(e(this.columnsrow[0].cells[g]).css("left")),t=w-b;if(s.columns.records[g].pinned&&(t=w),!s.columns.records[g].hidden){var y=t+e(this.columnsrow[0].cells[g]).width();if(y>=l&&l>=t){x=g;break}}}if(null!=c){var _=this._getcolumnat(x);return{row:this.getboundindex(c),column:_.datafield,value:this.getcellvalue(this.getboundindex(c),_.datafield)}}return null},_handlemousedown:function(t,i){if(null==t.target)return!0;if(i.disabled)return!0;if(e(t.target).ischildof(this.columnsheader))return!0;var s;t.which?s=3==t.which:t.button&&(s=2==t.button);var r;if(t.which?r=2==t.which:t.button&&(r=1==t.button),r)return!0;if(this.showstatusbar){if(e(t.target).ischildof(this.statusbar))return!0;if(t.target==this.statusbar[0])return!0}if(this.showtoolbar){if(e(t.target).ischildof(this.toolbar))return!0;if(t.target==this.toolbar[0])return!0}if(this.pageable){if(e(t.target).ischildof(this.pager))return!0;if(t.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&e(t.target).ischildof(this.pager))return!0;var n=this.showheader?this.columnsheader.height()+2:0,a=this._groupsheader()?this.groupsheader.height():0,o=this.showtoolbar?this.toolbarheight:0;a+=o;var l=this.host.coord();if(this.hasTransform){l=e.jqx.utilities.getOffset(this.host);var d=this._getBodyOffset();l.left-=d.left,l.top-=d.top}var h=parseInt(t.pageX),c=parseInt(t.pageY);if(this.isTouchDevice()){var u=i.getTouches(t),p=u[0];h=parseInt(p.pageX),c=parseInt(p.pageY),1==i.touchmode&&void 0!=p._pageX&&(h=parseInt(p._pageX),c=parseInt(p._pageY))}var f=h-l.left,m=c-n-l.top-a;if(this.pageable&&!this.autoheight&&this.gotopage){var g=this.pager.coord().top-l.top-a-n;if(m>g)return}var v=this._hittestrow(f,m);if(v&&!v.details){var b=v.row,x=v.index,w=t.target.className,y=this.table[0].rows[x];if(null==y)return i.editable&&i.begincelledit&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!0;i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-a,clickedrow:y};var _=this.hScrollInstance,j=_.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(j=_.max-_.value);var q=-1,k=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(j-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(j=-parseInt(this.content.css("left"))));for(var I=0;I<y.cells.length;I++){var T=parseInt(e(this.columnsrow[0].cells[I]).css("left")),h=T-j;i.columns.records[I].pinned&&!i.rtl&&(h=T);var C=this._getcolumnat(I);if(null==C||!C.hidden){var S=h+e(this.columnsrow[0].cells[I]).width();if(S>=f&&f>=h){q=I,i.mousecaptureposition.clickedcell=I;break}}}if(this.rtl&&this._haspinned)for(var I=y.cells.length-1;I>=0&&i.columns.records[I].pinned;I--){var T=e(this.columnsrow[0].cells[I]).coord().left-this.host.coord().left,h=T,C=this._getcolumnat(I);if(null==C||!C.hidden){var S=h+e(this.columnsrow[0].cells[I]).width();if(S>=f&&f>=h){q=I,i.mousecaptureposition.clickedcell=I;break}}}if(null!=b&&q>=0){this._raiseEvent(1,{rowindex:this.getboundindex(b),visibleindex:b.visibleindex,row:b,group:b.group,rightclick:s,originalEvent:t});var C=this._getcolumnat(q),D=this.getcellvalue(this.getboundindex(b),C.datafield);if(this.editable&&this.editcell&&C.datafield==this.editcell.column&&this.getboundindex(b)==this.editcell.row&&(this.mousecaptured=!1),this._raiseEvent(8,{rowindex:this.getboundindex(b),column:C?C.getcolumnproperties():null,row:b,visibleindex:b.visibleindex,datafield:C?C.datafield:null,columnindex:q,value:D,rightclick:s,originalEvent:t}),this.isTouchDevice())if("checkbox"==C.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(x,C.datafield),!0}else if("button"==C.columntype&&this._overlayElement)return C.buttonclick&&C.buttonclick(y.cells[q].buttonrow,t),!0;var P=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(b)&&(this._raiseEvent(22,{rowindex:this.getboundindex(b),row:b,visibleindex:b.visibleindex,group:b.group,rightclick:s,originalEvent:t}),this._clickedcolumn==C.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(b),row:b,visibleindex:b.visibleindex,column:C?C.getcolumnproperties():null,datafield:C?C.datafield:null,columnindex:q,value:D,rightclick:s,originalEvent:t}),P=!0,this._clickedrowindex=-1,this._clickedcolumn=null,t.isPropagationStopped&&t.isPropagationStopped()))return!1;if(s)return!0;P||(this._clickedrowindex=this.getboundindex(b),this._clickedcolumn=C.datafield);var E=e.jqx.utilities.getBrowser();if("msie"==E.browser&&parseInt(E.version)<=7&&(0==q&&this.rowdetails&&(w="jqx-grid-group-collapse"),k>0&&k>=q&&(w="jqx-grid-group-collapse")),-1!=w.indexOf("jqx-grid-group-expand")||-1!=w.indexOf("jqx-grid-group-collapse"))this.rtl?k>0&&q>y.cells.length-k-1&&this._togglegroupstate?this._togglegroupstate(b.bounddata,!0):q==y.cells.length-1-k&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(b.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):k>0&&k>q&&this._togglegroupstate?this._togglegroupstate(b.bounddata,!0):q==k&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(b.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=b.boundindex){var H=this.selectedrowindexes.slice(0),B=!1;if("none"!=i.selectionmode&&"checkbox"!=i.selectionmode&&this._selectrowwithmouse){("multiplecellsadvanced"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplerowsextended"==i.selectionmode||"multiplerowsadvanced"==i.selectionmode)&&(t.ctrlKey||t.shiftKey||t.metaKey||(i.selectedrowindexes=new Array,i.selectedcells=new Array));var A=!1,z=this.getboundindex(b);(i._oldselectedrow===z||"none"===i.selectionmode)&&(A=!0),-1==i.selectionmode.indexOf("cell")?("singlerow"!=i.selectionmode||i.selectedrowindex!=z&&"singlerow"==i.selectionmode)&&(this._applyrowselection(z,!0,!1,null,C.datafield),this._selectrowwithmouse(i,v,H,C.datafield,t.ctrlKey||t.metaKey,t.shiftKey)):null!=C.datafield&&(this._selectrowwithmouse(i,v,H,C.datafield,t.ctrlKey||t.metaKey,t.shiftKey),t.shiftKey||this._applycellselection(z,C.datafield,!0,!1)),i._oldselectedcell&&i._oldselectedcell.datafield==i.selectedcell.datafield&&i._oldselectedcell.rowindex==i.selectedcell.rowindex&&(B=!0),i._oldselectedcell=i.selectedcell,i._oldselectedrow=z}if(i.autosavestate&&i.savestate&&i.savestate(),i.editable&&i.begincelledit&&"programmatic"!=i.editmode){if(t.isPropagationStopped&&t.isPropagationStopped())return!1;if("selectedrow"==i.editmode){if(A&&!i.editcell){if("checkbox"!==C.columntype){i.beginrowedit(this.getboundindex(b))}}else if(i.editcell&&!A&&"none"!=i.selectionmode){i.endrowedit(i.editcell.row)}}else{var M="click"==i.editmode||B&&"selectedcell"==i.editmode;if(-1==i.selectionmode.indexOf("cell")&&"dblclick"!=i.editmode&&(M=!0),M&&void 0!=b.boundindex&&C.editable){{i.begincelledit(this.getboundindex(b),C.datafield,C.defaulteditorvalue)}-1!=i.selectionmode.indexOf("cell")&&i._applycellselection(z,C.datafield,!1,!1)}-1!=i.selectionmode.indexOf("cell")&&"selectedcell"==i.editmode&&!B&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0)}return!0}}}return!0}},_columnPropertyChanged:function(){},_rowPropertyChanged:function(){},_serializeObject:function(t){if(null==t)return"";var i="";return e.each(t,function(e){var t=this;e>0&&(i+=", "),i+="[";var s=0;for(obj in t)s>0&&(i+=", "),i+="{"+obj+":"+t[obj]+"}",s++;i+="]"}),i},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized)switch(i=i.toLowerCase()){case"enablebrowserselection":t.showfilterrow||(t.showstatusbar||t.showtoolbar||t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect")),t.enablebrowserselection&&(t.content.removeClass("jqx-disableselect"),t.host.removeClass("jqx-disableselect"));break;case"columnsheight":(25!=t.columnsheight||t.columngroups)&&t._measureElement("column"),t._render(!0,!0,!0,!1,!1);break;case"rowsheight":r!=s&&(25!=t.rowsheight&&t._measureElement("cell"),t.virtualsizeinfo=null,t.rendergridcontent(!0,!1),t.refresh());break;case"scrollMode":t.vScrollInstance.thumbStep=t.rowsheight;break;case"showdefaultloadelement":t._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":t._initmenu();break;case"touchmode":s!=r&&(t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._addHandlers());break;case"autoshowcolumnsmenubutton":s!=r&&t._rendercolumnheaders();break;case"rendergridrows":s!=r&&t.updatebounddata();break;case"editmode":s!=r&&(t._removeHandlers(),t._addHandlers());break;case"source":t.updatebounddata(),t.virtualmode&&!t._loading&&(t.loadondemand=!0,t._renderrows(t.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":t._initgroupsheader&&t._initgroupsheader();break;case"showgroupsheader":s!=r&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader(),t._renderrows(t.virtualsizeinfo));break;case"theme":r!=s&&(e.jqx.utilities.setTheme(s,r,t.host),t.gridmenu&&t.gridmenu.jqxMenu({theme:r}),t.pageable&&t._updatepagertheme(),t.filterable&&t._updatefilterrowui(!0));break;case"showtoolbar":case"toolbarheight":s!=r&&(t._arrange(),t.refresh());break;case"showstatusbar":s!=r&&(t.statusbar&&(r?t.statusbar.show():t.statusbar.hide()),t._arrange(),t.refresh());break;case"statusbarheight":s!=r&&(t._arrange(),t.refresh());break;case"filterable":case"showfilterrow":s!=r&&t.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":s!=r&&t.rendergridcontent();break;case"showrowdetailscolumn":s!=r&&t.render();break;case"scrollbarsize":s!=r&&t._arrange();break;case"width":case"height":s!=r&&(t._updatesize(!0,!0),t._resizeWindow(),t.virtualmode&&!t._loading&&t.vScrollInstance.setPosition(0));break;case"altrows":case"altstart":case"altstep":s!=r&&t._renderrows(t.virtualsizeinfo);break;case"groupsheaderheight":s!=r&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader());break;case"pagerheight":s!=r&&t._initpager();break;case"selectedrowindex":t.selectrow(r);break;case"selectionmode":s!=r&&("none"==r&&(t.selectedrowindexes=new Array,t.selectedcells=new Array,t.selectedrowindex=-1),t._renderrows(t.virtualsizeinfo),"checkbox"==r&&t._render(!1,!1,!0,!1,!1));break;case"showheader":r?t.columnsheader.css("display","block"):t.columnsheader.css("display","none");break;case"virtualmode":s!=r&&(t.dataview.virtualmode=t.virtualmode,t.dataview.refresh(!1),t._render(!1,!1,!1));break;case"columnsmenu":s!=r&&t.render();break;case"columngroups":t._render(!0,!0,!0,!1,!1);break;case"columns":if(t._serializeObject(t._cachedcolumns)!==t._serializeObject(r)){var n=!1;t.filterable&&s&&s.records&&e.each(s.records,function(){this.filter&&(n=!0),t.dataview.removefilter(this.displayfield,this.filter)}),t._columns=null,t._filterrowcache=[],t.render(),n&&t.applyfilters(),t._cachedcolumns=t.columns,t.removesort&&t.removesort()}else t._initializeColumns();break;case"autoheight":s!=r&&t._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":s!=r&&t._initpager&&(t.pagershowrowscombo&&(t.pagershowrowscombo.jqxDropDownList("destroy"),t.pagershowrowscombo=null),t.pagerrightbutton&&(t.removeHandler(t.pagerrightbutton,"mousedown"),t.removeHandler(t.pagerrightbutton,"mouseup"),t.removeHandler(t.pagerrightbutton,"click"),t.pagerrightbutton.jqxButton("destroy"),t.pagerrightbutton=null),t.pagerleftbutton&&(t.removeHandler(t.pagerleftbutton,"mousedown"),t.removeHandler(t.pagerleftbutton,"mouseup"),t.removeHandler(t.pagerleftbutton,"click"),t.pagerleftbutton.jqxButton("destroy"),t.removeHandler(e(document),"mouseup.pagerbuttons"+t.element.id),t.pagerleftbutton=null),t.pagerdiv.remove(),t._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(s!=r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);if(!t.host.jqxDropDownList||!t.host.jqxListBox)return void t._testmodules();if(t._initpager){if("pageable"!=i&&"pagermode"!=i&&"string"==typeof r){var a="The expected value type is: Int.";if("pagesize"!=i)var a="The expected value type is: Array of Int values.";throw new Error("Invalid Value for: "+i+". "+a)}t.dataview.pageable=t.pageable,t.dataview.pagenum=0,t.dataview.pagesize=t._getpagesize(),t.virtualmode&&t.updatebounddata(),t.dataview.refresh(!0),t._initpager(),"pagesizeoptions"==i&&null!=r&&r.length>0&&(t.pagesize=parseInt(r[0]),t.dataview.pagesize=parseInt(r[0]),t.prerenderrequired=!0,t._requiresupdate=!0,t.dataview.pagenum=-1,t.gotopage(0))}t._render(!1,!1,!1)}break;case"groups":t._serializeObject(s)!==t._serializeObject(r)&&(t.dataview.groups=r,t._refreshdataview(),t._render(!0,!0,!0,!1));break;case"groupable":s!=r&&(t.dataview.groupable=t.groupable,t.dataview.pagenum=0,t.dataview.refresh(!1),t._render(!1,!1,!0));break;case"renderstatusbar":null!=r&&t.renderstatusbar(t.statusbar);break;case"rendertoolbar":null!=r&&t.rendertoolbar(t.toolbar);break;case"disabled":r?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",t.disabled),t.pageable&&(t.pagerrightbutton&&(t.pagerrightbutton.jqxButton({disabled:r}),t.pagerleftbutton.jqxButton({disabled:r}),t.pagershowrowscombo.jqxDropDownList({disabled:r}),t.pagergotoinput.attr("disabled",r)),t.pagerfirstbutton&&(t.pagerfirstbutton.jqxButton({disabled:r}),t.pagerlastbutton.jqxButton({disabled:r}))),t.vScrollBar.jqxScrollBar({disabled:r}),t.hScrollBar.jqxScrollBar({disabled:r}),t.filterable&&t.showfilterrow&&t._updatefilterrowui(!0)}}}),e.jqx.collection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(){},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t,this.updating||this._raiseEvent({type:"replace",element:t})},this.isempty=function(e){return void 0==this.records[e]?!0:!1},this.initialize=function(e){1>e&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null==e?!1:(this.records[this.records.length]=e,this.updating||this._raiseEvent({type:"add",element:e}),!0)},this.insertAt=function(e,t){return null==e||void 0==e?!1:null==t?!1:e>=0?e<this.records.length?(this.records.splice(e,0,t),this.updating||this._raiseEvent({type:"insert",index:e,element:t}),!0):this.add(t):!1},this.remove=function(e){if(null==e||void 0==e)return!1;var t=this.records.indexOf(e);return-1!=t?(this.records.splice(t,1),this.updating||this._raiseEvent({type:"remove",element:e}),!0):!1},this.removeAt=function(e){if(null==e||void 0==e)return!1;if(0>e)return!1;if(e<this.records.length){var t=this.records[e];return this.records.splice(e,1),this.updating||this._raiseEvent({type:"removeAt",index:e,element:t}),!0}return!1},this},e.jqx.dataview=function(){return this.self=this,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(e){this.suspend=!1,void 0==e&&(e=!0),this.refresh(e)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(t,i){var s=t._source?!0:!1,r=null;s?(r=t,t=t._source):r=new e.jqx.dataAdapter(t,{autoBind:!1});var n=function(e){r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.virtualmode=e.virtualmode,r._options.totalrecords=e.totalrecords,r._options.originaldata=e.originaldata,r._options.recordids=e.recordids,r._options.cachedrecords=new Array,r._options.pagenum=e.pagenum,r._options.pageable=e.pageable,void 0!=t.type&&(r._options.type=t.type),void 0!=t.formatdata&&(r._options.formatData=t.formatdata),void 0!=t.contenttype&&(r._options.contentType=t.contenttype),void 0!=t.async&&(r._options.async=t.async),void 0!=t.updaterow&&(r._options.updaterow=t.updaterow),void 0!=t.addrow&&(r._options.addrow=t.addrow),void 0!=t.deleterow&&(r._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),r._options.pagesize=e.pagesize},a=function(i){if(i.totalrecords=r.totalrecords,i.virtualmode){var s={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize};if(void 0!=t.recordstartindex&&(s.startindex=parseInt(t.recordstartindex)),void 0!=t.recordendindex?s.endindex=parseInt(t.recordendindex):i.grid.pageable||(s.endindex=s.startindex+100,i.grid.autoheight&&(s.endindex=s.startindex+i.totalrecords)),t.recordendindex||(i.grid.pageable?s={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize}:(s.endindex=s.startindex+100,i.grid.autoheight&&(s.endindex=s.startindex+i.totalrecords))),s.data=r.records,i.grid.rendergridrows&&i.totalrecords>0){var n=0;if(t.records=i.grid.rendergridrows(s),t.records.length&&(n=t.records.length),t.records&&!t.records[s.startindex]){var a=new Array,o=s.startindex;e.each(t.records,function(){a[o]=this,o++,n++}),t.records=a}if(0==n&&t.records&&e.each(t.records,function(){n++}),n>0&&n<s.endindex-s.startindex&&!i.grid.groupable)for(var l=t.records[0],d=0;d<s.endindex-s.startindex-n;d++){var h={};for(obj in l)h[obj]="";t.records.push&&t.records.push(h)}}t.records&&0!=i.totalrecords||(t.records=new Array),i.originaldata=t.records,i.records=t.records,i.cachedrecords=t.records}else i.originaldata=r.originaldata,i.records=r.records,i.recordids=r.recordids,i.cachedrecords=r.cachedrecords};n(this),this.source=t,void 0!==i&&(uniqueId=i);var o=this.that;switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata){r.unbindBindingUpdate(o.grid.element.id),(!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind)&&r.dataBind();var l=function(i){if(void 0!=i&&""!=i){var s=r._changedrecords[0];if(s){var n=new Array;e.each(r._changedrecords,function(e){var t=this.index,s=this.record;switch(o.grid._updateFromAdapter=!0,i){case"update":var a=o.grid.getrowid(t);return e==r._changedrecords.length-1?o.grid.updaterow(a,s):o.grid.updaterow(a,s,!1),void(o.grid._updateFromAdapter=!1);case"add":return o.grid.addrow(null,s),void(o.grid._updateFromAdapter=!1);case"remove":var a=o.grid.getrowid(t);return void n.push(a)}}),n.length>0&&(o.grid.deleterow(n,!1),o.grid._updateFromAdapter=!1)}if("update"==i)return}var l=o.totalrecords;a(o,i),null===t.localdata.notifier&&"observableArray"==t.localdata.name&&(t.localdata.notifier=function(i){if(!this._updating){this._updating=!0;var s=o.grid.getrowid(i.index);switch(i.type){case"add":var n=e.extend({},i.object[i.index]),a=r.getid(t.id,n,i.index);o.grid.addrow(a,n);break;case"delete":o.grid.deleterow(s);break;case"update":if(i.path&&i.path.split(".").length>1){var l=i.path.split(".");o.grid.setcellvalue(i.index,l[l.length-1],i.newValue)}else{var n=e.extend({},i.object[i.index]);o.grid.updaterow(s,n)}}this._updating=!1}}),"updateData"==i?(o.refresh(),o.grid._updateGridData()):(t.recordstartindex&&this.virtualmode?o.updateview(t.recordstartindex,t.recordstartindex+o.pagesize):o.refresh(),o.update(l!=o.totalrecords))};l(),r.bindBindingUpdate(o.grid.element.id,l)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata){r.unbindBindingUpdate(o.grid.element.id),(!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind)&&r.dataBind();var l=function(e){var i=o.totalrecords;a(o),"updateData"==e?(o.refresh(),o.grid._updateGridData()):(t.recordstartindex&&o.virtualmode?o.updateview(t.recordstartindex,t.recordstartindex+o.pagesize):o.refresh(),o.update(i!=o.totalrecords))};return l(),void r.bindBindingUpdate(o.grid.element.id,l)}for(var d=0,h={},c=0;c<this.filters.length;c++){var u=this.filters[c].datafield,p=this.filters[c].filter,f=p.getfilters();h[u+"operator"]=p.operator;for(var m=0;m<f.length;m++){f[m].datafield=u;var g=f[m].value;if("datefilter"==f[m].type)if(f[m].value&&f[m].value.toLocaleString){var v=this.grid.getcolumn(f[m].datafield);if(v.cellsformat){var b=this.grid.source.formatDate(f[m].value,v.cellsformat,this.grid.gridlocalization);h["filtervalue"+d]=b?b:f[m].value.toLocaleString()}else h["filtervalue"+d]=g.toString()}else h["filtervalue"+d]=g.toString();else h["filtervalue"+d]=g.toString(),f[m].data&&(h["filterid"+d]=f[m].data.toString()),f[m].id&&(h["filterid"+d]=f[m].id.toString());h["filtercondition"+d]=f[m].condition,h["filteroperator"+d]=f[m].operator,h["filterdatafield"+d]=u,d++}}h.filterscount=d,h.groupscount=o.groups.length;for(var c=0;c<o.groups.length;c++)h["group"+c]=o.groups[c];void 0==t.recordstartindex&&(t.recordstartindex=0),(void 0==t.recordendindex||0==t.recordendindex)&&(o.grid.height&&-1==o.grid.height.toString().indexOf("%")?(t.recordendindex=parseInt(o.grid.height)/o.grid.rowsheight,t.recordendindex+=2,t.recordendindex=parseInt(t.recordendindex)):(t.recordendindex=e(window).height()/o.grid.rowsheight,t.recordendindex=parseInt(t.recordendindex)),this.pageable&&(t.recordendindex=this.pagesize)),this.pageable&&(t.recordstartindex=this.pagenum*this.pagesize,t.recordendindex=(this.pagenum+1)*this.pagesize),e.extend(h,{sortdatafield:o.sortfield,sortorder:o.sortfielddirection,pagenum:o.pagenum,pagesize:o.grid.pagesize,recordstartindex:t.recordstartindex,recordendindex:t.recordendindex});var x=r._options.data;r._options.data?e.extend(r._options.data,h):(t.data&&e.extend(h,t.data),r._options.data=h);var l=function(){var i=e.jqx.browser.msie&&e.jqx.browser.version<9,s=function(){var e=o.totalrecords;a(o),t.recordstartindex&&o.virtualmode?o.updateview(t.recordstartindex,t.recordstartindex+o.pagesize):o.refresh(),o.update(e!=o.totalrecords)};if(i)try{s()}catch(r){}else s()};r.unbindDownloadComplete(o.grid.element.id),r.bindDownloadComplete(o.grid.element.id,l),!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind?r.dataBind():o.grid.isInitialized||o.grid.autobind||l(),r._options.data=x}},this.getid=function(t,i,s){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var r=e(i).attr(t);if(null!=r&&r.toString().length>0)return r}return s},this.getvaluebytype=function(t,i){var s=t;if("date"==i.type){var r=new Date(t);t=("NaN"==r.toString()||"Invalid Date"==r.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):r,null==t&&(t=s)}else if("float"==i.type){var t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type){var t=parseInt(t);isNaN(t)&&(t=s)}else"bool"==i.type&&(null!=t&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t?!0:0==t?!1:"");return t},this.setpaging=function(e){void 0!=e.pageSize&&(this.pagesize=e.pageSize),void 0!=e.pageNum&&(this.pagenum=Math.min(e.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(e,t){for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removefilter=function(e){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.getItemFromIndex=function(e){return this.records[e]},this.updaterow=function(e,t,i){var s=this.filters&&this.filters.length>0&&!this.virtualmode;if(!s&&void 0!=t&&void 0!=e){t.uid=e,t[this.source.id]||(t[this.source.id]=t.uid);var r=this.recordsbyid["id"+e],n=this.records.indexOf(r);return-1==n?!1:(this.records[n]=t,this.cachedrecords&&(this.cachedrecords[n]=t),(1==i||void 0==i)&&this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:r,Data:t},!0)}if(this.filters&&this.filters.length>0){for(var a=this.cachedrecords,r=null,n=-1,o=0;o<a.length;o++)if(a[o].uid==e){r=a[o],n=o;break}if(r){var l=this.that;for(var d in t)l.cachedrecords[n][d]=t[d];return(1==i||void 0==i)&&this.refresh(),!0}}return!1},this.addrow=function(e,t,i,s){if(void 0!=t){if(!e||this.recordsbyid["id"+e]){t.uid=this.getid(this.source.id,t,this.totalrecords);for(var r=this.recordsbyid["id"+t.uid];null!=r;){var n=Math.floor(1e4*Math.random()).toString();t.uid=n,r=this.recordsbyid["id"+n]}}else t.uid=e;return t[this.source.id]||void 0!=this.source.id&&(t[this.source.id]=t.uid),"last"==i?this.records.push(t):"number"==typeof i&&isFinite(i)?this.records.splice(i,0,t):this.records.splice(0,0,t),this.filters&&this.filters.length>0&&("last"==i?this.cachedrecords.push(t):"number"==typeof i&&isFinite(i)?this.cachedrecords.splice(i,0,t):this.cachedrecords.splice(0,0,t)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),(1==s||void 0==s)&&this.refresh(),this.changedrecords[t.uid]={Type:"New",Data:t},!0
}return!1},this.deleterow=function(e,t){if(void 0!=e){var i=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+e]&&!i){var s=this.recordsbyid["id"+e],r=this.records.indexOf(s);return this.changedrecords[e]={Type:"Delete",Data:this.records[r]},this.records.splice(r,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),(1==t||void 0==t)&&this.refresh(),!0}if(this.filters&&this.filters.length>0){for(var n=this.cachedrecords,s=null,r=-1,a=0;a<n.length;a++)if(n[a].uid==e){s=n[a],r=a;break}if(s)return this.cachedrecords.splice(r,1),(1==t||void 0==t)&&(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(t,i,s,r,n,a,o){var l=this.that,d=new Array,h=t,c=i,u=s,p=r,f=c.length,m=0,g=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i};var v=Object.size(h);this.totalrecords=v,e.each(this.records,function(){var t=this,i=0;return e.each(t,function(e){l.columns[i++]=e}),!1})}if(this.virtualmode){if(this.pageable)return void this.updateview();var a=0;if(!this.groupable)return void this.updateview();var o=this.totalrecords}else var a=0,o=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var b=a;b=this.loadgrouprecords(0,a,o,u,g,p,c,f,d)}else m=this.loadflatrecords(a,o,u,g,p,c,f,d);return f>g&&c.splice(g,f-g),this.totalrows=this.groups.length>0&&this.groupable?b:m,d},this.loadflatrecords=function(t,i,s,r,n,a,o,l){var d=this.that,h=t,c=t;i=Math.min(i,this.totalrecords);for(var u=null!=this.sortdata,p=(this.source.id&&("local"==this.source.datatype||"array"==this.source.datatype||""==this.source.datatype),u?this.sortdata:this.records),f=t;i>f;f++){var m={};u?(m=e.extend({},p[f].value),id=m[d.uniqueId],m.boundindex=p[f].index,void 0==m.uid&&(m.uid=d.getid(d.source.id,m,m.boundindex)),d.recordsbyid["id"+m.uid]=p[f].value,d.loadedrecords[h]=m,m.uniqueid=d.generatekey(),d.bounditems[m.boundindex]=m):(m=e.extend({},p[f]),id=m[d.uniqueId],m.boundindex=h,d.loadedrecords[h]=m,void 0==m.uid&&(m.uid=d.getid(d.source.id,m,h)),d.recordsbyid["id"+m.uid]=p[f],m.uniqueid=d.generatekey(),d.bounditems[this.bounditems.length]=m),(r>=o||id!=a[r][d.uniqueId]||n&&n[id])&&(l[l.length]=r),a[r]=m,r++,m.visibleindex=c,c++,h++}if(d.grid.summaryrows){var g=h;e.each(d.grid.summaryrows,function(){var t=e.extend({},this);t.boundindex=i++,d.loadedrecords[g]=t,t.uniqueid=d.generatekey(),d.bounditems[d.bounditems.length]=t,a[r]=t,r++,t.visibleindex=c,c++,g++})}return c},this.updateview=function(e,t){var i=this.that,s=this.pagesize*this.pagenum,r=0,n=new Array,a=this.filters,o=this.updated,l=n.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(void 0!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length);var d=this.pagesize*(1+this.pagenum);return d>this.totalrecords&&(d=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,d,a,r,o,n,l,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),a,r,o,n,l,[]),this.totalrows=n.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var h=this.pagesize;0==h&&(h=Math.min(100,this.totalrecords));var c=h*this.pagenum;if(0==this.loadedrecords.length&&(c=0),null!=e&&null!=t?this.loadflatrecords(e,t,a,r,o,n,l,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),a,r,o,n,l,[]),this.totalrows=this.loadedrecords.length,this.rows=n,n.length>=h)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)n=this._updategroupsinpage(i,a,s,r,l,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var u=this.pagesize*this.pagenum;u<this.pagesize*(1+this.pagenum);u++){var p=u<this.loadedrecords.length?this.loadedrecords[u]:null;null!=p&&((!this.pagesize||s>=this.pagesize*this.pagenum&&s<=this.pagesize*(this.pagenum+1))&&(n[r]=p,r++),s++)}if((0==n.length||n.length<this.pagesize)&&!this.pageable&&this.virtualmode){r=n.length;for(var f=n.length,u=this.pagesize*this.pagenum;u<this.pagesize*(1+this.pagenum)-f;u++){var p={};p.boundindex=u+f,p.visibleindex=u+f,p.uniqueid=i.generatekey(),p.empty=!0,i.bounditems[u+f]=p,n[r]=p,r++}}this.rows=n},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(t){if(!this.suspend){void 0==t&&(t=!0);var i=this.rows.length,s=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var r="",n=this.cachedrecords.length,a=new Array;this.totalrecords=0;var o=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var l=this.filters.length;if(null!=this.source&&void 0!=this.source.filter&&void 0!=this.source.localdata)a=this.source.filter(this.filters,o,n),void 0==a&&(a=new Array),this.records=a;else if(null==this.source.filter||void 0==this.source.filter){for(var d=0;n>d;d++){for(var h=o[d],c=void 0,u=0;l>u;u++){var r=this.filters[u].filter,p=h[this.filters[u].datafield],f=r.evaluate(p);c=void 0==c?f:"or"==r.operator?c||f:c&&f}c?(a[a.length]=e.extend({dataindex:d},h),this._dataIndexToBoundIndex[d]={boundindex:a.length-1}):this._dataIndexToBoundIndex[d]=null}this.records=a}if(this.sortdata){var m=this.sortfield;if(this.sortcache[m]){this.sortdata=null;var g=this.sortcache[m].direction;return this.sortcache[m]=null,void this.sortby(this.sortfield,g)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;var o=this.cachedrecords;if(this.records=o,this.sortdata){var m=this.sortfield;if(this.sortcache[m]){this.sortdata=null;var g=this.sortcache[m].direction;return this.sortcache[m]=null,void this.sortby(this.sortfield,g)}}}var v=this.reload(this.records,this.rows,this.filter,this.updated,t);this.updated=null,null!=this.rowschangecallback&&(s!=totalrows&&this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()}),i!=rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:i,current:rows.length}}),(v.length>0||i!=rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:i,current:rows.length,diff:v}}))}},this}}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;e>i;i++){var s=t[i];if(s){var r=this.getboundindex(s);void 0!=r&&(this.selectedrowindexes[i]=r)}else this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;e>i;i++){var s=t[i];s?delete this.selectedrowindexes[i]:this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(e,t){this._applyrowselection(e,!0,t),t!==!1&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var e=this.getrows();if(e&&this._checkboxcolumn){if(0===e.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var t=e.length;this.groupable&&(t=this.dataview.loadedrecords.length),this.virtualmode&&(t=this.source._source.totalrecords);var i=this.selectedrowindexes.length;this._checkboxcolumn.checkboxelement.jqxCheckBox(i===t?{checked:!0}:0===i?{checked:!1}:{checked:null})}}},unselectrow:function(e,t){this._applyrowselection(e,!1,t),t!==!1&&this._updatecheckboxselection()},selectcell:function(e,t){this._applycellselection(e,t,!0)},unselectcell:function(e,t){this._applycellselection(e,t,!1)},clearselection:function(e,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,t!==!1)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]});return this.selectedrowindexes=new Array,this.selectedcells=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1===e?void(this._trigger=!0):(this._renderrows(this.virtualsizeinfo),this._trigger=!0,void("checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})))},getselectedrowindex:function(){if(-1==this.selectedrowindex)for(var e=0;e<this.selectedrowindexes.length;e++)return this.selectedrowindexes[e];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var e=this.selectedcell;return e.row=this.selectedcell.rowindex,e.column=this.selectedcell.datafield,e.value=this.getcellvalue(e.row,e.column),e},getselectedcells:function(){var e=new Array;for(obj in this.selectedcells)e[e.length]=this.selectedcells[obj];return e},_getcellsforcopypaste:function(){var e=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var t=this.selectedrowindexes,i=0;i<t.length;i++)for(var s=t[i],r=0;r<this.columns.records.length;r++){var n=(s+"_"+this.columns.records[r].datafield,{rowindex:s,datafield:this.columns.records[r].datafield});e.push(n)}return e},deleteselection:function(){var e=this,t=e.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(t=this._getcellsforcopypaste()),null!=t&&t.length>0){for(var i=0;i<t.length;i++){var s=t[i],r=e.getcolumn(s.datafield),n=e.getcellvalue(s.rowindex,s.datafield);if(r&&""!==n){var a=null;"checkbox"==r.columntype&&(r.threestatecheckbox||(a=!1)),e._raiseEvent(17,{rowindex:s.rowindex,datafield:s.datafield,value:n}),i==t.length-1?(e.setcellvalue(s.rowindex,s.datafield,a,!0),r.displayfield!=r.datafield&&e.setcellvalue(s.rowindex,r.displayfield,a,!0)):(e.setcellvalue(s.rowindex,s.datafield,a,!1),r.displayfield!=r.datafield&&e.setcellvalue(s.rowindex,r.displayfield,a,!0)),e._raiseEvent(18,{rowindex:s.rowindex,datafield:s.datafield,oldvalue:n,value:a})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var t="",i=this;this.clipboardselection={},this._clipboardselection=[];var s=i.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(s=this._getcellsforcopypaste()),null!=s&&s.length>0){for(var r=999999999999999,n=-1,a=0;a<s.length;a++){var o=s[a],l=i.getcolumn(o.datafield);if(null!=l){var d=i.getcelltext(o.rowindex,o.datafield),h=this.getrowdisplayindex(o.rowindex);this.clipboardselection[h]||(this.clipboardselection[h]={}),this.clipboardselection[h][o.datafield]=d,r=Math.min(r,h),n=Math.max(n,h)}}for(var c=r;n>=c;c++){var u=0;this._clipboardselection[this._clipboardselection.length]=new Array,void 0!=this.clipboardselection[c]&&e.each(this.clipboardselection[c],function(e,s){u>0&&(t+="	");var r=s;null==s&&(r=""),i._clipboardselection[i._clipboardselection.length-1][u]=r,u++,t+=r}),n>c&&(t+="\r\n")}}return this.clipboardselectedtext=t,t},pasteselection:function(){var e=this.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){var t=e[0].rowindex,i=this.getrowdisplayindex(t),s=e[0].datafield,r=this._getcolumnindex(s);if(this.selectedrowindexes=new Array,this.selectedcells=new Array,!this._clipboardselection)return;for(var n=0;n<this._clipboardselection.length;n++)for(var a=0;a<this._clipboardselection[n].length;a++){var o=this.getcolumnat(r+a);if(o){var l=this.getrowboundindex(i+n),d=this.getcell(l,o.datafield),h=null;if(h=this._clipboardselection[n][a],null!=h){if(o.cellsformat&&(-1!=o.cellsformat.indexOf("p")||-1!=o.cellsformat.indexOf("c")||-1!=o.cellsformat.indexOf("n")||-1!=o.cellsformat.indexOf("f"))){h.indexOf(this.gridlocalization.currencysymbol)>-1&&(h=h.replace(this.gridlocalization.currencysymbol,""));var c=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)s=s.replace(t,i),r=s.indexOf(t);return s};h=c(h,this.gridlocalization.thousandsseparator,""),h=h.replace(this.gridlocalization.decimalseparator,"."),h.indexOf(this.gridlocalization.percentsymbol)>-1&&(h=h.replace(this.gridlocalization.percentsymbol,""));for(var u="",p=0;p<h.length;p++){var f=h.substring(p,p+1);"-"===f&&(u+="-"),"."===f&&(u+="."),null!=f.match(/^[0-9]+$/)&&(u+=f)}h=u,h=h.replace(/ /g,""),h=new Number(h),isNaN(h)&&(h="")}this._raiseEvent(17,{rowindex:l,datafield:d.datafield,value:h}),this.setcellvalue(l,d.column,h,!1),this._raiseEvent(18,{rowindex:l,datafield:d.datafield,oldvalue:this.getcellvalue(d.rowindex,d.datafield),value:h}),this._applycellselection(l,d.datafield,!0,!1)}}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},_applyrowselection:function(e,t,i,s){if(null==e)return!1;var r=this.selectedrowindex;if("singlerow"==this.selectionmode&&(t?this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)}):this._raiseEvent(3,{rowindex:e,row:this.getrowdata(e)}),this._raiseEvent(3,{rowindex:r}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==s&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var n=this.getrowdata(e);n&&void 0!==n.dataindex?e=n.dataindex:n&&void 0===n.dataindex&&void 0!=n.uid&&(e=this.getrowboundindexbyid(n.uid))}var a=this.selectedrowindexes.indexOf(e);if(t)this.selectedrowindex=e,-1==a?(this.selectedrowindexes.push(e),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(e)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(a>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var o=this.selectedrowindexes[a];this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:o,row:this.getrowdata(e)}),this.selectedrowindex=-1}return(void 0==i||i)&&this._rendervisualrows(),!0},_applycellselection:function(e,t,i,s){if(null==e)return!1;if(null==t)return!1;this.selectedrowindex;if("singlecell"==this.selectionmode){var r=this.selectedcell;null!=r&&this._raiseEvent(16,{rowindex:r.rowindex,datafield:r.datafield}),this.selectedcells=new Array}if("multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode){var r=this.selectedcell;null!=r&&this._raiseEvent(16,{rowindex:r.rowindex,datafield:r.datafield})}var n=e+"_"+t;if(this.dataview.filters.length>0){var a=this.getrowdata(e);if(a&&void 0!==a.dataindex){e=a.dataindex;var n=e+"_"+t}else if(a&&void 0===a.dataindex&&a.uid){e=this.getrowboundindexbyid(a.uid);var n=e+"_"+t}}var o={rowindex:e,datafield:t};return i?(this.selectedcell=o,this.selectedcells[n]?("multiplecells"==this.selectionmode||"multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode)&&(delete this.selectedcells[n],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,o)):(this.selectedcells[n]=o,this.selectedcells.length++,this._raiseEvent(15,o))):(delete this.selectedcells[n],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,o)),(void 0==s||s)&&this._rendervisualrows(),!0},_getcellindex:function(t){var i=-1;return e.each(this.selectedcells,function(){return i++,this[t]?!1:void 0}),i},_clearhoverstyle:function(){if(void 0!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var e=this.table.find(".jqx-grid-cell-hover");e.length>0&&(e.removeClass(this.toTP("jqx-grid-cell-hover")),e.removeClass(this.toTP("jqx-fill-state-hover"))),this.hoveredrow=-1}},_clearselectstyle:function(){for(var t=this.table[0].rows.length,i=this.table[0].rows,s=this.toTP("jqx-grid-cell-selected"),r=this.toTP("jqx-fill-state-pressed"),n=this.toTP("jqx-grid-cell-hover"),a=this.toTP("jqx-fill-state-hover"),o=0;t>o;o++)for(var l=i[o],d=l.cells.length,h=l.cells,c=0;d>c;c++){var u=h[c],p=e(u);-1!=u.className.indexOf("jqx-grid-cell-selected")&&(p.removeClass(s),p.removeClass(r)),-1!=u.className.indexOf("jqx-grid-cell-hover")&&(p.removeClass(n),p.removeClass(a))}},_selectpath:function(e,t){var i=this,s=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,r=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0;if(r>=s){var n=this._getcolumnindex(this._lastClickedCell.column),a=this._getcolumnindex(t),o=Math.min(n,a),l=Math.max(n,a);this.selectedcells=new Array;for(var d=this.dataview.loadedrecords,h=s;r>=h;h++)for(var c=o;l>=c;c++){var e=d[h];this._applycellselection(i.getboundindex(e),i._getcolumnat(c).datafield,!0,!1)}this._rendervisualrows()}},_selectrowpath:function(e){if("multiplerowsextended"==this.selectionmode){var t=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,i=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0,s=this.dataview.loadedrecords;if(i>=t){this.selectedrowindexes=new Array;for(var r=t;i>=r;r++){var e=s[r],n=this.getrowboundindex(r);this._applyrowselection(n,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(e,t,i,s,r,n){var a=t.row;if(void 0!=a){var o=t.index;if(void 0!=this.hittestinfo[o]){var l=this.hittestinfo[o].visualrow;if(!this.hittestinfo[o].details){{l.cells[0].className}if(!a.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==n||1==r)){var d=this.getboundindex(a);if(this.dataview.filters.length>0){var h=this.getrowdata(d);if(h&&(d=h.dataindex,void 0==d))var d=this.getboundindex(a)}var c=-1!=i.indexOf(d),u=this.getboundindex(a)+"_"+s;if(-1!=this.selectionmode.indexOf("cell")){var p=void 0!=this.selectedcells[u];if(void 0!=this.selectedcells[u]&&p?this._selectcellwithstyle(e,!1,o,s,l):this._selectcellwithstyle(e,!0,o,s,l),n&&void 0==this._lastClickedCell){var f=this.getselectedcells();f&&f.length>0&&(this._lastClickedCell={row:f[0].rowindex,column:f[0].datafield})}n&&this._lastClickedCell&&(this._selectpath(a.visibleindex,s),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(c?r?this._applyrowselection(this.getboundindex(a),!1):this._selectrowwithstyle(e,l,!1,s):this._selectrowwithstyle(e,l,!0,s),n&&void 0==this._lastClickedCell){var m=this.getselectedrowindexes();m&&m.length>0&&(this._lastClickedCell={row:m[0],column:s})}if(n&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var g=this._lastClickedCell?Math.min(this._lastClickedCell.row,a.visibleindex):0,v=this._lastClickedCell?Math.max(this._lastClickedCell.row,a.visibleindex):0,b=this.dataview.loadedrecords,x=g;v>=x;x++){var a=b[x];a&&this._applyrowselection(this.getboundindex(a),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(e,l,!0,s),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(e,!0,o,s,l);n||(this._lastClickedCell={row:a.visibleindex,column:s})}}}}},_selectcellwithstyle:function(t,i,s,r,n){var a=e(n.cells[t._getcolumnindex(r)]);a.removeClass(this.toTP("jqx-grid-cell-hover")),a.removeClass(this.toTP("jqx-fill-state-hover")),i?(a.addClass(this.toTP("jqx-grid-cell-selected")),a.addClass(this.toTP("jqx-fill-state-pressed"))):(a.removeClass(this.toTP("jqx-grid-cell-selected")),a.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(t,i,s){var r=i.cells.length,n=0;t.rowdetails&&t.showrowdetailscolumn?this.rtl?(r-=1,r-=this.groups.length):n=1+this.groups.length:this.groupable&&(this.rtl?r-=this.groups.length:n=this.groups.length);for(var a=n;r>a;a++){var o=i.cells[a];s?(e(o).removeClass(this.toTP("jqx-grid-cell-hover")),e(o).removeClass(this.toTP("jqx-fill-state-hover")),-1==t.selectionmode.indexOf("cell")&&(e(o).addClass(this.toTP("jqx-grid-cell-selected")),e(o).addClass(this.toTP("jqx-fill-state-pressed")))):(e(o).removeClass(this.toTP("jqx-grid-cell-hover")),e(o).removeClass(this.toTP("jqx-grid-cell-selected")),e(o).removeClass(this.toTP("jqx-fill-state-hover")),e(o).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(t,i){if(i.hScrollInstance.isScrolling()||i.vScrollInstance.isScrolling())return!1;if(("multiplerowsextended"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i.mousecaptured){if(i.multipleselectionbegins){var s=i.multipleselectionbegins(t);if(s===!1)return!0}var r=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0,a=this.showtoolbar?this.toolbarheight:0;n+=a;var o=this.host.coord();if(this.hasTransform){o=e.jqx.utilities.getOffset(this.host);var l=this._getBodyOffset();o.left-=l.left,o.top-=l.top}"0px"===this.host.css("border-top-width")&&(n-=2);var d=t.pageX,h=t.pageY-n;if(Math.abs(this.mousecaptureposition.left-d)>3||Math.abs(this.mousecaptureposition.top-h)>3){var c=parseInt(this.columnsheader.coord().top);this.hasTransform&&(c=e.jqx.utilities.getOffset(this.columnsheader).top),d<o.left&&(d=o.left),d>o.left+this.host.width()&&(d=o.left+this.host.width());var u=o.top+r;u>h&&(h=u+5);var p=parseInt(Math.min(i.mousecaptureposition.left,d)),f=-5+parseInt(Math.min(i.mousecaptureposition.top,h)),m=parseInt(Math.abs(i.mousecaptureposition.left-d)),g=parseInt(Math.abs(i.mousecaptureposition.top-h));if(p-=o.left,f-=o.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==i.selectionmode){var d=p,v=d+m,b=i.hScrollInstance,x=b.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(x=b.max-b.value),"hidden"!=this.vScrollBar[0].style.visibility);var w=i.table[0].rows[0],y=0,_=i.mousecaptureposition.clickedcell,j=_,q=!1,k=0,I=w.cells.length;i.mousecaptureposition.left<=t.pageX&&(k=_);for(var T=k;I>T;T++){var C=parseInt(e(this.columnsrow[0].cells[T]).css("left")),S=C-x;if(i.columns.records[T].pinned)S=C;else{var D=this._getcolumnat(T);if(!(null!=D&&D.hidden||i.groupable&&i.groups.length>0&&T<i.groups.length)){var P=S+e(this.columnsrow[0].cells[T]).width();if(i.mousecaptureposition.left>t.pageX){if(P>=d&&d>=S){j=T,q=!0;break}}else if(P>=v&&v>=S){j=T,q=!0;break}}}}q||(i.mousecaptureposition.left>t.pageX?e.each(this.columns.records,function(e){return i.groupable&&i.groups.length>0&&e<i.groups.length?!0:this.pinned||this.hidden?void 0:(j=e,!1)}):(!i.groupable||i.groupable&&!i.groups.length>0)&&(j=w.cells.length-1));var E=_;_=Math.min(_,j),j=Math.max(E,j),f+=5,f+=n;for(var H=(i.table[0].rows.indexOf(i.mousecaptureposition.clickedrow),0),B=-1,A=-1,z=0,T=0;T<i.table[0].rows.length;T++){var M=e(i.table[0].rows[T]);0==T&&(z=M.coord().top);var L=M.height(),O=z-o.top;if(-1==B&&O+L>=f){for(var N=!1,F=0;F<i.groups.length;F++){var W=M[0].cells[F].className;if(-1!=W.indexOf("jqx-grid-group-collapse")||-1!=W.indexOf("jqx-grid-group-expand")){N=!0;break}}if(N)continue;B=T}if(z+=L,i.groupable&&i.groups.length>0){for(var N=!1,F=0;F<i.groups.length;F++){var W=M[0].cells[F].className;if(-1!=W.indexOf("jqx-grid-group-collapse")||-1!=W.indexOf("jqx-grid-group-expand")){N=!0;break}}if(N)continue;for(var y=0,R=i.groups.length;R<M[0].cells.length;R++){var $=M[0].cells[R];""==e($).html()&&y++}if(y==M[0].cells.length-i.groups.length)continue}if(-1!=B&&(H+=L),O+L>f+g){A=T;break}}if(-1!=B){f=e(i.table[0].rows[B]).coord().top-o.top-n-2;var U=0;this.filterable&&this.showfilterrow&&(U=this.filterrowheight),parseInt(i.table[0].style.top)<0&&f<this.rowsheight+U&&(f-=parseInt(i.table[0].style.top),H+=parseInt(i.table[0].style.top)),g=H;var V=e(this.columnsrow[0].cells[_]),G=e(this.columnsrow[0].cells[j]);if(p=parseInt(V.css("left")),m=parseInt(G.css("left"))-parseInt(p)+G.width()-2,p-=x,i.editcell&&i.editable&&i.endcelledit&&(_!=j||B!=A)){if(0==i.editcell.validated)return;i.endcelledit(i.editcell.row,i.editcell.column,!0,!0)}}}this.selectionarea.width(m),this.selectionarea.height(g),this.selectionarea.css("left",p),this.selectionarea.css("top",f)}}},_handlemouseupselection:function(t,i){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return i.mousecaptured=!1,!0;if(i.mousecaptured&&("multiplerowsextended"==i.selectionmode||"multiplerowsadvanced"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&(i.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var s=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(r-=2);var n=this.showtoolbar?this.toolbarheight:0;r+=n;var a=this.selectionarea.coord(),o=this.host.coord();this.hasTransform&&(o=e.jqx.utilities.getOffset(this.host),a=e.jqx.utilities.getOffset(this.selectionarea));var l=a.left-o.left,d=a.top-s-o.top-r,h=d,c=l+this.selectionarea.width(),u=l,p=new Array,f=new Array;if("multiplerowsextended"==i.selectionmode){for(;d<h+this.selectionarea.height();){var m=this._hittestrow(l,d),g=m.row,v=m.index;-1!=v&&(f[v]||(f[v]=!0,p[p.length]=m)),d+=20}var h=0;e.each(p,function(){var e=this.row;"none"!=i.selectionmode&&i._selectrowwithmouse&&(t.ctrlKey||t.metaKey?i._applyrowselection(i.getboundindex(e),!0,!1,!1):0==h?i._applyrowselection(i.getboundindex(e),!0,!1,!0):i._applyrowselection(i.getboundindex(e),!0,!1,!1),h++)})}else{"multiplecellsadvanced"==i.selectionmode&&(d+=2);var b=i.hScrollInstance,x=b.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(x=b.max-b.value),"hidden"!=this.vScrollBar[0].style.visibility&&(x-=this.scrollbarsize+4));var w=i.table[0].rows[0],y=i.selectionarea.height();!t.ctrlKey&&!t.metaKey&&y>0&&(i.selectedcells=new Array);for(var _=y;h+_>d;){var m=i._hittestrow(l,d);if(m){var g=m.row,v=m.index;if(-1!=v&&!f[v]){f[v]=!0;for(var j=0;j<w.cells.length;j++){var q=parseInt(e(i.columnsrow[0].cells[j]).css("left"))-x,k=q+e(i.columnsrow[0].cells[j]).width();(u>=q&&k>=u||c>=q&&k>=c||q>=u&&c>=q)&&i._applycellselection(i.getboundindex(g),i._getcolumnat(j).datafield,!0,!1)}}d+=5}else d+=5}}i.autosavestate&&i.savestate&&i.savestate(),i._renderrows(i.virtualsizeinfo)}}},selectprevcell:function(e,t){var i=this._getcolumnindex(t),s=(this.columns.records.length,this._getprevvisiblecolumn(i));null!=s&&(this.clearselection(),this.selectcell(e,s.datafield))},selectnextcell:function(e,t){var i=this._getcolumnindex(t),s=(this.columns.records.length,this._getnextvisiblecolumn(i));null!=s&&(this.clearselection(),this.selectcell(e,s.datafield))},_getfirstvisiblecolumn:function(){for(var e=this.columns.records.length,t=0;e>t;t++){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_getlastvisiblecolumn:function(){for(var e=this.columns.records.length,t=e-1;t>=0;t--){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_handlekeydown:function(t,i){if(i.groupable&&i.groups.length>0)return!0;if(i.disabled)return!1;var s=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(i.editcell&&"multiplecellsadvanced"!=i.selectionmode)return!0;if(i.editcell&&"multiplecellsadvanced"==i.selectionmode){if(!(s>=33&&40>=s))return!0;if(t.altKey)return i._cancelkeydown=!1,!0;if(void 0!=i._cancelkeydown&&0!=i._cancelkeydown)return i._cancelkeydown=!1,!0;if("selectedrow"===i.editmode)return!0;if(i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),i._cancelkeydown=!1,i.editcell&&!i.editcell.validated)return i._rendervisualrows(),i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!1}if("none"==i.selectionmode)return!0;if(i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(this.filterrow))return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;var r=!1;if(t.altKey)return!0;if((t.ctrlKey||t.metaKey)&&this.clipboard){var n=String.fromCharCode(s).toLowerCase();if("c"==n||"x"==n){var a=this.copyselection();if(window.clipboardData)window.clipboardData.setData("Text",a);else{var o=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');o.val(a),e("body").append(o),o.select(),setTimeout(function(){document.designMode="off",o.select(),o.remove(),i.focus()},100)}}else if("v"==n){var l=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');e("body").append(l),l.select();var d=this;setTimeout(function(){d._clipboardselection=new Array;for(var e=l.val(),t=e.split("\n"),i=0;i<t.length;i++)if(t[i].split("	").length>0){var s=t[i].split("	");if(1==s.length&&i==t.length-1&&""==s[0])continue;s.length>0&&d._clipboardselection.push(s)}d.pasteselection(),l.remove(),d.focus()},100)}"x"==n&&(this.deleteselection(),this.host.focus())}var h=Math.round(i._gettableheight()),c=Math.round(h/i.rowsheight),u=i.getdatainformation();switch(i.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var p=i.getselectedcell();if(null!=p){var f=this.getrowvisibleindex(p.rowindex),m=f,g=p.datafield,v=i._getcolumnindex(g),b=(i.columns.records.length,function(e,n,a){var o=function(e,t){var s=i.dataview.loadedrecords[e];if(void 0!=s&&null!=t){(a||void 0==a)&&i.clearselection();var n=i.getboundindex(s);return i.selectcell(n,t),i._oldselectedcell=i.selectedcell,r=!0,i.ensurecellvisible(e,t),!0}return!1};if(o(e,n)||(i.ensurecellvisible(e,n),o(e,n),i.virtualmode&&i.host.focus()),t.shiftKey&&9!=s){if(("multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i._lastClickedCell){i._selectpath(e,n);var l=i.dataview.loadedrecords[e],d=i.getboundindex(l);return void(i.selectedcell={rowindex:d,datafield:n})}}else t.shiftKey||(i._lastClickedCell={row:e,column:n})}),x=t.shiftKey&&"singlecell"!=i.selectionmode&&"multiplecells"!=i.selectionmode,w=function(){b(0,g,!x)},y=function(){var e=u.rowscount-1;b(e,g,!x)},_=9==s&&!t.shiftKey,j=9==s&&t.shiftKey;(_||j)&&(x=!1);var q=t.ctrlKey||t.metaKey;if(q&&37==s){var k=i._getfirstvisiblecolumn(v);null!=k&&b(m,k.datafield)}else if(q&&39==s){var I=i._getlastvisiblecolumn(v);null!=I&&b(m,I.datafield)}else if(39==s||_){var T=i._getnextvisiblecolumn(v);null!=T?b(m,T.datafield,!x):_||(r=!0)}else if(37==s||j){var k=i._getprevvisiblecolumn(v);null!=k?b(m,k.datafield,!x):j||(r=!0)}else if(36==s)w();else if(35==s)y();else if(33==s)if(m-c>=0){var C=m-c;b(C,g,!x)}else w();else if(34==s)if(u.rowscount>m+c){var C=m+c;b(C,g,!x)}else y();else 38==s?q?w():m>0?b(m-1,g,!x):r=!0:40==s&&(q?y():u.rowscount>m+1?b(m+1,g,!x):r=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":var m=i.getselectedrowindex();if(null==m||-1==m)return!0;m=this.getrowvisibleindex(m);var S=function(e,n){var a=function(e){var t=i.dataview.loadedrecords[e];if(void 0!=t){var s=i.getboundindex(t),a=i.selectedrowindex;(n||void 0==n)&&i.clearselection(),i.selectedrowindex=a,i.selectrow(s,!1);var o=i.ensurerowvisible(e);return(!o||i.autoheight||i.groupable)&&i._rendervisualrows(),r=!0,!0}return!1};if(a(e)||(i.ensurerowvisible(e),a(e,n),i.virtualmode&&setTimeout(function(){a(e,n)},25),i.virtualmode&&i.host.focus()),t.shiftKey&&9!=s){if("multiplerowsextended"==i.selectionmode&&i._lastClickedCell)return i._selectrowpath(e),void(i.selectedrowindex=i.getrowboundindex(e))}else t.shiftKey||(i._lastClickedCell={row:e},i.selectedrowindex=i.getrowboundindex(e))},x=t.shiftKey&&"singlerow"!=i.selectionmode&&"multiplerows"!=i.selectionmode,w=function(){S(0,!x)},y=function(){var e=u.rowscount-1;S(e,!x)},q=t.ctrlKey||t.metaKey;if(36==s||q&&38==s)w();else if(35==s||q&&40==s)y();else if(33==s)if(m-c>=0){var C=m-c;S(C,!x)}else w();else if(34==s)if(u.rowscount>m+c){var C=m+c;S(C,!x)}else y();else 38==s?m>0?S(m-1,!x):r=!0:40==s&&(u.rowscount>m+1?S(m+1,!x):r=!0)
}return r?(i.autosavestate&&i.savestate&&i.savestate(),!1):!0},_handlemousemove:function(t,i){if(!i.vScrollInstance.isScrolling()&&!i.hScrollInstance.isScrolling()){var s,r,n,a,o;if(i.enablehover||"multiplerows"==i.selectionmode){s=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0;var l=this.showtoolbar?this.toolbarheight:0;if(r+=l,n=this.host.coord(),this.hasTransform){n=e.jqx.utilities.getOffset(this.host);var d=this._getBodyOffset();n.left-=d.left,n.top-=d.top}a=t.pageX-n.left,o=t.pageY-s-n.top-r}if("multiplerowsextended"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplecellsadvanced"!=i.selectionmode||1!=i.mousecaptured){if(!i.enablehover)return!0;if(!i.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var h=this._hittestrow(a,o);if(h){var c=h.row,u=h.index;if((-1==this.hoveredrow||-1==u||this.hoveredrow!=u||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=u&&void 0!=c)){var p=this.hittestinfo[u].visualrow;if(null!=p&&!(this.hittestinfo[u].details||t.clientX>e(p).width()+e(p).coord().left)){var f=0,m=p.cells.length;if(i.rowdetails&&i.showrowdetailscolumn?this.rtl?(m-=1,m-=this.groups.length):f=1+this.groups.length:this.groupable&&(this.rtl?m-=this.groups.length:f=this.groups.length),0!=p.cells.length){var g=p.cells[f].className;if(!(c.group||this.selectionmode.indexOf("row")>=0&&-1!=g.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=u,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(var v=f;m>v;v++){var b=p.cells[v];e(b).addClass(this.toTP("jqx-grid-cell-hover")),e(b).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(b,t.pageX,t.pageY)}else{var x=-1,w=this.hScrollInstance,y=w.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(y=w.max-w.value);for(var v=f;m>v;v++){var _=parseInt(e(this.columnsrow[0].cells[v]).css("left"))-y,j=_+e(this.columnsrow[0].cells[v]).width();if(j>=a&&a>=_){x=v;break}}if(-1!=x){var b=p.cells[x];if(this.cellhover&&this.cellhover(b,t.pageX,t.pageY),-1==b.className.indexOf("jqx-grid-cell-selected")){if(this.editcell){var q=this._getcolumnat(x);if(q&&this.editcell.row==u&&this.editcell.column==q.datafield)return}e(b).addClass(this.toTP("jqx-grid-cell-hover")),e(b).addClass(this.toTP("jqx-fill-state-hover"))}}}}}}}}}}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{autoresizecolumns:function(t,i){"cells"!=t&&"all"!=t&&"column"!=t&&(t="all");var s=this.that,r=this.getrows();this.pageable&&(r=this.dataview.rows,this.groupable&&(r=this.dataview.records)),i=void 0==i?0:parseInt(i);var n=r.length;if(void 0==n&&void 0!=r){var a=new Array;e.each(r,function(){a.push(this)}),r=a,n=r.length}var o=e("<span></span>");o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(o);var l=[],d=[],h=[],c=[],u=s.host.width();"hidden"!=s.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),0>u&&(u=0);for(var p=0;n>p;p++)for(var f=r[p],m=0;m<this.columns.records.length;m++){var g=this.columns.records[m];if(!(g.hidden||this.groups.length>0&&m<=this.groups.length-1)){void 0==d[g.displayfield]&&(d[g.displayfield]=0),void 0==h[g.displayfield]&&(h[g.displayfield]="");var v=f[g.displayfield];if(""!=g.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(v)?v=e.jqx.dataFormat.formatdate(v,g.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(v)&&(v=e.jqx.dataFormat.formatnumber(v,g.cellsformat,this.gridlocalization)));else if(g.cellsrenderer){var b=s._defaultcellsrenderer(v,g),x=g.cellsrenderer(p,g.datafield,v,b,g.getcolumnproperties(),f);void 0!=x&&(v=e(x).text())}if((void 0==t||"cells"==t||"all"==t)&&null!=v){var l=v.toString().length,w=v.toString(),y=w.replace(/[^A-Z]/g,"").length;if(l>d[g.displayfield]&&(d[g.displayfield]=l,h[g.displayfield]=v,c[g.displayfield]=y),l>0&&l>=y){var _=20*y+15*(l-y),j=20*c[g.displayfield]+15*(d[g.displayfield]-c[g.displayfield]);_>j&&_>0&&j>0&&(d[g.displayfield]=l,h[g.displayfield]=v,c[g.displayfield]=y)}}if("column"==t||"all"==t){if(g.text.toString().length>d[g.displayfield]){h[g.displayfield]=g.text,d[g.displayfield]=g.text.length;var w=g.text.toString(),y=w.replace(/[^A-Z]/g,"").length;c[g.displayfield]=y}var v=g.text,l=v.toString().length,w=v.toString(),y=w.replace(/[^A-Z]/g,"").length;if(l>0&&l>=y){var _=20*y+15*(l-y),j=20*c[g.displayfield]+15*(d[g.displayfield]-c[g.displayfield]);_>j&&_>0&&j>0&&(d[g.displayfield]=l,h[g.displayfield]=v,c[g.displayfield]=y)}}}}if(this.columns.records){for(var m=0;m<this.columns.records.length;m++){var g=this.columns.records[m];if(g.displayfield){void 0==h[g.displayfield]&&(h[g.displayfield]=g.text),o[0].innerHTML=h[g.displayfield].toString();var q=o.outerWidth()+10;if(o.children().length>0&&(q=o.children().outerWidth()+10),e.jqx.browser.msie&&e.jqx.browser.version<8&&(q+=10),this.filterable&&this.showfilterrow&&(q+=5),q+=i,q>g.maxwidth&&(q=g.maxwidth),void 0!=g._width&&(g.__width=g._width),g._width=null,"auto"==g.maxwidth||q<=g.maxwidth){var k=g.width;q<g.minwidth&&(q=g.minwidth),g.width=q,void 0!=g._percentagewidth&&(g._percentagewidth=null),this._raiseEvent(14,{columntext:g.text,column:g.getcolumnproperties(),datafield:g.datafield,displayfield:g.displayfield,oldwidth:k,newwidth:q})}}}o.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo);for(var m=0;m<this.columns.records.length;m++){var g=this.columns.records[m];void 0!=g.__width&&(g._width=g.__width)}}},autoresizecolumn:function(t,i,s){if("cells"!=i&&"all"!=i&&"column"!=i&&(i="all"),void 0==t)return!1;var r=this.getrows();this.pageable&&(r=this.dataview.rows,this.groupable&&(r=this.dataview.records));var n=this.getcolumn(t);if(void 0==n)return!1;s=void 0==s?0:parseInt(s);var a=r.length,o=e("<span></span>");o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(o);var l=0,d="",h=0,c=this.that,u=c.host.width();if("hidden"!=c.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),0>u&&(u=0),void 0==i||"cells"==i||"all"==i)for(var p=0;a>p;p++){var f=r[p][n.displayfield];if(""!=n.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(f)?f=e.jqx.dataFormat.formatdate(f,n.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(f)&&(f=e.jqx.dataFormat.formatnumber(f,n.cellsformat,this.gridlocalization)));else if(n.cellsrenderer){var m=n.cellsrenderer(p,n,f);void 0!=m&&(f=e(m).text())}if(null!=f){var g=f.toString().length,v=f.toString(),b=v.replace(/[^A-Z]/g,"").length;if(g>l&&(l=g,d=f,h=b),g>0&&g>=b){var x=20*b+15*(g-b),w=20*h+15*(l-h);x>w&&x>0&&w>0&&(l=g,d=f,h=b)}}}if("column"==i||"all"==i){n.text.toString().length>l&&(d=n.text);var f=n.text.toString(),g=f.toString().length,v=f.toString(),b=v.replace(/[^A-Z]/g,"").length;if(g>0&&g>=b){var x=20*b+15*(g-b),w=20*h+15*(l-h);x>w&&x>0&&w>0&&(l=g,d=f,h=b)}}void 0==d&&(d=n.text),o[0].innerHTML=d;var y=o.outerWidth()+10;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(y+=5),this.filterable&&this.showfilterrow&&(y+=5),y+=s,o.remove(),y>n.maxwidth&&(y=n.maxwidth),"auto"==n.maxwidth||y<=n.maxwidth){var _=n.width;y<n.minwidth&&(y=n.minwidth),n.width=y,void 0!=n._width&&(n.__width=n._width),n._width=null,void 0!=n._percentagewidth&&(n._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:n.text,column:n.getcolumnproperties(),datafield:t,displayfield:n.displayfield,oldwidth:_,newwidth:y}),this._renderrows(this.virtualsizeinfo),void 0!=n._width&&(n._width=n.__width)}},_handlecolumnsresize:function(){var t=this.that;if(this.columnsresize){var i=!1;t.isTouchDevice()&&t.touchmode!==!0&&(i=!0);var s="mousemove.resize"+this.element.id,r="mousedown.resize"+this.element.id,n="mouseup.resize"+this.element.id;if(i)var s=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,r=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),s),this.addHandler(e(document),s,function(s){var r=e.data(document.body,"contextmenu"+t.element.id);if(null!=r&&t.autoshowcolumnsmenubutton)return!0;if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){var n=(t.resizablecolumn.columnelement,t.host.coord()),a=parseInt(t.resizestartline.coord().left),o=a-t._startcolumnwidth,l=t.resizablecolumn.column.minwidth;l="auto"==l?0:parseInt(l);var d=t.resizablecolumn.column.maxwidth;d="auto"==d?0:parseInt(d);var h=s.pageX;if(i){var c=t.getTouches(s),u=c[0];h=u.pageX}o+=l;var p=d>0?a+d:0,f=0==d?!0:t._startcolumnwidth+h-a<d?!0:!1;if(t.rtl)var f=!0;if(f)if(t.rtl){if(h>=n.left&&h<=n.left+t.host.width()&&(t.resizeline.css("left",h),i))return!1}else if(h>=n.left&&h>=o&&(0!=p&&s.pageX<p?t.resizeline.css("left",h):0==p&&t.resizeline.css("left",h),i))return!1}return i||null==t.resizablecolumn?void 0:!1}),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(i){var s=e.data(document.body,"contextmenu"+t.element.id);if(null!=s&&t.autoshowcolumnsmenubutton)return!0;if(null!=t.resizablecolumn&&!t.disabled){var r=t.resizablecolumn.columnelement;if(r.coord().top+r.height()+5<i.pageY)return void(t.resizablecolumn=null);if(r.coord().top-5>i.pageY)return void(t.resizablecolumn=null);t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect"),t._mouseDownResize=new Date,t.resizing=!0,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground);var n=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",9999);var a=function(e){t.rtl?e.css("left",parseInt(n.left)):e.css("left",parseInt(n.left)+t._startcolumnwidth);var i=t._groupsheader(),s=i?t.groupsheader.height():0,r=t.showtoolbar?t.toolbarheight:0;s+=r;var a=t.showstatusbar?t.statusbarheight:0;s+=a;var o=0;t.pageable&&(o=t.pagerheight);var l="visible"==t.hScrollBar.css("visibility")?17:0;e.css("top",parseInt(n.top)),e.css("z-index",99999),e.height(t.columngroups?t.host.height()+t.resizablecolumn.columnelement.height()-o-s-l-t.columngroupslevel*t.columnsheight:t.host.height()-o-s-l),t.enableanimations?e.show("fast"):e.show()};a(t.resizeline),a(t.resizestartline),t.dragmousedown=null}});var a=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),(t.showfilterrow||t.showstatusbar||t.showtoolbar||t.enablebrowserselection)&&(t.host.removeClass("jqx-disableselect"),t.content.removeClass("jqx-disableselect")),t.resizing){t._mouseUpResize=new Date;var i=t._mouseUpResize-t._mouseDownResize;if(200>i)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()));if(t.resizing=!1,!t.disabled){var s=t.host.width();if("hidden"!=t.vScrollBar[0].style.visibility&&(s-=20),0>s&&(s=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var r=parseInt(t.resizeline.css("left")),n=parseInt(t.resizestartline.css("left")),a=t._startcolumnwidth+r-n;if(t.rtl)var a=t._startcolumnwidth-r+n;var o=t._resizecolumn.width;t._closemenu(),a<t._resizecolumn.minwidth&&(a=t._resizecolumn.minwidth),t._resizecolumn.width=a,void 0!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=a/s*100);for(var l=0;l<t._columns.length;l++)if(t._columns[l].datafield===t._resizecolumn.datafield){t._columns[l].width=t._resizecolumn.width,t._columns[l].width<t._resizecolumn.minwidth&&(t._columns[l].width=t._resizecolumn.minwidth);break}var d=t.hScrollBar[0].style.visibility;t._updatecolumnwidths(),t._updatecellwidths(),t._raiseEvent(14,{columntext:t._resizecolumn.text,column:t._resizecolumn.getcolumnproperties(),datafield:t._resizecolumn.datafield,oldwidth:o,newwidth:a}),t._renderrows(t.virtualsizeinfo),t.autosavestate&&t.savestate&&t.savestate(),d!=t.hScrollBar[0].style.visibility&&t.hScrollInstance.setPosition(0),t.rtl&&t._arrange(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null}else t.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var o=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(o=document.referrer),o&&-1!=o.indexOf(document.location.host)){var l=function(){a()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(d){}this.removeHandler(e(document),n),this.addHandler(e(document),n,function(){var i=e.data(document.body,"contextmenu"+t.element.id);return null!=i&&t.autoshowcolumnsmenubutton?!0:void a()})}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_updatefilterrowui:function(t){for(var i=this.columns.records.length,s=0,r=this,n=0;i>n;n++){var a=this.columns.records[n],o=a.width;o<a.minwidth&&(o=a.minwidth),o>a.maxwidth&&(o=a.maxwidth);var l=e(this.filterrow[0].cells[n]);l.css("left",s);var d=!0;if(l.width()==o&&(d=!1),t&&(d=!0),l.width(o),l[0].left=s,a.hidden&&a.hideable?l.css("display","none"):s+=o,d)if(a.createfilterwidget&&"custom"==a.filtertype)a.createfilterwidget(a,l);else if(a.filterable){var h=function(t,i){var s=e(i.children()[0]);s.width(o-10),s.attr("disabled",t.disabled)};switch(a.filtertype){case"number":case"input":e(l.children()[0]).width(o),l.find("input").width(o-30),l.find("input").attr("disabled",r.disabled),e(l.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:r.theme,disabled:r.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?e(l.children()[0]).jqxDateTimeInput({theme:r.theme,disabled:r.disabled,width:o-10}):h(this,l);break;case"textbox":case"default":h(this,l);break;case"list":case"checkedlist":this.host.jqxDropDownList?e(l.children()[0]).jqxDropDownList({theme:r.theme,disabled:r.disabled,width:o-10}):h(this,l);break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({theme:r.theme,disabled:r.disabled}):h(this,l)}}}var c=e(this.filterrow.children()[0]);c.width(parseInt(s)+2),c.height(this.filterrowheight)},clearfilterrow:function(t){if(this._disablefilterrow=!0,this.columns.records){for(var i=this.columns.records.length,s=0;i>s;s++){var r=this.columns.records[s],n=e(this.filterrow[0].cells[s]);if(("string"!=typeof t||r.displayfield==t)&&r.filterable){var a=function(t,i){var s=e(i.children()[0]);s.val(""),s[0]&&(t["_oldWriteText"+s[0].id]="")};switch(r.filtertype){case"number":case"input":if(n.find("input").val(""),this.host.jqxDropDownList){var o=e(e(e(n).children()[0]).children()[1]);o.jqxDropDownList("clearSelection");var l=0;if(0==l){var d=this._getfiltersbytype("number"==r.filtertype?"number":"string"),h=d.indexOf("contains");-1!=h&&null==r.filtercondition&&(l=h)}o.jqxDropDownList({selectedIndex:l}),o.jqxDropDownList("ensureVisible",l)}break;case"date":case"range":this.host.jqxDateTimeInput?e(n.children()[0]).jqxDateTimeInput("setDate",null):a(this,n);break;case"textbox":case"default":a(this,n);break;case"list":this.host.jqxDropDownList?e(n.children()[0]).jqxDropDownList("clearSelection"):a(this,n);break;case"checkedlist":this.host.jqxDropDownList?e(n.children()[0]).jqxDropDownList("checkAll",!1):a(this,n);break;case"bool":case"boolean":this.host.jqxCheckBox?e(n.children()[0]).jqxCheckBox({checked:null}):a(this,n)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var t=this.columns.records.length,i=this.that,s=0;t>s;s++){var r=new e.jqx.filter,n=this.columns.records[s];if(n.filterable&&null!==n.datafield){var a=i._getcolumntypebydatafield(n),o=i._getfiltertype(a),l=1,d=!0,h=(n.filtertype,function(e,t,s){var r=!0;if(e._filterwidget){var n=e._filterwidget.val();if(""!=n){var a="equal";if("stringfilter"==t)var a="contains";if("numericfilter"==t&&","==i.gridlocalization.decimalseparator&&n.indexOf(i.gridlocalization.decimalseparator)>=0&&(n=n.replace(i.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var o=0;if(-1!=n.indexOf(">")&&(a="greater_than",o=1),-1!=n.indexOf("<")&&(a="less_than",o=1),-1!=n.indexOf("=")&&("greater_than"==a?(a="greater_than_or_equal",o=2):"less_than"==a?(a="less_than_or_equal",o=2):(a="equal",o=1)),0!=o&&(n=n.substring(o),n.length<1))return!1}if(void 0!=e.filtercondition&&(a=e.filtercondition),"datefilter"==t)var d=s.createfilter(t,n,a,null,e.cellsformat,i.gridlocalization);else var d=s.createfilter(t,n,a);s.addfilter(l,d)}else r=!1}return r});switch(n.filtertype){case"range":case"date":if(n._filterwidget.jqxDateTimeInput)if("range"==n.filtertype){var c=n._filterwidget.jqxDateTimeInput("getRange");if(null!=c&&null!=c.from&&null!=c.to){var u="GREATER_THAN_OR_EQUAL",p=new Date(0);p.setHours(0),p.setMinutes(0),p.setFullYear(c.from.getFullYear(),c.from.getMonth(),c.from.getDate());var f=new Date(0);f.setHours(0),f.setMinutes(0),f.setFullYear(c.to.getFullYear(),c.to.getMonth(),c.to.getDate()),f.setHours(c.to.getHours()),f.setMinutes(c.to.getMinutes()),f.setSeconds(c.to.getSeconds());var m=r.createfilter(o,p,u);r.addfilter(0,m);var g="LESS_THAN_OR_EQUAL",v=r.createfilter(o,f,g);r.addfilter(0,v)}else d=!1}else{var c=n._filterwidget.jqxDateTimeInput("getDate");if(null!=c){var p=new Date(0);p.setHours(0),p.setMinutes(0),p.setFullYear(c.getFullYear(),c.getMonth(),c.getDate());var m=r.createfilter(o,p,"EQUAL");r.addfilter(0,m)}else d=!1}else d=h(n,o,r);break;case"input":if(n._filterwidget){var c=n._filterwidget.find("input").val(),b=n._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),x=r.getoperatorsbyfiltertype(o)[b];if(i.updatefilterconditions){var w=i.updatefilterconditions(o,r.getoperatorsbyfiltertype(o));void 0!=w&&r.setoperatorsbyfiltertype(o,w);var x=r.getoperatorsbyfiltertype(o)[b]}var y="NULL"==x||"NOT_NULL"==x,_="EMPTY"==x||"NOT_EMPTY"==x;void 0!=c&&c.length>0||y||_?(m=r.createfilter(o,c,x,null,n.cellsformat,i.gridlocalization),r.addfilter(0,m)):d=!1}else d=!1;break;case"number":if(n._filterwidget){var c=n._filterwidget.find("input").val();","==i.gridlocalization.decimalseparator&&c.indexOf(i.gridlocalization.decimalseparator)>=0&&(c=c.replace(i.gridlocalization.decimalseparator,"."));var b=n._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),x=r.getoperatorsbyfiltertype(o)[b];if(i.updatefilterconditions){var w=i.updatefilterconditions(o,r.getoperatorsbyfiltertype(o));void 0!=w&&r.setoperatorsbyfiltertype(o,w);var x=r.getoperatorsbyfiltertype(o)[b]}var y="NULL"==x||"NOT_NULL"==x,_="EMPTY"==x||"NOT_EMPTY"==x;void 0!=c&&c.length>0||y||_?(m=r.createfilter(o,new Number(c),x,null,n.cellsformat,i.gridlocalization),r.addfilter(0,m)):d=!1}else d=!1;break;case"textbox":case"default":d=h(n,o,r);break;case"bool":case"boolean":if(n._filterwidget.jqxCheckBox){var c=n._filterwidget.jqxCheckBox("checked");if(null!=c){var u="equal",j=r.createfilter(o,c,u);r.addfilter(l,j)}else d=!1}else d=h(n,o,r);break;case"list":var q=n._filterwidget.jqxDropDownList("listBox");if(q.selectedIndex>0){var k=q.getItem(q.selectedIndex),c=k.label,I=k.value,u="equal";""===c&&(u="NULL");var j=r.createfilter(o,c,u);r.addfilter(l,j),I!==c&&(j.data=I)}else d=!1;break;case"checkedlist":if(n._filterwidget.jqxDropDownList){var q=n._filterwidget.jqxDropDownList("listBox"),T=q.getCheckedItems();if(0==T.length){for(var C=1;C<q.items.length;C++){var c=q.items[C].label,I=q.items[C].value,u="not_equal";""===c&&(u="NULL");var j=r.createfilter(o,c,u);I!==c&&(j.data=I),r.addfilter(0,j)}d=!0}else if(T.length!=q.items.length)for(var C=0;C<T.length;C++){var c=T[C].label,I=T[C].value,u="equal";""===c&&(u="NULL");var j=r.createfilter(o,c,u);I!==c&&(j.data=I),r.addfilter(l,j)}else d=!1}else d=h(n,o,r)}this._loading||(d?this.addfilter(n.displayfield,r,!1):this.removefilter(n.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var t=e('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),i=0,s=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");r+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),r+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var n=s+10,a=new Array,o=this.that;this.filterrow[0].cells=a,t.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(t),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var l=!1,d=new Array,h=0;s>h;h++){var c=this.columns.records[h],u=c.width;u<c.minwidth&&(u=c.minwidth),u>c.maxwidth&&(u=c.maxwidth);var p=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+r+'"></div>');t.append(p),p.css("left",i),this.rtl?(p.css("z-index",n++),p.css("border-left-width","1px")):p.css("z-index",n--),"auto"==u&&(u=0),p[0].style.width=parseFloat(u)+"px",p[0].left=i,c.hidden&&c.hideable?p.css("display","none"):i+=u,a[a.length]=p[0];var f=!0;if(this.rtl){if(this.groupable){var m=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+m+h>s-1&&(f=!1)}this.showrowdetailscolumn&&this.rowdetails&&h==s-1&&(f=!1)}else{if(this.groupable){var m=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+m>h&&(f=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==h&&(f=!1)}if(f)if("custom"==c.filtertype&&c.createfilterwidget){var g=function(){o._applyfilterfromfilterrow()};c.createfilterwidget(c,p,g)}else c.filterable&&(this._filterrowcache[c.datafield]?(l=!0,p.append(this._filterrowcache[c.datafield]),c._filterwidget=this._filterrowcache[c.datafield]):(this._addfilterwidget(c,p,u),d[c.datafield]=c._filterwidget))}this._filterrowcache=d,e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",n--),t.width(parseFloat(i)+2),this.filterrow.addClass(r),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),l&&this._updatefilterrowui(!0)},_addfilterwidget:function(t,i,s){for(var r=this.that,n="",a=0;a<r.dataview.filters.length;a++){var o=r.dataview.filters[a];if(o.datafield&&o.datafield==t.datafield){n=o.filter.getfilters()[0].value;break}}var l=function(i,r){var a=e('<input autocomplete="off" type="textarea"/>');a[0].id=e.jqx.utilities.createId(),a.addClass(i.toThemeProperty("jqx-widget")),a.addClass(i.toThemeProperty("jqx-input")),a.addClass(i.toThemeProperty("jqx-rc-all")),a.addClass(i.toThemeProperty("jqx-widget-content")),i.rtl&&a.css("direction","rtl"),i.disabled&&a.attr("disabled",!0),a.attr("disabled",!1),a.appendTo(r),a.width(s-10),a.height(i.filterrowheight-10),a.css("margin","4px"),t.createfilterwidget&&t.createfilterwidget(t,r,a),t._filterwidget=a,a.focus(function(){return i.content[0].scrollLeft=0,setTimeout(function(){i.content[0].scrollLeft=0},10),i.focusedfilter=a,a.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),a.blur(function(){a.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),a.keydown(function(e){"13"==e.keyCode&&i._applyfilterfromfilterrow(),a[0]._writeTimer&&clearTimeout(a[0]._writeTimer),a[0]._writeTimer=setTimeout(function(){i._loading||i["_oldWriteText"+a[0].id]!=a.val()&&(i._applyfilterfromfilterrow(),i["_oldWriteText"+a[0].id]=a.val())},t.filterdelay),i.focusedfilter=a}),i.host.removeClass("jqx-disableselect"),i.content.removeClass("jqx-disableselect"),a.val(n)};switch(null!=t.datatype&&("number"==t.filtertype&&("string"==t.datatype||"date"==t.datatype||"bool"==t.datatype)&&(t.filtertype="textbox"),"date"==t.filtertype&&("string"==t.datatype||"number"==t.datatype||"bool"==t.datatype)&&(t.filtertype="textbox"),"bool"==t.filtertype&&("string"==t.datatype||"number"==t.datatype||"date"==t.datatype)&&(t.filtertype="textbox")),t.filtertype){case"number":case"input":var d=e("<div></div>");d.width(i.width()),d.height(this.filterrowheight),i.append(d);var s=i.width()-20,h=function(i,s){var a=e('<input style="float: left;" autocomplete="off" type="textarea"/>');return r.rtl&&(a.css("float","right"),a.css("direction","rtl")),a[0].id=e.jqx.utilities.createId(),a.addClass(r.toThemeProperty("jqx-widget")),a.addClass(r.toThemeProperty("jqx-input")),a.addClass(r.toThemeProperty("jqx-rc-all")),a.addClass(r.toThemeProperty("jqx-widget-content")),a.appendTo(i),a.width(s-10),r.disabled&&a.attr("disabled",!0),a.attr("disabled",!1),a.height(r.filterrowheight-10),a.css("margin","4px"),a.css("margin-right","2px"),a.focus(function(){r.focusedfilter=a,a.addClass(r.toThemeProperty("jqx-fill-state-focus"))}),a.blur(function(){a.removeClass(r.toThemeProperty("jqx-fill-state-focus"))}),a.keydown(function(e){"13"==e.keyCode&&r._applyfilterfromfilterrow(),a[0]._writeTimer&&clearTimeout(a[0]._writeTimer),a[0]._writeTimer=setTimeout(function(){r._loading||r["_oldWriteText"+a[0].id]!=a.val()&&(r._applyfilterfromfilterrow(),r["_oldWriteText"+a[0].id]=a.val())},t.filterdelay),r.focusedfilter=a}),a.val(n),a};h(d,s);var c=r._getfiltersbytype("number"==t.filtertype?"number":"string"),u=e("<div class='filter' style='float: left;'></div>");u.css("margin-top","4px"),u.appendTo(d),r.rtl&&u.css("float","right");var p=0;if(null!=t.filtercondition){var a=new e.jqx.filter,f=a.getoperatorsbyfiltertype("number"==t.filtertype?"numericfilter":"stringfilter"),m=f.indexOf(t.filtercondition.toUpperCase());-1!=m&&(p=m)}var g=170;if("input"==t.filtertype&&(g=240,0==p)){var m=c.indexOf("contains");-1!=m&&null==t.filtercondition&&(p=m)}u.jqxDropDownList({disabled:r.disabled,touchMode:r.touchmode,rtl:r.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:p,width:18,height:21,dropDownHeight:150,dropDownWidth:g,source:c,theme:r.theme}),u.jqxDropDownList({selectionRenderer:function(){return""}}),u.jqxDropDownList("setContent",""),u.find(".jqx-dropdownlist-content").hide(),t.createfilterwidget&&t.createfilterwidget(t,i,d),t._filterwidget=d;var v=null;this.addHandler(u,"select",function(){var e=u.jqxDropDownList("getSelectedItem").label;t._filterwidget.find("input").val().length>0&&!r.refreshingfilter&&r._applyfilterfromfilterrow(),"input"!=t.filtertype||r.refreshingfilter?0!=t._filterwidget.find("input").val().length||r.refreshingfilter||("null"==v||"not null"==v||"null"==e||"not null"==e)&&r._applyfilterfromfilterrow():r._applyfilterfromfilterrow(),v=e});break;case"textbox":case"default":default:l(this,i);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var b=e("<div></div>");b.css("margin","4px"),b.appendTo(i);var x={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};b.jqxDateTimeInput({readonly:!0,disabled:r.disabled,localization:x,rtl:r.rtl,showFooter:!0,formatString:t.cellsformat,selectionMode:t.filtertype,value:null,theme:this.theme,width:s-10,height:this.filterrowheight-10}),t.createfilterwidget&&t.createfilterwidget(t,i,b),t._filterwidget=b,this.addHandler(b,"valueChanged",function(){r.refreshingfilter||(r._applyfilterfromfilterrow(),r.focusedfilter=null)})}else l(this,i);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var w=this._getfilterdataadapter(t),y=!1,u=e("<div></div>");u.css("margin","4px");var _=t.datafield,j="checkedlist"==t.filtertype?!0:!1,g=150>s?220:"auto";w.dataBind();var q=w.records,k=q.length<8?!0:!1;y=k,u.appendTo(i),u.jqxDropDownList({disabled:r.disabled,touchMode:r.touchmode,rtl:r.rtl,checkboxes:j,dropDownWidth:g,source:w.records,autoDropDownHeight:k,theme:this.theme,width:s-10,height:this.filterrowheight-10,displayMember:t.displayfield,valueMember:_}),t.createfilterwidget&&t.createfilterwidget(t,i,u);var I=u.jqxDropDownList("listBox");if(j){u.jqxDropDownList({selectionRenderer:function(){var e='<span class="'+r.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+r.gridlocalization.filterselectstring+"</span>";return e}});var T=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+r.gridlocalization.filterselectstring+"</span>");if(T.addClass(this.toThemeProperty("jqx-item")),void 0!=I){y||I.host.height(200),I.insertAt(r.gridlocalization.filterselectallstring,0),u.jqxDropDownList("setContent",T);{var C=!0;new Array}I.checkAll(!1),r.addHandler(I.host,"checkChange",function(e){if(u[0]._selectionChanged=!0,C)if(e.args.label!=r.gridlocalization.filterselectallstring){C=!1,I.host.jqxListBox("checkIndex",0,!0,!1);var t=I.host.jqxListBox("getCheckedItems"),i=I.host.jqxListBox("getItems");1==t.length?I.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&I.host.jqxListBox("indeterminateIndex",0,!0,!1),C=!0}else C=!1,e.args.checked?I.host.jqxListBox("checkAll",!1):I.host.jqxListBox("uncheckAll",!1),C=!0})}}else I.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),u.jqxDropDownList({selectedIndex:0});t._filterwidget=u;{u.jqxDropDownList("dropdownlistWrapper")}"list"==t.filtertype?this.addHandler(u,"select",function(e){r.refreshingfilter||e.args&&"none"!=e.args.type&&(r._applyfilterfromfilterrow(),r.focusedfilter=null)}):this.addHandler(u,"close",function(){u[0]._selectionChanged&&(r._applyfilterfromfilterrow(),r.focusedfilter=null,u[0]._selectionChanged=!1)})}else l(this,i);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var S=e('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>');S.appendTo(i),S.jqxCheckBox({disabled:r.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),t.createfilterwidget&&t.createfilterwidget(t,i,S),n===!0||"true"==n?S.jqxCheckBox({checked:!0}):(n===!1||"false"==n)&&S.jqxCheckBox({checked:!1}),t._filterwidget=S,this.addHandler(S,"change",function(e){r.refreshingfilter||e.args&&(r.focusedfilter=null,r._applyfilterfromfilterrow())})}else l(this,i)}},_getfilterdataadapter:function(t){var i=this.source._source?!0:!1;if(i){var s={localdata:this.source.records,datatype:this.source.datatype,async:!1},r=this;dataadapter=new e.jqx.dataAdapter(s,{autoBind:!1,autoSort:!0,autoSortField:t.displayfield,async:!1,uniqueDataFields:[t.displayfield],beforeLoadComplete:function(e){var i=new Array;if(t.cellsformat){for(var s=r._getcolumntypebydatafield(t),n=0;n<e.length;n++){i.push(e[n]);var a=e[n][t.displayfield];e[n][t.displayfield+"JQValue"]=a,"date"===s?e[n][t.displayfield]=dataadapter.formatDate(a,t.cellsformat,r.gridlocalization):("number"===s||"float"===s||"int"===s)&&(e[n][t.displayfield]=dataadapter.formatNumber(a,t.cellsformat,r.gridlocalization))}return i}return e}})}else dataadapter=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t.displayfield],autoSort:!0,autoSortField:t.displayfield,async:!1});if(t.filteritems&&t.filteritems.length>0){var s={localdata:t.filteritems,datatype:this.source.datatype,async:!1};dataadapter=new e.jqx.dataAdapter(s,{autoBind:!1,async:!1})}else if(t.filteritems){if(t.filteritems._source)return t.filteritems._options.autoBind=!1,t.filteritems._options.async=!1,t.filteritems;if(e.isFunction(t.filteritems))return t.filteritems()}return dataadapter},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var t=this.that,i=this.columns.records.length,s=0;i>s;s++){var r=this.columns.records[s];if(r.filterable&&r.filter){var n=r.filter.getfilters();if(n.length>0){var a=n[0].value,o=r._filterwidget,l=r._filterwidget.parent();if(null!=o)switch(r.filtertype){case"number":if(l.find("input").val(a),this.host.jqxDropDownList){var d=r.filter.getoperatorsbyfiltertype("numericfilter");o.find(".filter").jqxDropDownList("selectIndex",d.indexOf(n[0].condition))
}break;case"input":if(l.find("input").val(a),this.host.jqxDropDownList){var d=r.filter.getoperatorsbyfiltertype("stringfilter");o.find(".filter").jqxDropDownList("selectIndex",d.indexOf(n[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){var a=r.filter.getfilterat(0).filtervalue;if(void 0!=a){if(r.filter.getfilterat(1))var h=r.filter.getfilterat(1).filtervalue;else h=a;"range"==r.filtertype?e(l.children()[0]).jqxDateTimeInput("setRange",new Date(a),new Date(h)):e(l.children()[0]).jqxDateTimeInput("setDate",new Date(a))}}else o.val(a);break;case"textbox":case"default":o.val(a),t["_oldWriteText"+o[0].id]=a;break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({checked:a}):o.val(a)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){for(var t=(this.that,this.columns.records.length),i=0;t>i;i++){var s=this.columns.records[i];if(s.filterable){var r=s._filterwidget;if("list"==s.filtertype||"checkedlist"==s.filtertype)this.removeHandler(r,"select"),this.removeHandler(r,"close"),r.jqxDropDownList("destroy");else if("date"==s.filtertype)this.removeHandler(r,"valueChanged"),r.jqxDateTimeInput("destroy");else if("bool"==s.filtertype)this.removeHandler(r,"change"),r.jqxCheckBox("destroy");else if("number"==s.filtertype){var n=r.find(".jqx-input");this.removeHandler(n,"keydown");var a=e(r.children()[1]);a.jqxDropDownList("destroy")}else this.removeHandler(r,"keydown");r.remove()}}},_updatelistfilters:function(t,i){for(var s=this.that,r=this.columns.records.length,n=0;r>n;n++){var a=this.columns.records[n];if(a.filterable&&("list"==a.filtertype||"checkedlist"==a.filtertype)){var o=a._filterwidget;if(t){var l=this._getfilterdataadapter(a);o.jqxDropDownList({source:l});var d=o.jqxDropDownList("getItems"),h=!0;if(d.length!=l.records.length+1&&(h=!1),h)for(var c=1;c<d.length;c++)if(d[c].label!=l.records[c-1][a.displayfield]){h=!1;break}if(h&&!i)continue}else if(void 0==a.filter){o.jqxDropDownList("renderSelection");continue}var u="checkedlist"==a.filtertype?!0:!1,d=o.jqxDropDownList("getItems"),p=o.jqxDropDownList("listBox");if(o.jqxDropDownList("dataBind"),u){if(o.jqxDropDownList({selectionRenderer:function(){return s.gridlocalization.filterselectstring}}),p.insertAt(this.gridlocalization.filterselectallstring,0),o.jqxDropDownList("setContent",this.gridlocalization.filterselectstring),p.checkAll(!1),a.filter){for(var f=a.filter.getfilters(),c=0;c<p.items.length;c++){var m=p.items[c].label,g=void 0;e.each(f,function(){var e;"NOT_EQUAL"==this.condition?e=m==this.value?!1:!0:"EQUAL"==this.condition&&(e=m==this.value?!0:!1),g=void 0==g&&void 0!==e?e:"EQUAL"==this.condition?g||e:g&&e}),g?p.checkIndex(c,!1,!1):p.uncheckIndex(c,!1,!1)}p._updateCheckedItems();var v=p.getCheckedItems().length;p.items.length!=v&&v>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),o.jqxDropDownList({selectedIndex:0}),a.filter){for(var f=a.filter.getfilters(),b=-1,c=0;c<p.items.length;c++){var m=p.items[c].label;e.each(f,function(){return"NOT_EQUAL"==this.condition?!0:m==this.value?(b=c,!1):void 0})}-1!=b&&p.selectIndex(b)}d.length<8?o.jqxDropDownList("autoDropDownHeight",!0):o.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var t=this.that;if(this.filterable){if(!this.columns.records)return;e.each(this.columns.records,function(){var i=!1;t.autoshowfiltericon?this.filter?(e(this.filtericon).show(),i=!0):e(this.filtericon).hide():this.filterable&&(e(this.filtericon).show(),i=!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=i?"18px":"2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var t=this.source._source.datafields;if(t)for(var i=0;i<this.columns.records.length;i++){var s=this.columns.records[i];if(!s.datatype){var r="";e.each(t,function(){return this.name==s.displayfield?(this.type&&(r=this.type),!1):void 0}),s.datatype=""!=r?r:""}}}},_getcolumntypebydatafield:function(t){var i=this.that,s="string",r=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(r){var n="";if(e.each(r,function(){return this.name==t.displayfield?(this.type&&(n=this.type),!1):void 0}),n)return n}if(null!=t){if(void 0==this.dataview.cachedrecords)return s;var a=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return a=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return s;if(a=this.dataview.cachedrecords[0][t.displayfield],null!=a&&""==a.toString())return"string"}if(null!=a)if("boolean"==typeof a)s="boolean";else if(e.jqx.dataFormat.isNumber(a))s="number";else{var o=new Date(a);if("NaN"==o.toString()||"Invalid Date"==o.toString())if(e.jqx.dataFormat){if(o=e.jqx.dataFormat.tryparsedate(a),null!=o){if(o&&o.getFullYear()&&1970==o.getFullYear()&&0==o.getMonth()&&1==o.getDate()){var l=new Number(a);return isNaN(l)?"string":"number"}return"date"}s="string"}else s="string";else s="date"}}return s},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(t,i,s){var r=e(i).find("#filter1"+t.element.id),n=e(i).find("#filter2"+t.element.id),a=e(i).find("#filter3"+t.element.id),o=e(i).find(".filtertext1"+t.element.id),l=e(i).find(".filtertext2"+t.element.id),d=o.val(),h=l.val(),c=t._getcolumntypebydatafield(s),u=(t._getfiltersbytype(c),new e.jqx.filter),p=t._getfiltertype(c);if("default"===t.filtermode){var f=r.jqxDropDownList("selectedIndex"),m=n.jqxDropDownList("selectedIndex"),g=a.jqxDropDownList("selectedIndex"),v=null,b=null;if(t.updatefilterconditions){var x=t.updatefilterconditions(p,u.getoperatorsbyfiltertype(p));void 0!=x&&u.setoperatorsbyfiltertype(p,x)}var w=!1,y=u.getoperatorsbyfiltertype(p)[f],a=u.getoperatorsbyfiltertype(p)[g],_="NULL"==y||"NOT_NULL"==y,j="EMPTY"==y||"NOT_EMPTY"==y;void 0==y&&(y=u.getoperatorsbyfiltertype(p)[0]),void 0==a&&(a=u.getoperatorsbyfiltertype(p)[0]),(d.length>0||_||j)&&(v=u.createfilter(p,d,y,null,s.cellsformat,t.gridlocalization),u.addfilter(m,v),w=!0);var q="NULL"==a||"NOT_NULL"==a,k="EMPTY"==a||"NOT_EMPTY"==a;if((h.length>0||q||k)&&(b=u.createfilter(p,h,a,null,s.cellsformat,t.gridlocalization),u.addfilter(m,b),w=!0),w){var I=s.displayfield;this.addfilter(I,u,!0)}else this._clearfilter(t,i,s)}else{var T=!1,C=r.data().jqxListBox.instance,S=C.getCheckedItems();if(0==S.length){for(var D=1;D<C.items.length;D++){var P=C.items[D].value,E="not_equal";if(P.indexOf("|")>=0||P.indexOf(" AND ")>=0||P.indexOf(" OR ")>=0||P.indexOf(" and ")>=0||P.indexOf(" or ")>=0){P=P.replace("|",""),P=P.replace("AND",""),P=P.replace("OR",""),P=P.replace("and",""),P=P.replace("or","");var E="equal"}var H=u.createfilter(p,P,E,null);u.addfilter(0,H)}T=!0}else if(S.length!=C.items.length){T=!0;for(var D=0;D<S.length;D++)if(t.gridlocalization.filterselectallstring!==S[D].value){var P=S[D].value,E="equal",H=u.createfilter(p,P,E,null),B=1;u.addfilter(B,H)}}else T=!1;if(T){var I=s.displayfield;this.addfilter(I,u,!0)}else{var I=s.displayfield;this.removefilter(I,!0)}}},_clearfilter:function(e,t,i){var s=i.displayfield;this.removefilter(s,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var s=this.getcolumn(e),r=this._getcolumn(e);void 0!=s&&null!=s&&(s.filter=t,r.filter=t,this.dataview.addfilter(e,t),1==i&&void 0!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),s=this._getcolumn(e);void 0!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,s.filter=null,this.showfilterrow&&this.clearfilterrow(e),(1==t||t!==!1)&&this.applyfilters("remove"))},applyfilters:function(t){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var i=-1;this.pageable?(i=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=i)}if(this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),void this._raiseEvent(13,{filters:this.dataview.filters});this.selectedrowindexes,this.that;if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var s=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,s,null,!1,!1):this.sortby(this.sortcolumn,s,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates()):(this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(t){var i=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var s=1==t||t!==!1;e.each(this.columns.records,function(){i.removefilter(this.displayfield,!s)})}t!==!1&&(1==t||t!==!1)&&this.applyfilters("clear")},_destroyfilterpanel:function(){var t=e(e.find("#filterclearbutton"+this.element.id)),i=e(e.find("#filterbutton"+this.element.id)),s=e(e.find("#filter1"+this.element.id)),r=e(e.find("#filter2"+this.element.id)),n=e(e.find("#filter3"+this.element.id)),a=e(e.find(".filtertext1"+this.element.id)),o=e(e.find(".filtertext2"+this.element.id));a.length>0&&o.length>0&&(a.removeClass(),o.removeClass(),a.remove(),o.remove()),t.length>0&&(t.jqxButton("destroy"),i.jqxButton("destroy"),this.removeHandler(t,"click"),this.removeHandler(i,"click")),s.length>0&&s.jqxDropDownList("destroy"),r.length>0&&r.jqxDropDownList("destroy"),n.length>0&&n.jqxDropDownList("destroy")},_updatefilterpanel:function(t,i,s){(null==t||void 0==t)&&(t=this);var r=t._getcolumntypebydatafield(s),n=t._getfiltersbytype(r);if(!t.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");var a=e(i),o=a.find("#filterclearbutton"+t.element.id),l=a.find("#filterbutton"+t.element.id),d=a.find("#filter1"+t.element.id),h=a.find("#filter2"+t.element.id),c=a.find("#filter3"+t.element.id),u=a.find(".filtertext1"+t.element.id),p=a.find(".filtertext2"+t.element.id);if(this._hasdatefilter){var f=u.parent(),m=p.parent();if(f.children().remove(),m.children().remove(),"date"==s.filtertype){t._showwhere.text(t.gridlocalization.filtershowrowdatestring);var g=e("<div class='filtertext1"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");f.append(g);var v=function(e){var i={calendar:t.gridlocalization,todayString:t.gridlocalization.todaystring,clearString:t.gridlocalization.clearstring};e.jqxDateTimeInput({disabled:t.disabled,localization:i,rtl:t.rtl,width:t._filterpanelwidth-15,height:20,value:null,formatString:s.cellsformat,theme:t.theme})};v(g);var g=e("<div class='filtertext2"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");m.append(g),v(g)}else{t._showwhere.text(t.gridlocalization.filtershowrowstring);var g=e("<input class='filtertext1"+t.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");f.append(g);var v=function(e){e.addClass(t.toThemeProperty("jqx-input")),e.addClass(t.toThemeProperty("jqx-widget-content")),e.addClass(t.toThemeProperty("jqx-rc-all")),e.width(t._filterpanelwidth-15)};v(g);var g=e("<input class='filtertext2"+t.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");m.append(g),v(g)}var u=a.find(".filtertext1"+t.element.id),p=a.find(".filtertext2"+t.element.id)}if(u.val(""),p.val(""),this.removeHandler(l,"click"),this.addHandler(l,"click",function(){t._buildfilter(t,i,s),t._closemenu()}),this.removeHandler(o,"click"),this.addHandler(o,"click",function(){t._clearfilter(t,i,s),t._closemenu()}),"default"===this.filtermode){if(d.jqxDropDownList("source")!=n&&(d.jqxDropDownList({enableBrowserBoundsDetection:!1,source:n}),c.jqxDropDownList({enableBrowserBoundsDetection:!1,source:n})),"boolean"==r||"bool"==r)d.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),c.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var b=!1;n&&n.length&&n.length<5&&(b=!0),d.jqxDropDownList({autoDropDownHeight:b,selectedIndex:2}),c.jqxDropDownList({autoDropDownHeight:b,selectedIndex:2})}h.jqxDropDownList({selectedIndex:0});var x=s.filter,w=new e.jqx.filter,y="";switch(r){case"number":case"int":case"float":case"decimal":y="numericfilter",_=w.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":y="booleanfilter",_=w.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":y="datefilter",_=w.getoperatorsbyfiltertype("datefilter");break;case"string":y="stringfilter",_=w.getoperatorsbyfiltertype("stringfilter")}if(null!=x){{var f=x.getfilterat(0),m=x.getfilterat(1);x.getoperatorat(0)}if(t.updatefilterconditions){var _=[],j=t.updatefilterconditions(y,_);if(void 0!=j){for(var q=0;q<j.length;q++)j[q]=j[q].toUpperCase();x.setoperatorsbyfiltertype(y,j),_=j}}var k="default";if(null!=f){var I=_.indexOf(f.comparisonoperator),T=f.filtervalue;u.val(T),d.jqxDropDownList({selectedIndex:I,animationType:k})}if(null!=m){var C=_.indexOf(m.comparisonoperator),S=m.filtervalue;p.val(S),c.jqxDropDownList({selectedIndex:C,animationType:k})}h.jqxDropDownList(void 0==x.getoperatorat(0)?{selectedIndex:0,animationType:k}:"and"==x.getoperatorat(0)||0==x.getoperatorat(0)?{selectedIndex:0}:{selectedIndex:1})}t.updatefilterpanel&&t.updatefilterpanel(d,c,h,u,p,l,o,x,y,_),(!this._hasdatefilter||this._hasdatefilter&&"date"!=s.filtertype)&&(u.focus(),setTimeout(function(){u.focus()},10))}else{var D=t._getfilterdataadapter(s),y=t._getfiltertype(r);d.jqxListBox(s.cellsformat?{displayMember:s.displayfield,valueMember:s.displayfield+"JQValue",source:D}:{displayMember:s.displayfield,valueMember:s.displayfield,source:D}),d.jqxListBox("insertAt",t.gridlocalization.filterselectallstring,0);var P=d.data().jqxListBox.instance;P.checkAll(!1);if(s.filter){P.uncheckAll(!1);for(var E=s.filter.getfilters(),H=0;H<P.items.length;H++){var B=P.items[H].value;e.each(E,function(){if("NOT_EQUAL"==this.condition){if(B!=this.value)return P.uncheckIndex(H,!1,!1),!1}else if("EQUAL"==this.condition&&B==this.value)return P.checkIndex(H,!1,!1),!1})}P._updateCheckedItems();var A=P.getCheckedItems().length;P.items.length!=A&&A>0&&P.host.jqxListBox("indeterminateIndex",0,!0,!1),A===P.items.length-1&&P.host.jqxListBox("checkIndex",0,!0,!1)}}},_initfilterpanel:function(t,i,s,r){(null==t||void 0==t)&&(t=this),i[0].innerHTML="";var n=e("<div class='filter' style='margin-left: 7px;'></div>");i.append(n);var a=e("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");a.text(t.gridlocalization.filtershowrowstring),this._showwhere=a;var o=e("<div class='filter' id='filter1"+t.element.id+"'></div>"),l=e("<div class='filter' id='filter2"+t.element.id+"' style='margin-bottom: 3px;'></div>"),d=e("<div class='filter' id='filter3"+t.element.id+"'></div>"),h=t._getcolumntypebydatafield(s);if(!o.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var c=t._getfiltersbytype(h);if(this._hasdatefilter=!1,this._filterpanelwidth=r,this.columns&&this.columns.records)for(var u=0;u<this.columns.records.length;u++)if("date"==this.columns.records[u].filtertype){this._hasdatefilter=!0;break}var p=e("<div class='filter'><input class='filtertext1"+t.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),f=p.find("input");f.addClass(this.toThemeProperty("jqx-input")),f.addClass(this.toThemeProperty("jqx-widget-content")),f.addClass(this.toThemeProperty("jqx-rc-all")),f.width(r-15);var m=e("<div class='filter'><input class='filtertext2"+t.element.id+"' style='height: 20px; margin-top: 3px;' type='text'></input></div>"),g=m.find("input");g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(r-15),t.rtl&&(f.css("direction","rtl"),g.css("direction","rtl"));var v=e("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>"),b=e('<span tabIndex=0 id="filterbutton'+t.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+t.gridlocalization.filterstring+"</span>");v.append(b);var x=e('<span tabIndex=0 id="filterclearbutton'+t.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+t.gridlocalization.filterclearstring+"</span>");v.append(x),b.jqxButton({height:20,theme:t.theme}),x.jqxButton({height:20,theme:t.theme});var w=function(e){if(e){if(-1!=e.text().indexOf("case sensitive")){var i=e.text();i=i.replace("case sensitive","match case"),e.text(i)}return e.css("font-family",t.host.css("font-family")),e.css("font-size",t.host.css("font-size")),e.css("top","1px"),e.css("position","relative"),e}return""};if("default"===this.filtermode){n.append(a),n.append(o),o.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:r-15,height:20,dropDownHeight:150,dropDownWidth:r-15,selectionRenderer:w,source:c,theme:t.theme}),n.append(p);var y=new Array;y[0]=t.gridlocalization.filterandconditionstring,y[1]=t.gridlocalization.filterorconditionstring,l.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:20,source:y,selectionRenderer:w,theme:t.theme}),n.append(l),d.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:r-15,height:20,dropDownHeight:150,dropDownWidth:r-15,selectionRenderer:w,source:c,theme:t.theme}),n.append(d),n.append(m)}else{n.append(a),n.append(o),o.jqxListBox({rtl:t.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:r-15,height:120,theme:t.theme});var _=!0;t.addHandler(o,"checkChange",function(e){if(_)if(e.args.label!=t.gridlocalization.filterselectallstring){_=!1,o.jqxListBox("checkIndex",0,!0,!1);var i=o.jqxListBox("getCheckedItems"),s=o.jqxListBox("getItems");1==i.length?o.jqxListBox("uncheckIndex",0,!0,!1):s.length!=i.length&&o.jqxListBox("indeterminateIndex",0,!0,!1),_=!0}else _=!1,e.args.checked?o.jqxListBox("checkAll",!1):o.jqxListBox("uncheckAll",!1),_=!0})}n.append(v),t.updatefilterpanel&&t.updatefilterpanel(o,d,l,p,m,b,x,null,null,c)}})}(jqxBaseFramework),function(e){e.jqx.dataview.sort=function(){this.sortby=function(t,i,s){var r=Object.prototype.toString;if(null==i)return this.sortdata=null,void this.refresh();void 0==i&&(i=!0),i="a"==i||"asc"==i||"ascending"==i||1==i?!0:!1;var n=t;this.sortfield=t,this.sortfielddirection=i?"asc":"desc",void 0==this.sortcache&&(this.sortcache={}),this.sortdata=[];var a=[],o=!1;if("constructor"==n&&(n=""),!this.virtualmode&&null!=this.sortcache[n]){var l=this.sortcache[n];a=l._sortdata,l.direction==i?a.reverse():(!l.direction&&i&&a.reverse(),o=!0),a.length<this.totalrecords&&(this.sortcache={},o=!1,a=[])}Object.prototype.toString="function"==typeof t?t:function(){return this[t]};var d=this.records,h=(this.that,"");if(this.source.datafields&&e.each(this.source.datafields,function(){return this.name==t?(this.type&&(h=this.type),!1):void 0}),0==a.length)if(d.length)for(var c=d.length,u=0;c>u;u++){var p=d[u];if(null!=p){var f=p,m=f.toString();a.push({sortkey:m,value:f,index:u})}}else{var g=!1;for(obj in d){var p=d[obj];if(void 0==p){g=!0;break}var f=p;a.push({sortkey:f.toString(),value:f,index:obj})}g&&e.each(d,function(e,t){a.push({sortkey:t.toString(),value:t,index:e})})}if(!o)if(null==s){this._sortcolumntype=h;var v=this;a.sort(function(e,t){return v._compare(e,t,h)})}else a.sort(s);i||a.reverse(),Object.prototype.toString=r,this.sortdata=a,this.sortcache[n]={_sortdata:a,direction:i},this.reload(this.records,this.rows,this.filters,this.updated,!0)},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(t,i,s){var t=t.sortkey,i=i.sortkey;if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;if(e.jqx.dataFormat)if(s&&""!=s)switch(s){case"number":case"int":case"float":return i>t?-1:t>i?1:0;case"date":case"time":return i>t?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(i>t)return-1;if(t>i)return 1}catch(r){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)}},e.extend(e.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var t=this.that,i=this.getsortcolumn();if(this.sortdirection){var s=function(i,s){var r=t.getcolumn(i);r&&(s.ascending?e.jqx.aria(r.element,"aria-sort","ascending"):s.descending?e.jqx.aria(r.element,"aria-sort","descending"):e.jqx.aria(r.element,"aria-sort","none"))};this._oldsortinfo&&this._oldsortinfo.column&&s(this._oldsortinfo.column,{ascending:!1,descending:!1}),s(i,this.sortdirection)}this._oldsortinfo={column:i,direction:this.sortdirection},this.sortdirection&&e.each(this.columns.records,function(){var s=e.data(document.body,"groupsortelements"+this.displayfield);null==i||this.displayfield!=i?(e(this.sortasc).hide(),e(this.sortdesc).hide(),null!=s&&(s.sortasc.hide(),s.sortdesc.hide())):t.sortdirection.ascending?(e(this.sortasc).show(),e(this.sortdesc).hide(),null!=s&&(s.sortasc.show(),s.sortdesc.hide())):(e(this.sortasc).hide(),e(this.sortdesc).show(),null!=s&&(s.sortasc.hide(),s.sortdesc.show()))})},getsortcolumn:function(){return void 0!=this.sortcolumn?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(e,t,i,s,r){if(this._loading&&r!==!1)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e&&(t=null,e=this.sortcolumn),void 0!=e){var n=this.that;if(void 0==i&&null!=n.source.sortcomparer&&(i=n.source.sortcomparer),ascending="a"==t||"asc"==t||"ascending"==t||1==t?!0:!1,n.sortdirection=null!=t?{ascending:ascending,descending:!ascending}:{ascending:!1,descending:!1},n.sortcolumn=null!=t?e:null,n.source.sort||n.virtualmode){if(n.dataview.sortfield=e,n.dataview.sortfielddirection=null==t?"":ascending?"asc":"desc",n.source.sort&&!this._loading)return n.source.sort(e,t),void n._raiseEvent(6,{sortinformation:n.getsortinformation()})}else n.dataview.sortby(e,t,i);if(s===!1)return;n.groupable&&n.groups.length>0?(n._render(!0,!1,!1),n._updategroupheadersbounds&&n.showgroupsheader&&n._updategroupheadersbounds()):(n.pageable&&n.dataview.updateview(),n._updaterowsproperties(),n.rendergridcontent(!0)),n._raiseEvent(6,{sortinformation:n.getsortinformation()})}},_togglesort:function(e){var t=this.that;if(!this.disabled&&e.sortable&&t.sortable){var i=t.getsortinformation(),s=null;null!=i.sortcolumn&&i.sortcolumn==e.displayfield?(s=i.sortdirection.ascending,s=t.sorttogglestates>1?1==s?!1:null:!s):s=!0,t.sortby(e.displayfield,s,null)}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_initpager:function(){var t=this.that,i=this.gridlocalization.pagergotopagestring,s=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),r=(this.pagerheight-17)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if(this.pagerrenderer){this.pagerdiv.children().remove();var n=this.pagerrenderer();null!=n&&this.pagerdiv.append(e(n)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",r),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||e('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>'),this.pagergoto=this.pagergoto||e('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=e('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerlastbutton=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var a=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");a.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(a);var o=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");o.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(o),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var l=this.rtl?"right":"left";this.pagerbuttons.css("float",l),this.pagerlastbutton.css("float",l),this.pagerfirstbutton.css("float",l),this.pagerrightbutton.css("float",l),this.pagerleftbutton.css("float",l),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var d=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");d.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(d);var h=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");h.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(h),this.rtl||this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var c=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:c,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:16,theme:this.theme});for(var u=0,p=0;p<c.length;p++)this.pagesize>=c[p]&&(u=p);this.pagershowrows[0].innerHTML=s,this.pagergoto[0].innerHTML=i,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:u}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");var t=this.that;this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(e){if(e.args){t.vScrollInstance&&t.vScrollInstance.setPosition(0),null!=t.editcell&&t.endcelledit&&t.endcelledit(t.editcell.row,t.editcell.column,!0,!1);var i=e.args.index,s=t.dataview.pagenum*t.dataview.pagesize,r=c[i],n=t.pagesize;t.pagesize=parseInt(r),isNaN(t.pagesize)&&(t.pagesize=10),t.pagershowrowscombo.jqxDropDownList(r>=100?{width:"auto"}:{width:44}),t.dataview.pagesize=t.pagesize;var a=Math.floor(s/t.dataview.pagesize);t.prerenderrequired=!0,t._requiresupdate=!0,t._raiseEvent(10,{pagenum:a,oldpagesize:n,pagesize:t.dataview.pagesize}),t.gotopage(a),t.autoheight&&t._updatesizeonwindowresize&&(t._updatesize(!0),setTimeout(function(){t._updatesize(!0)
},500))}});var f=this.pagergotoinput.find("input");f.addClass(this.toThemeProperty("jqx-grid-pager-input")),f.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(f,"keydown"),this.removeHandler(f,"change"),this.addHandler(f,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var i=f.val();return i=parseInt(i),isNaN(i)||t.gotopage(i-1),!1}}),this.addHandler(f,"change",function(){var e=f.val();e=parseInt(e),isNaN(e)||t.gotopage(e-1)}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){h.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){h.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+this.element.id,function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected")),d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){t.pagerrightbutton.jqxButton("disabled")||(t.rtl?t.gotoprevpage():t.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){t.pagerleftbutton.jqxButton("disabled")||(t.rtl?t.gotonextpage():t.gotoprevpage())});var m=this;if("simple"===this.pagermode){var g=this.pagerfirstbutton,v=this.pagerlastbutton;this.addHandler(v,"mouseenter",function(){o.addClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseenter",function(){a.addClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mouseleave",function(){o.removeClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseleave",function(){a.removeClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mousedown",function(){o.addClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mousedown",function(){a.addClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(v,"mouseup",function(){o.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mouseup",function(){a.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+name+this.element.id,function(){h.removeClass(m.toThemeProperty("jqx-icon-arrow-right-selected")),d.removeClass(m.toThemeProperty("jqx-icon-arrow-left-selected")),o&&(o.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected")),a.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(g,"click",function(){if(!g.jqxButton("disabled"))if(m.rtl){var e=m.dataview.totalrecords,t=Math.ceil(e/m.pagesize);m.gotopage(t-1)}else m.gotopage(0)}),this.addHandler(v,"click",function(){if(!v.jqxButton("disabled"))if(m.rtl)m.gotopage(0);else{var e=m.dataview.totalrecords,t=Math.ceil(e/m.pagesize);m.gotopage(t-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var t=this.pagergotoinput.find("input");t.removeClass(),t.addClass(this.toThemeProperty("jqx-grid-pager-input")),t.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var i=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(i);var s=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(s.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(s),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var r=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");r.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(r);var n=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");n.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(n),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var a=function(e,t){e.removeHandler(t,"mouseenter"),e.removeHandler(t,"mouseleave"),e.removeHandler(t,"mousedown"),e.removeHandler(t,"mouseup")};a(this,this.pagerrightbutton),a(this,this.pagerleftbutton);var o=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){s.addClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){i.addClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){s.removeClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){i.removeClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){s.addClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){s.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){i.addClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){i.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(e){if((null==e||void 0==e)&&(e=0),-1==e&&(e=0),!(0>e)){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:e,pagesize:this.dataview.pagesize});var s=Math.ceil(t/this.pagesize);if(e>=s&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),e>0&&(e=s-1),0>e&&(e=0)),(this.dataview.pagenum!=e||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(e,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=e,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var r=e*this.dataview.pagesize,n=r+this.dataview.pagesize;if(null!=r&&null!=n)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight){var a=this.host.height()-this._gettableheight();height=a+this._pageviews[0].height,height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))}null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.focus(),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.gotopage(t-1)}},gotonextpage:function(){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.dataview.pagenum<t-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var t=this.dataview.pagenum*this.pagesize,i=(this.dataview.pagenum+1)*this.pagesize;i>=this.dataview.totalrecords&&(i=this.dataview.totalrecords);var s=this.dataview.totalrecords;this.summaryrows&&(s+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(i=s)),t++;var r=Math.ceil(s/this.dataview.pagesize);if(r>=1&&r--,r++,"simple"!==this.pagermode){var n=this.pagergotoinput.find("input");n.val(this.dataview.pagenum+1)}else{var a="",o=this.pagerbuttonscount;0!=o&&o||(o=5);var l=0;for(this.rtl&&(l=o-1);this.rtl&&l>=0||!this.rtl&&o>l;){var d=1+l,h=this.dataview.pagenum/o,c=Math.floor(h);d+=c*o;var u=this.toTP("jqx-grid-pager-number");if(u+=" "+this.toTP("jqx-rc-all"),d>r)break;if(this.rtl||0==l&&d>o&&(a+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(-1+d)+"'>...</a>"),this.dataview.pagenum===d-1&&(u+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(l===o-1){var u=this.toTP("jqx-grid-pager-number");u+=" "+this.toTP("jqx-rc-all"),r>=1+d&&(a+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(1+d)+"'>...</a>")}this.dataview.pagenum===d-1&&(u+=" "+this.toTP("jqx-fill-state-pressed")),a+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+d+"'>"+d+"</a>"}else if(a+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+d+"'>"+d+"</a>",l===o-1){var u=this.toTP("jqx-grid-pager-number");u+=" "+this.toTP("jqx-rc-all"),r>=1+d&&(a+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(1+d)+"'>...</a>")}if(this.rtl){var u=this.toTP("jqx-grid-pager-number");u+=" "+this.toTP("jqx-rc-all"),0==l&&d>o&&(a+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(-1+d)+"'>...</a>")}this.rtl?l--:l++}var p=this.pagerbuttons.find("a");this.removeHandler(p,"click"),this.removeHandler(p,"mouseenter"),this.removeHandler(p,"mouseleave"),this.pagerbuttons[0].innerHTML=a;var f=this,m=function(){f.addHandler(p,"click",function(t){var i=e(t.target).attr("data-page");return f.gotopage(parseInt(i)-1),!1}),f.addHandler(p,"mouseenter",function(t){e(t.target).addClass(f.toTP("jqx-fill-state-hover"))}),f.addHandler(p,"mouseleave",function(t){e(t.target).removeClass(f.toTP("jqx-fill-state-hover"))})},p=this.pagerbuttons.find("a");m(p)}this.pagergotoinput.attr("title","1 - "+r),0==i&&t>i&&(t=0),this.pagerdetails[0].innerHTML=this.rtl?s+this.gridlocalization.pagerrangestring+i+"-"+t:t+"-"+i+this.gridlocalization.pagerrangestring+s,t>i&&this.gotoprevpage()}},_updatepagedview:function(e,t,i){var s=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var r=this.dataview.rows.length,n=0;r>n;n++){var a=this.dataview.rows[n].visibleindex,o={index:a,height:this.heights[a],hidden:this.hiddens[a],details:this.details[a]};if(void 0==this.heights[a]&&(this.heights[a]=this.rowsheight,o.height=this.rowsheight),void 0==this.hiddens[a]&&(this.hiddens[a]=!1,o.hidden=!1),void 0==this.details[a]&&(this.details[a]=null),o.height!=s.rowsheight&&(t-=s.rowsheight,t+=o.height),o.hidden)t-=o.height;else{i+=o.height;var l=0;this.rowdetails&&o.details&&o.details.rowdetails&&!o.details.rowdetailshidden&&(l=o.details.rowdetailsheight,i+=l,t+=l)}}return this._pageviews[0]={top:0,height:i},t}})}(jqxBaseFramework),function(e){e.jqx.dataview.grouping=function(){this.loadgrouprecords=function(t,i,s,r,n,a,o,l,d){for(var h=t,c=this,u=new Array,p=0;p<c.groups.length;p++)u[p]=c.generatekey();var f=new Array,m=0,u=u,g=new Array,v=i,b=i,x=c.groups.length;this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array;var w=null!=this.sortdata,y=w?this.sortdata:this.records;if(this.pageable){var _=Object.prototype.toString,j=this.groups[0];if(Object.prototype.toString="function"==typeof j?j:function(){return this[j]},w){var q=this.sortfield;Object.prototype.toString="function"==typeof j?j:function(){return this[j]+" "+this[q]}}var k=new Array,I=0;y[i]||(e.each(y,function(e){k[i+e++]=this}),y=k),w?y.sort(function(t,i){var t=t.value,i=i.value;if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(i>t)return-1;if(t>i)return 1}catch(s){}return 0}):y.sort&&y.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(i>t)return-1;if(t>i)return 1}catch(s){}return 0}),Object.prototype.toString=_}if(this.virtualmode){for(var k=new Array,I=0,v=0;s-i>v;v++)y[v]?k[i+I++]=y[v]:y[i+I]&&(k[i+I]=y[i+I],I++);v=0,y=k}for(var T=i;s>T;T++){var C={};C=w?e.extend({},y[T].value):e.extend({},y[T]),id=C[c.uniqueId],(n>=l||id!=o[n][c.uniqueId]||a&&a[id])&&(d[d.length]=n);for(var S=new Array,D=0,p=0;x>p;p++){var P=c.groups[p],E=C[P];null==E&&(E=""),S[D++]={value:E,hash:u[p]}}if(S.length!=x)break;for(var H=null,B="",A=-1,z=0;z<S.length;z++){A++;var M=S[z].value,L=S[z].hash;if(B=B+"_"+L+"_"+M,void 0==g[B]||null==g[B]){if(null==H)H={group:M,subItems:new Array,subGroups:new Array,level:0},f[m++]=H,H.uniqueid=c.generatekey(),c.loadedgroupsByKey[M]=H;else{var O={group:M,subItems:new Array,subGroups:new Array,parentItem:H,level:H.level+1};c.loadedgroupsByKey[H.uniqueid+"_"+M]=O,O.uniqueid=c.generatekey(),H.subGroups[H.subGroups.length++]=O,H=O}g[B]=H}else H=g[B]}null!=H?(void 0==C.uid&&(C.uid=this.getid(this.source.id,C,v)),w?(C.boundindex=y[T].index,this.recordsbyid["id"+C.uid]=y[T].value):(C.boundindex=v,this.recordsbyid["id"+C.uid]=y[T]),this.bounditems[C.boundindex]=C,this.sortedgroups[v]=C,C.uniqueid=c.generatekey(),C.parentItem=H,C.level=H.level+1,H.subItems[H.subItems.length++]=C):(void 0==C.uid&&(C.uid=this.getid(this.source.id,C,v)),w?(C.boundindex=y[T].index,this.recordsbyid["id"+C.uid]=y[T].value):(C.boundindex=v,this.recordsbyid["id"+C.uid]=y[T]),this.sortedgroups[v]=C,this.bounditems[C.boundindex]=C,C.uniqueid=c.generatekey()),n++,v++,b++}var N=function(e,i,s){for(var r=0;r<i.subItems.length;r++)i.subItems[r].visibleindex=t+s,e.rows[s]=i.subItems[r],e.loadedrecords[s]=i.subItems[r],s++;return s},F=function(e,i,s){var r=function(i){if(1==e.aggregates){var r=i,n={};null!=r&&(n.level=r.level,n.visibleindex=t+s,n.uniqueid=e.generatekey(),e.rows[s]=n,e.loadedrecords[s++]=n,n.totalsrow=!0,i.subItems.length>0?(r=i.subItems[i.subItems.length-1],n.parentItem=r.parentItem,n.parentItem.subItems&&(n.parentItem.subItems[n.parentItem.subItems.length]=n)):i.subGroups.length>0&&(r=i.subGroups[i.subGroups.length-1],n.level=r.level,n.parentItem=i,i.subGroups[i.subGroups.length]=n))}};for(subGroup in i.subGroups){var n=i.subGroups[subGroup];n.subGroups&&(e.loadedgroups[e.loadedgroups.length]=n,n.visibleindex=t+s,e.rows[s]=n,e.loadedrecords[s]=n,s++,n.subGroups.length>0?s=F(e,n,s):n.subItems.length>0&&(s=N(e,n,s)),r(n))}return i.subItems.length>0&&(s=N(e,i,s)),r(i),s},W=f.length;this.loadedgroups=new Array,this.rows=new Array;for(var h=0,v=0;W>v;v++){var P=f[v];this.loadedrootgroups[v]=P,this.loadedgroups[this.loadedgroups.length]=P,P.visibleindex=t+h,this.rows[h]=P,this.loadedrecords[h]=P,h++,h=F(this,P,h)}return h},this._updategroupsinpage=function(t,i,s,r,n,a,o){var l=new Array,d=[];if(this.groupable&&this.groups.length>0){for(var h=0,c=new Array,u=new Array,p=0;p<t.groups.length;p++)u[p]=t.generatekey();var f=0,m=new Array,g=0;o>this.totalrecords&&(o=this.totalrecords);for(var v=a;o>v;v++){var b=e.extend({},t.sortedgroups[v]);if(id=b[t.uniqueId],!t.pagesize||s>=t.pagesize*t.pagenum&&s<t.pagesize*(t.pagenum+1)){(r>=n||id!=l[r][t.uniqueId]||updated&&updated[id])&&(d[d.length]=r);for(var x=new Array,w=0,p=0;p<t.groups.length;p++){var y=t.groups[p],_=b[y];null==_&&(_=""),x[w++]={value:_,hash:u[p]}}if(x.length!=t.groups.length)break;for(var j=null,q="",k=-1,I=0;I<x.length;I++){k++;var T=x[I].value,C=x[I].hash;if(q=q+"_"+C+"_"+T,void 0==c[q]||null==c[q]){if(null==j){j={group:T,subItems:new Array,subGroups:new Array,level:0},m[g++]=j;var S=t.loadedgroupsByKey[T];void 0!=S&&(j.visibleindex=S.visibleindex,j.uniqueid=S.uniqueid)}else{var D={group:T,subItems:new Array,subGroups:new Array,parentItem:j,level:j.level+1},S=t.loadedgroupsByKey[j.uniqueid+"_"+T];D.visibleindex=S.visibleindex,D.uniqueid=S.uniqueid,j.subGroups[j.subGroups.length++]=D,j=D}c[q]=j}else j=c[q]}null!=j&&(b.parentItem=j,b.level=j.level+1,j.subItems[j.subItems.length++]=b),r++}f++,s++}for(var P=function(t,i,s){for(var r=0;r<i.subItems.length;r++)l[s]=e.extend({},i.subItems[r]),s++;return s},E=function(e){var t=!1;for(subGroup in e.subGroups){var i=e.subGroups[subGroup];if(i.subGroups){if(i.subGroups.length>0){var s=E(i);if(s)return t=!0,!0}if(i.subItems.length>0)return t=!0,!0}}return e.subItems.length>0?(t=!0,!0):t},H=function(e,t,i){for(subGroup in t.subGroups){var s=t.subGroups[subGroup];s.subGroups&&E(s)&&(l[i]=s,i++,s.subGroups.length>0?i=H(e,s,i):s.subItems.length>0&&(i=P(e,s,i)))}return t.subItems.length>0&&(i=P(e,t,i)),i},f=0;f<m.length;f++){var y=m[f];E(y)&&(l[h]=y,h++,h=H(this,y,h))}}return l}},e.extend(e.jqx._jqxGrid.prototype,{_initgroupsheader:function(){if(this.groupsheader.css("visibility","hidden"),this._groupsheader()){this.groupsheader.css("visibility","inherit");var t=this,i=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||e('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array;var s=this.groups.length;this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="";var r=new Array;if(s>0)e.each(this.groups,function(i){var n=this,a=t._getColumnText(this),o=a.label,l=t._rendergroupcolumn(o,n);if(l.addClass(t.toThemeProperty("jqx-grid-group-column")),t.groupsheaderdiv.append(l),t.closeablegroups){var d=e(l.find(".jqx-icon-close"));t.isTouchDevice()&&t.touchmode!==!0?t.addHandler(d,"touchstart",function(){return t.removegroupat(i),!1}):t.addHandler(d,"click",function(){return t.removegroupat(i),!1})}if(t.sortable&&t.addHandler(l,"click",function(){var e=t.getcolumn(n);return null!=e&&t._togglesort(e),!1}),r[r.length]=l,t._handlegroupstocolumnsdragdrop(this,l),s-1>i){var h=l.height(),c=e('<div style="float: left; position: relative;"></div>');t.rtl&&c.css("float","right"),c.width(t.groupindentwidth/3),c.height(1),c.css("top",h/2),c.addClass(t.toThemeProperty("jqx-grid-group-column-line")),t.groupsheaderdiv.append(c)}});else{var n=e('<div style="position: relative;">'+i+"</div>");this.groupsheaderdiv.append(n),this.rtl&&n.addClass(this.toThemeProperty("jqx-rtl"))}this._groupheaders=r,this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var t=this,i=this.groupsheaderdiv.children().outerHeight(),s=(this.groupsheader.height()-i)/2;this.groupsheaderdiv.css("top",s),this.rtl?this.groupsheaderdiv.css("right",s):this.groupsheaderdiv.css("left",s),this.rtl&&this._groupheaders.reverse(),e.each(this._groupheaders,function(e){var i=this.coord();t.groupheadersbounds[e]={left:i.left,top:i.top,width:this.outerWidth(),height:this.outerHeight(),index:e}})},addgroup:function(e){if(e){var t=this;t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups[t.groups.length]=e,t.refreshgroups(),this._raiseEvent(12,{type:"Add",index:t.groups[t.groups.length],groups:t.groups})}},insertgroup:function(e,t){if(void 0!=e&&null!=e&&e>=0&&e<=this.groups.length&&t){var i=this;i.groups!==i.dataview.groups&&(i.dataview.groups=i.groups),i.groups.splice(e,0,t.toString()),i.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:e,groups:i.groups})}},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1)},_insertaftergroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i+1,t)},_insertbeforegroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i,t)},removegroupat:function(e){if(e>=0&&null!=e&&void 0!=e){var t=this;return t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups.splice(e,1),t.refreshgroups(),t.virtualmode&&t.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:e,groups:t.groups}),!0}return!1},cleargroups:function(){var e=this;return e.groups=[],e.dataview.groups=e.groups,e.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:e.groups}),!0},removegroup:function(e){if(null==e)return!1;var t=this.groups.indexOf(e.toString());return this.removegroupat(t)},getrootgroupscount:function(){var e=this.dataview.loadedrootgroups.length;return e},collapsegroup:function(e){return this._setrootgroupstate(e,!1)},expandgroup:function(e){return this._setrootgroupstate(e,!0)},collapseallgroups:function(e){this._setbatchgroupstate(!1,e)},expandallgroups:function(e){this._setbatchgroupstate(!0,e)},getgroup:function(t){var i=this.dataview.loadedrootgroups[t];if(null==i)return null;var s=this.expandedgroups[i.uniqueid].expanded,r=i.group,n=i.level,a=new Array;this._getsubgroups(a,i);var o=this,l={group:r,level:n,expanded:s,subgroups:a};if(i.subItems){var d=new Array;e.each(i.subItems,function(){var e=this.boundindex;d[d.length]=o.getrowdata(e)}),d.length>0&&(l.subrows=d)}return l},getrootgroups:function(){for(var e=this.dataview.loadedrootgroups.length,t=new Array,i=0;e>i;i++)t[i]=this.getgroup(i);return t},_getsubgroups:function(t,i){var s=this;for(obj in i.subGroups){var r=i.subGroups[obj],n=s.expandedgroups[r.uniqueid].expanded,a=r.group,o=r.level;if(t[t.length]={group:a,level:o,expanded:n},r.subItems){var l=new Array;e.each(r.subItems,function(){var e=this.boundindex;l[l.length]=s.getrowdata(e)}),t[t.length-1].subrows=l}if(r.subGroups){var d=new Array;s._getsubgroups(d,r)}}return t},_setbatchgroupstate:function(e,t){var i=this;for(obj in this.dataview.loadedrootgroups)i._setrootgroupstate(obj,e,!1,!0);if(0==t)return i._requiresupdate=!0,i._renderrows(i.virtualsizeinfo),!0;var s=this.vScrollBar[0].style.visibility;return this.rendergridcontent(!0,!1),(s!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(e,t,i,s){if(void 0==e||null==e||0>e)return!1;if(!this.groupable||0==this.groups.length)return!1;var r=void 0!=i?i:!0;if(e>=0&&e<this.dataview.loadedrootgroups.length){var n=this.dataview.loadedrootgroups[e];if(this.pageable){for(var a=new Array,o=0;o<this.dataview.rows.length;o++)null!=this.dataview.rows[o].group&&0===this.dataview.rows[o].level&&a.push(this.dataview.rows[o]);if(n=a[e],!n)return}return this._setgroupstate(n,t,r,s)}return!1},_togglegroupstate:function(e,t){if(null==e||void 0==e)return!1;var i=this.vScrollInstance.value,s=this.expandedgroups[e.uniqueid];s=void 0==s?!1:s.expanded,s=!s;var r=this._setgroupstate(e,s,t);return 0!==i&&"hidden"!==this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(i<=this.vScrollInstance.max?i:this.vScrollInstance.max),r},_setgroupstate:function(e,t,i,s){if(null==e||void 0==e)return!1;var r=!1;this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1);var n=this.expandedgroups[e.uniqueid];if(void 0==n&&(n={expanded:!1},r=!0),n.expanded!=t&&(r=!0),r){if(this.expandedgroups[e.uniqueid]={expanded:t,group:e},this._setsubgroupsvisibility(this,e,!t,s),i){var a=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(a!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}return(void 0==this.suspendgroupevents||0==this.suspendgroupevents)&&(t?this._raiseEvent(4,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex}):this._raiseEvent(5,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex})),!0}return!1},_setgroupitemsvisibility:function(e,t,i){for(var s=0;s<t.subItems.length;s++)e._setrowvisibility(t.subItems[s].visibleindex,i,!1)},_setsubgroupsvisibility:function(e,t,i,s){if(null!=t.parentItem){if(this.hiddens[t.parentItem.visibleindex])return}else if(null==t.parentItem&&this.hiddens[t.visibleindex])return;for(subGroup in t.subGroups){var r=t.subGroups[subGroup];i||e._setrowvisibility(r.visibleindex,i,!1);var n=!i;s?this.expandedgroups[r.uniqueid]={expanded:n,group:r}:n=void 0==e.expandedgroups[r.uniqueid]?!1:e.expandedgroups[r.uniqueid].expanded,r.subGroups&&(r.subGroups.length>0?e._setsubgroupsvisibility(e,r,!n||i,s):r.subItems.length>0&&e._setgroupitemsvisibility(e,r,!n||i)),i&&e._setrowvisibility(r.visibleindex,i,!1)}t.subItems&&t.subItems.length>0&&e._setgroupitemsvisibility(e,t,i)},_handlecolumnsdragdrop:function(){var t=this,i=-1,s=!1;if(t.groupable){var r="mousemove.grouping"+this.element.id,n="mousedown.grouping"+this.element.id,a="mouseup.grouping"+this.element.id,o=!1;this.isTouchDevice()&&this.touchmode!==!0&&(o=!0,r=e.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchstart")+".grouping"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){if(!t.showgroupsheader)return!0;if(null!=t.dragcolumn){var n=parseInt(r.pageX),a=parseInt(r.pageY);if(o){var l=t.getTouches(r),d=l[0];n=parseInt(d.pageX),a=parseInt(d.pageY)}var h=t.host.coord(),c=parseInt(h.left),u=parseInt(h.top);(void 0==t.dragmousedownoffset||null==t.dragmousedownoffset)&&(t.dragmousedownoffset={left:0,top:0});var p=parseInt(n)-parseInt(t.dragmousedownoffset.left),f=parseInt(a)-parseInt(t.dragmousedownoffset.top);if(t.dragcolumn.css({left:p+"px",top:f+"px"}),s=!1,n>=c&&n<=c+t.host.width()&&a>=u&&a<=u+t.host.height()&&(s=!0),i=-1,s){t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var m=t.groupsheader.coord(),g=m.top+t.groupsheader.height(),v=e.data(t.dragcolumn[0],"datarecord");if(v)var b=t.groups.indexOf(v.toString());else var b=-1;var x=-1==b||t.groups.length>1&&b>-1;null!=t.dropline&&(a>=m.top&&g>=a?x&&(i=t._handlegroupdroplines(n)):t.dropline.fadeOut("slow"))}else null!=t.dropline&&t.dropline.fadeOut("slow"),t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(o)return r.preventDefault(),r.stopPropagation(),!1}}),this.removeHandler(e(document),a),this.addHandler(e(document),a,function(r){if(!t.showgroupsheader)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");var n=parseInt(r.pageX),a=parseInt(r.pageY);if(o){var l=t.getTouches(r),d=l[0];n=parseInt(d.pageX),a=parseInt(d.pageY)}var h=t.host.coord(),c=(parseInt(h.left),parseInt(h.top)),u=t.groupsheader.height();if(t.showtoolbar&&(c+=t.toolbarheight),t.dragstarted=!1,t.dragmousedown=null,null!=t.dragcolumn){var p=e.data(t.dragcolumn[0],"datarecord");if(t.dragcolumn.remove(),t.dragcolumn=null,null!=p){if(!t.getcolumn(p).groupable)return void(null!=t.dropline&&(t.dropline.remove(),t.dropline=null));if(s)if(-1!=i){var f=i.index,m=t.groups[f],g=t._getGroupIndexByDataField(p);g!=f&&(void 0!=g&&g>=0&&t.groups.splice(g,1),"before"==i.position?t.rtl?t._insertaftergroup(m,p):t._insertbeforegroup(m,p):t.rtl?t._insertbeforegroup(m,p):t._insertaftergroup(m,p))}else if(0==t.groups.length)a>c&&c+u>=a&&t.addgroup(p);else if(a>c+u){var g=t._getGroupIndexByDataField(p);t.removegroupat(g)}null!=t.dropline&&(t.dropline.remove(),t.dropline=null)}}})}},_getGroupIndexByDataField:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return t;return-1},_isColumnInGroups:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return!0;return!1},_handlegroupdroplines:function(t){var i=this,s=-1;return e.each(i.groupheadersbounds,function(e){if(t<=this.left+this.width/2){var r=this.left-3;return e>0&&(r=this.left-1-i.groupindentwidth/6),i.dropline.css("left",r),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),s={index:e,position:"before"},i.rtl&&(s={index:i.groupheadersbounds.length-1-e,position:"before"}),!1}t>=this.left+this.width/2&&(i.dropline.css("left",1+this.left+this.width),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),s={index:e,position:"after"},i.rtl&&(s={index:i.groupheadersbounds.length-1-e,position:"after"}))}),s},_handlegroupstocolumnsdragdrop:function(t,i){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var s,r=this,n="mousedown",a="mousemove",o=!1;this.isTouchDevice()&&this.touchmode!==!0&&(o=!0,n=e.jqx.mobile.getTouchEventName("touchstart"),a=e.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(i,"dragstart",function(){return!1}),this.addHandler(i,n,function(t){if(!r.showgroupsheader)return!0;var i=t.pageX,s=t.pageY;if(r.__drag=!0,r.dragmousedown={left:i,top:s},o){var n=r.getTouches(t),a=n[0];i=a.pageX,s=a.pageY,r.dragmousedown={left:i,top:s},t.preventDefault&&t.preventDefault()}var l=e(t.target).coord();r.dragmousedownoffset={left:parseInt(i)-parseInt(l.left),top:parseInt(s-l.top)}}),this.addHandler(i,a,function(n){if(!r.showgroupsheader)return!0;if(r.dragmousedown){if(s={left:n.pageX,top:n.pageY},o){var a=r.getTouches(n),l=a[0];s={left:l.pageX,top:l.pageY}}if(!r.dragstarted&&null==r.dragcolumn){var d=Math.abs(s.left-r.dragmousedown.left),h=Math.abs(s.top-r.dragmousedown.top);(d>3||h>3)&&(r._createdragcolumn(i,s,!0),e(document.body).addClass("jqx-disableselect"),e.data(r.dragcolumn[0],"datarecord",t),n.preventDefault&&n.preventDefault())}}})},_createdragcolumn:function(t,i,s){var r=this,n=i;r.dragcolumn=e("<div></div>");var a=t.clone();r.dragcolumn.css("z-index",999999),a.css("border-width","1px"),a.css("opacity","0.4");var o=e(a.find("."+r.toThemeProperty("jqx-grid-column-menubutton")));o.length>0&&o.css("display","none");var l=e(a.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),r.dragcolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),r.dragcolumnicon.addClass(r.toThemeProperty("jqx-grid-drag-icon")),r.dragcolumn.css("float","left"),r.dragcolumn.css("position","absolute");
r.host.coord();a.width(t.width()+16),r.dragcolumn.append(a),r.dragcolumn.height(t.height()),r.dragcolumn.width(a.width()),r.dragcolumn.append(r.dragcolumnicon),e(document.body).append(r.dragcolumn),a.css("margin-left",0),a.css("left",0),a.css("top",0),r.dragcolumn.css("left",n.left+r.dragmousedown.left),r.dragcolumn.css("top",n.top+r.dragmousedown.top),void 0!=s&&s&&(r.dropline=e('<div style="display: none; position: absolute;"></div>'),r.dropline.width(2),r.dropline.addClass(r.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(r.dropline))},iscolumngroupable:function(e){return this._getcolumnproperty(e,"groupable")},_handlecolumnstogroupsdragdrop:function(t,i){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var s,r=this,n=!1;this.isTouchDevice()&&this.touchmode!==!0&&(n=!0);var a="mousedown.drag",s="mousemove.drag";n?(a=e.jqx.mobile.getTouchEventName("touchstart")+".drag",s=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(){return!1}),this.addHandler(i,a,function(s){if(!r.showgroupsheader)return!0;if(r.__drag=!0,r._isColumnInGroups(t.displayfield))return"col-resize"!=i.css("cursor")?!0:!0;if(0==t.groupable)return!0;var a=s.pageX,o=s.pageY;if(n){var l=r.getTouches(s),d=l[0];a=d.pageX,o=d.pageY}r.dragmousedown={left:a,top:o},n&&s.preventDefault&&s.preventDefault();var h=e(s.target).coord();r.dragmousedownoffset={left:parseInt(a)-parseInt(h.left),top:parseInt(o-h.top)}}),this.addHandler(i,s,function(a){if(!r.showgroupsheader)return!0;if(r._isColumnInGroups(t.displayfield))return"col-resize"!=i.css("cursor")?!0:!0;if(r.dragmousedown){var o=a.pageX,l=a.pageY;if(n){var d=r.getTouches(a),h=d[0];o=h.pageX,l=h.pageY}if(s={left:o,top:l},!r.dragstarted&&null==r.dragcolumn){var c=Math.abs(s.left-r.dragmousedown.left),u=Math.abs(s.top-r.dragmousedown.top);(c>3||u>3)&&(r._createdragcolumn(i,s,!0),e.data(r.dragcolumn[0],"datarecord",t.displayfield),a.preventDefault&&a.preventDefault())}}})},_rendergroupcolumn:function(t,i){var s=e('<div style="float: left; position: relative;"></div>');if(this.rtl&&s.css("float","right"),null!=this.groupcolumnrenderer&&(s[0].innerHTML=this.groupcolumnrenderer(t),s.addClass(this.toThemeProperty("jqx-grid-group-column")),s.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups){""==s[0].innerHTML&&(s[0].innerHTML='<a style="float: left;" href="#">'+t+"</a>"),this.rtl&&(s[0].innerHTML='<a style="float: right;" href="#">'+t+"</a>");var r=this.rtl?"left":"right",n='<div style="float: '+r+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(n='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl){var n='<div style="float: '+r+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';e.jqx.browser.msie&&e.jqx.browser.version<8&&(n='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>')}s[0].innerHTML+=n}else""==s[0].innerHTML&&(s[0].innerHTML='<a href="#">'+t+"</a>");if(this.sortable){var a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)var a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.rtl){var a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)var a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}a.css("display","none"),o.css("display","none"),e.jqx.browser.msie&&e.jqx.browser.version<8&&(a.css("float","left"),o.css("float","left")),s.append(a),s.append(o),e.data(document.body,"groupsortelements"+i,{sortasc:a,sortdesc:o})}return s.addClass(this.toThemeProperty("jqx-fill-state-normal")),s.addClass(this.toThemeProperty("jqx-grid-group-column")),s},_rendergroup:function(t,i,s,r,n,a,o){var l=i,d=i.cells[s.level];this.rtl&&(d=i.cells[i.cells.length-1-s.level]);var h=this._findgroupstate(s.uniqueid);if(s.bounddata.subGroups.length>0||s.bounddata.subItems.length>0){var c=this.rtl?"-rtl":"",u=this.toThemeProperty("jqx-icon-arrow-right");c&&(u=this.toThemeProperty("jqx-icon-arrow-left")),d.className+=h?" "+this.toThemeProperty("jqx-grid-group-expand"+c)+" "+this.toThemeProperty("jqx-icon-arrow-down"):" "+this.toThemeProperty("jqx-grid-group-collapse"+c)+" "+u}var p=this._getColumnText(this.groups[s.level]).label,f=this.groupindentwidth,m=this.rowdetails&&this.showrowdetailscolumn?(1+t)*f:t*f,g=o-m,v=s.level+1;this.rtl&&(v=0);for(var b=l.cells[v],x=2;void 0!=b&&"none"==b.style.display&&x<l.cells.length-1;)b=l.cells[v+x-1],x++;var w=e(b);if(b){if(b.style.width=parseInt(g)+"px",-1!=b.className.indexOf("jqx-grid-cell-filter")&&w.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),-1!=b.className.indexOf("jqx-grid-cell-sort")&&w.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),-1!=b.className.indexOf("jqx-grid-cell-pinned")&&w.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),null!=this.groupsrenderer){var y={group:s.group,level:s.level,parent:s.bounddata.parentItem,subGroups:s.bounddata.subGroups,subItems:s.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[s.level]).column},_=this.groupsrenderer(p+": "+s.group,s.group,h,y);if(_)b.innerHTML=_;else{var j=s.bounddata.subItems.length>0?s.bounddata.subItems.length:s.bounddata.subGroups.length;b.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+s.group+" ("+j+")</span></div>"}}else{var q=this._getcolumnbydatafield(this.groups[s.level]),k=s.group;if(null==q)throw new Error("jqxGrid: Unable to find '"+this.groups[s.level]+"' group in the Grid's columns collection.");q.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(k)?k=e.jqx.dataFormat.formatdate(k,q.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(k)&&(k=e.jqx.dataFormat.formatnumber(k,q.cellsformat,this.gridlocalization)));var j=s.bounddata.subItems.length>0?s.bounddata.subItems.length:s.bounddata.subGroups.length;b.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+k+" ("+j+")</span></div>"}if(this.rtl){q||(q=this._getcolumnbydatafield(this.groups[s.level]));var I="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max-this.hScrollInstance.value,T="hidden"==this.vScrollBar.css("visibility")?0:this.scrollbarsize+6,m=this.rowdetails&&this.showrowdetailscolumn?(2+s.level)*f:(1+s.level)*f;b.style.width=o+parseInt(I)-m-T+"px",w.addClass(this.toThemeProperty("jqx-rtl"));var C=e(i.cells[i.cells.length-1]).css("z-index");w.css("z-index",C);var S=w.find("div"),g=S.width();S.css("left","100%");var D=null!=this.columns.records[i.cells.length-2-s.level]?this.columns.records[i.cells.length-2-s.level].pinned:!1;if(this.table.width()<o&&(o=this.table.width(),"hidden"!=this.vScrollBar.css("visibility")&&(o+=this.vScrollBar.outerWidth())),q.pinned||D)this.rowdetails&&this.showrowdetailscolumn&&(o+=30),S.css("margin-left",-g),b.style.width=o+I-m-T+"px";else{var I="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max;b.style.width=o+I-m-T+"px";var g=S.width();S.css("margin-left",-g)}}}}})}(jqxBaseFramework),function(){$.fn.gridLoc=function(){var e;return e=new Object,e.pagergotopagestring="P\xe1g. actual",e.pagershowrowsstring="Muestra",e.pagerrangestring=" de ",e.pagernextbuttonstring="Sig",e.pagerpreviousbuttonstring="Ant",e.sortascendingstring="Ascendente",e.sortdescendingstring="Descendente",e.sortremovestring="Limpiar",e.percentsymbol="%",e.currencysymbol="$",e.currencysymbolposition="before",e.decimalseparator=",",e.thousandsseparator=".",e.groupsheaderstring="Arrastre para agrupar",e.groupbystring="Agrupar columna",e.groupremovestring="Desagrupar columna",e.filterclearstring="Borrar",e.filterstring="Filtrar",e.filtershowrowstring="Filtrar por",e.filtershowrowdatestring="Mostrar lineas con fecha:",e.filterorconditionstring="O",e.filterandconditionstring="Y",e.filterselectallstring="(Seleccionar todos)",e.filterchoosestring="Seleccione:",e.filterstringcomparisonoperators=["vacio","no vacio","contiene","contiene(match case)","no contiene","no contiene(match case)","empieza con...","empieza con...(match case)","termina con...","termina con...(match case)","es igual a","es igual a(match case)","null","no null"],e.filternumericcomparisonoperators=["igual","diferente","menor que","menor que o igual","mayor que","mayor que o igual","null","no null"],e.filterdatecomparisonoperators=["igual","diferente","menor que","menor que o igual","mayor que","mayor que o igual","null","no null"],e.filterbooleancomparisonoperators=["igual","diferente"],e.validationstring="Valor ingresado no valido",e.emptydatastring="No hay datos para mostrar",e.filterselectstring="Filtro ",e.loadtext="Cargando...",e.clearstring="Borrar",e.todaystring="Hoy",e}}.call(this),function(){}.call(this),function(e){e.jqx.jqxWidget("jqxPanel","",{}),e.extend(e.jqx._jqxPanel.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,scrollBarSize:e.jqx.utilities.scrollBarSize,sizeMode:"fixed",autoUpdate:!1,autoUpdateInterval:500,touchMode:"auto",horizontalScrollBarMax:null,verticalScrollBarMax:null,touchModeStyle:"auto",rtl:!1,events:["layout"]};return e.extend(!0,this,t),t},createInstance:function(){this.render()},render:function(){15!=e.jqx.utilities.scrollBarSize&&(this.scrollBarSize=e.jqx.utilities.scrollBarSize),this.host.addClass(this.toThemeProperty("jqx-panel")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all"));var t=e("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'/><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div>");if(!this.host.jqxButton)throw new Error("jqxPanel: Missing reference to jqxbuttons.js.");if(!this.host.jqxScrollBar)throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.");var i=this.host.children();this._rtl=!1,i.length>0&&"rtl"==i.css("direction")&&(this.rtl=!0,this._rtl=!0),this.host.wrapInner(t);var s=this.host.find("#verticalScrollBar");s[0].id=this.element.id+"verticalScrollBar",this.vScrollBar=s.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});var r=this.host.find("#horizontalScrollBar");r[0].id=this.element.id+"horizontalScrollBar",this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme}),this.content=this.host.find("#panelContent"),this.wrapper=this.host.find("#panelWrapper"),this.content.addClass(this.toThemeProperty("jqx-widget-content")),this.wrapper[0].id=this.wrapper[0].id+this.element.id,this.content[0].id=this.content[0].id+this.element.id,this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),this.bottomRight[0].id="bottomRight"+this.element.id,this.vScrollBar.css("visibility","inherit"),this.hScrollBar.css("visibility","inherit"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance;var n=this;this.propertyChangeMap.disabled=function(){n.vScrollBar.jqxScrollBar({disabled:n.disabled}),n.hScrollBar.jqxScrollBar({disabled:n.disabled})},this.vScrollBar.jqxScrollBar({disabled:this.disabled}),this.hScrollBar.jqxScrollBar({disabled:this.disabled}),this._addHandlers(),null==this.width&&(this.width=this.content.width()),null==this.height&&(this.height=this.content.height()),this._arrange(),this.contentWidth=n.content[0].scrollWidth,this.contentHeight=n.content[0].scrollHeight,this.autoUpdate&&n._autoUpdate(),this.propertyChangeMap.autoUpdate=function(){n.autoUpdate?n._autoUpdate():(clearInterval(n.autoUpdateId),n.autoUpdateId=null)},this.addHandler(e(window),"unload",function(){null!=n.autoUpdateId&&(clearInterval(n.autoUpdateId),n.autoUpdateId=null,n.destroy())}),this._updateTouchScrolling(),this._render()},hiddenParent:function(){return e.jqx.isHidden(this.host)},_updateTouchScrolling:function(){var t=this;1==this.touchMode&&e.jqx.mobile.setMobileSimulator(this.element);var i=this.isTouchDevice();i&&(e.jqx.mobile.touchScroll(this.element,t.vScrollInstance.max,function(e,i){if("hidden"!=t.vScrollBar.css("visibility")){var s=t.vScrollInstance.value;t.vScrollInstance.setPosition(s+i)}if("hidden"!=t.hScrollBar.css("visibility")){var s=t.hScrollInstance.value;t.hScrollInstance.setPosition(s+e)}},this.element.id,this.hScrollBar,this.vScrollBar),this._arrange()),this.vScrollBar.jqxScrollBar({touchMode:this.touchMode}),this.hScrollBar.jqxScrollBar({touchMode:this.touchMode})},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t},append:function(e){null!=e&&(this.content.append(e),this._arrange())},setcontent:function(e){this.content[0].innerHTML=e,this._arrange();var t=this;setTimeout(function(){t._arrange()},100)},prepend:function(e){null!=e&&(this.content.prepend(e),this._arrange())},clearcontent:function(){this.content.text(""),this.content.children().remove(),this._arrange()},remove:function(t){null!=t&&(e(t).remove(),this._arrange())},_autoUpdate:function(){var e=this;this.autoUpdateId=setInterval(function(){var t=e.content[0].scrollWidth,i=e.content[0].scrollHeight,s=!1;e.contentWidth!=t&&(e.contentWidth=t,s=!0),e.contentHeight!=i&&(e.contentHeight=i,s=!0),s&&e._arrange()},this.autoUpdateInterval)},_addHandlers:function(){var t=this;this.addHandler(this.vScrollBar,"valueChanged",function(){t._render(t)}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._render(t)}),this.addHandler(this.host,"mousewheel",function(e){t.wheel(e,t)}),this.addHandler(this.wrapper,"scroll",function(){0!=t.wrapper[0].scrollTop&&(t.wrapper[0].scrollTop=0),0!=t.wrapper[0].scrollLeft&&(t.wrapper[0].scrollLeft=0)}),this.addHandler(this.host,"mouseleave",function(){t.focused=!1}),this.addHandler(this.host,"focus",function(){t.focused=!0}),this.addHandler(this.host,"blur",function(){t.focused=!1}),this.addHandler(this.host,"mouseenter",function(){t.focused=!0}),e.jqx.utilities.resize(this.host,function(){e.jqx.isHidden(t.host)||t._arrange(!1)})},resize:function(e,t){this.width=e,this.height=t,this._arrange(!1)},_removeHandlers:function(){this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.wrapper,"scroll"),this.removeHandler(e(window),"resize."+this.element.id)},wheel:function(t,i){var s=0;if(t.originalEvent&&e.jqx.browser.msie&&t.originalEvent.wheelDelta&&(s=t.originalEvent.wheelDelta/120),t||(t=window.event),t.wheelDelta?s=t.wheelDelta/120:t.detail&&(s=-t.detail/3),s){var r=i._handleDelta(s);return r||t.preventDefault&&t.preventDefault(),r?!1:r}t.preventDefault&&t.preventDefault(),t.returnValue=!1},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):e.value+e.largestep!=e.max?(e.setPosition(e.max),!0):!1},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value-e.largestep!=e.min?(e.setPosition(e.min),!0):!1},_handleDelta:function(e){if(this.focused){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;if(t!=i)return!1}return!0},_render:function(e){void 0==e&&(e=this);var t=e.vScrollInstance.value,i=e.hScrollInstance.value;this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(i=0==this._rtl?e.hScrollInstance.max-i:-e.hScrollInstance.value),e.content.css({left:-i+"px",top:-t+"px"})},scrollTo:function(e,t){void 0!=e&&void 0!=t&&(this.vScrollInstance.setPosition(t),this.hScrollInstance.setPosition(e))},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_getScrollSize:function(){var t=this.scrollBarSize;return isNaN(t)&&(t=parseInt(t),isNaN(t)?t="17px":t+="px"),this.isTouchDevice()&&(t=e.jqx.utilities.touchScrollBarSize),t=parseInt(t)},_getScrollArea:function(){var t=0;this.content.css("margin-right","0px"),this.content.css("max-width","9999999px"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(t=parseInt(this.content.css("left")),this.content.css("left",0)),this.content.css("overflow","auto"),this.rtl&&this.content.css("direction","rtl");var i=parseInt(this.content[0].scrollWidth);e.each(this.content.children(),function(){i=Math.max(i,this.scrollWidth),i=Math.max(i,e(this).outerWidth())}),e.jqx.browser.msie&&e.jqx.browser.version<10&&this.content.css("left",t);var s=parseInt(this.content[0].scrollHeight);if(this.content.css("overflow","visible"),e.jqx.browser.msie&&e.jqx.browser.version<9){var s=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":var s=parseInt(this.content[0].scrollHeight),i=parseInt(this.content[0].scrollWidth);break;case"horizontalWrap":case"horizontalwrap":break;case"verticalWrap":case"verticalwrap":var s=parseInt(this.content[0].scrollHeight)}}return this.rtl&&this.content.css("direction","ltr"),{width:i,height:s}},_arrange:function(t){t!==!1&&(null!=this.width&&this.host.width(this.width),null!=this.height&&this.host.height(this.height));var i=this._getScrollSize(),s=this.host.width(),r=this.host.height(),n=this._getScrollArea(),a=n.width,o=n.height,l=o-parseInt(Math.round(this.host.height())),d=a-parseInt(Math.round(this.host.width()));void 0!=this.horizontalScrollBarMax&&(d=this.horizontalScrollBarMax),void 0!=this.verticalScrollBarMax&&(l=this.verticalScrollBarMax);var h=function(e,t){var i=5;t>i?(e.vScrollBar.jqxScrollBar({max:t}),e.vScrollBar.css("visibility","inherit")):(e.vScrollBar.jqxScrollBar("setPosition",0),e.vScrollBar.css("visibility","hidden"))},c=function(t,s){s>0?e.jqx.browser.msie&&e.jqx.browser.version<8&&i>=s-10?(t.hScrollBar.css("visibility","hidden"),t.hScrollBar.jqxScrollBar("setPosition",0)):(t.hScrollBar.jqxScrollBar({max:s+4}),t.hScrollBar.css("visibility","inherit")):(t.hScrollBar.css("visibility","hidden"),t.hScrollBar.jqxScrollBar("setPosition",0))};switch(this.sizeMode){case"wrap":return this.host.width(a),this.host.height(o),this.vScrollBar.css("visibility","hidden"),void this.hScrollBar.css("visibility","hidden");case"horizontalWrap":case"horizontalwrap":return this.host.width(a),this.hScrollBar.css("visibility","hidden"),h(this,l),void this._arrangeScrollbars(i,a,r);case"verticalWrap":case"verticalwrap":return this.host.height(o),this.vScrollBar.css("visibility","hidden"),c(this,d),void this._arrangeScrollbars(i,s,r)}h(this,l);var u=2;"hidden"!=this.vScrollBar.css("visibility")&&void 0==this.horizontalScrollBarMax&&(!this.isTouchDevice()&&d>0||d>0)&&(d+=i+u),c(this,d),"hidden"!=this.hScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar({max:l+i+u}),this._arrangeScrollbars(i,s,r)},_arrangeScrollbars:function(t,i,s){var r="hidden"!=this.vScrollBar[0].style.visibility,n=("hidden"!=this.hScrollBar[0].style.visibility,2),a=2;if(this.hScrollBar.height(t),this.hScrollBar.css({top:s-t-n-a+"px",left:"0px"}),this.hScrollBar.width(i-n+"px"),this.vScrollBar.width(t),this.vScrollBar.height(parseInt(s)-n+"px"),this.vScrollBar.css({left:parseInt(i)-parseInt(t)-n-a+"px",top:"0px"}),this.rtl){this.vScrollBar.css({left:"0px"});var o=r?parseInt(t)+"px":0;if("rtl"!=this.content.children().css("direction")){var l=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(l=!0),l||this.content.css("padding-left",o)}}else"hidden"!=this.vScrollBar.css("visibility")&&this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth());"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")?(this.bottomRight.css("visibility","inherit"),this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))}),this.bottomRight.width(parseInt(t)+3),this.bottomRight.height(parseInt(t)+3),this.rtl&&(this.bottomRight.css({left:"0px"}),this.hScrollBar.css({left:t+a+"px"})),this.hScrollBar.width(i-1*t-n-a+"px"),this.vScrollBar.height(parseInt(s)-n-t-a+"px")):this.bottomRight.css("visibility","hidden"),this.hScrollInstance.refresh(),this.vScrollInstance.refresh()},destroy:function(){clearInterval(this.autoUpdateId),this.autoUpdateId=null,this.autoUpdate=!1,e.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),this.removeHandler(e(window),"unload"),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.host.remove()},_raiseevent:function(t,i,s){if(void 0!=this.isInitialized&&1==this.isInitialized){var r=this.events[t],n=new e.Event(r);n.previousValue=i,n.currentValue=s,n.owner=this;var a=this.host.trigger(n);return a}},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this.hScrollInstance.value=0,this._arrange(),this._render()},propertyChangedHandler:function(e,t,i,s){e.isInitialized&&("rtl"==t&&(this.vScrollBar.jqxScrollBar({rtl:s}),this.hScrollBar.jqxScrollBar({rtl:s}),e._arrange()),e.updating||("scrollBarSize"==t||"width"==t||"height"==t)&&i!=s&&e._arrange(),"touchMode"==t&&"auto"!=s&&e._updateTouchScrolling(),"theme"==t&&(e.host.removeClass(),e.host.addClass(this.toThemeProperty("jqx-panel")),e.host.addClass(this.toThemeProperty("jqx-widget")),e.host.addClass(this.toThemeProperty("jqx-widget-content")),e.host.addClass(this.toThemeProperty("jqx-rc-all")),e.vScrollBar.jqxScrollBar({theme:this.theme}),e.hScrollBar.jqxScrollBar({theme:this.theme}),e.bottomRight.removeClass(),e.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright")),e.bottomRight.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),e.content.removeClass(),e.content.addClass(this.toThemeProperty("jqx-widget-content"))))},invalidate:function(){e.jqx.isHidden(this.host)||this.refresh()},refresh:function(){this._arrange()}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTree","",{}),e.extend(e.jqx._jqxTree.prototype,{defineInstance:function(){var t={items:new Array,width:null,height:null,easing:"easeInOutCirc",animationShowDuration:"fast",animationHideDuration:"fast",treeElements:new Array,disabled:!1,enableHover:!0,keyboardNavigation:!0,enableKeyboardNavigation:!0,toggleMode:"dblclick",source:null,checkboxes:!1,checkSize:13,toggleIndicatorSize:16,hasThreeStates:!1,selectedItem:null,touchMode:"auto",allowDrag:!0,allowDrop:!0,searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,animationHideDelay:0,submitCheckedItems:!1,dragStart:null,dragEnd:null,rtl:!1,dropAction:"default",events:["expand","collapse","select","initialized","added","removed","checkChange","dragEnd","dragStart"],aria:{"aria-activedescendant":{name:"getActiveDescendant",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},createInstance:function(){var t=this;if(this.host.attr("role","tree"),this.host.attr("data-role","treeview"),this.enableKeyboardNavigation=this.keyboardNavigation,this.propertyChangeMap.disabled=function(i,s,r,n){t.disabled?t.host.addClass(t.toThemeProperty("jqx-tree-disabled")):t.host.removeClass(t.toThemeProperty("jqx-tree-disabled")),e.jqx.aria(t,"aria-disabled",n)},null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height),this.host.attr("tabindex")||this.host.attr("tabIndex",1),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-tree-disabled")),e.jqx.aria(this,"aria-disabled",!0)),this.host.jqxDragDrop&&jqxTreeDragDrop(),this.originalInnerHTML=this.element.innerHTML,this.createdTree=!1,this.element.innerHTML.indexOf("UL")){var i=this.host.find("ul:first");i.length>0&&(this.createTree(i[0]),this.createdTree=!0)}if(null!=this.source){var s=this.loadItems(this.source);this.element.innerHTML=s;var i=this.host.find("ul:first");i.length>0&&(this.createTree(i[0]),this.createdTree=!0)}if(this._itemslength=this.items.length,!this.createdTree&&0==this.host.find("ul").length){this.host.append(e("<ul></ul>"));var i=this.host.find("ul:first");i.length>0&&(this.createTree(i[0]),this.createdTree=!0),this.createdTree=!0}1==this.createdTree&&(this._render(),this._handleKeys()),this._updateCheckLayout()},checkItems:function(t,i){var s=this;if(null!=t){var r=0,n=!1,a=0,o=e(t.element).find("li");if(a=o.length,e.each(o,function(){var e=s.itemMapping["id"+this.id].item;0!=e.checked&&(null==e.checked&&(n=!0),r++)}),t!=i)r==a?this.checkItem(t.element,!0,"tree"):r>0?this.checkItem(t.element,null,"tree"):this.checkItem(t.element,!1,"tree");else{var l=i.checked,o=e(i.element).find("li");e.each(o,function(){s.itemMapping["id"+this.id].item;s.checkItem(this,l,"tree")})}this.checkItems(this._parentItem(t),i)}else{var l=i.checked,o=e(i.element).find("li");e.each(o,function(){s.itemMapping["id"+this.id].item;s.checkItem(this,l,"tree")})}},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;for(var s=this.items,r=new Array,n=0;n<s.length;n++)this._isVisible(s[n])&&!s[n].disabled&&r.push(s[n]);s=r,void 0!=i&&(s=s.slice(i));var a=new Array;return e.each(s,function(){var i=this.label;i||(i="");var s=e.jqx.string.startsWithIgnoreCase(i.toString(),t);s&&a.push({id:this.id,element:this.element})}),a},_handleKeys:function(){var t=this;this.addHandler(this.host,"keydown",function(i){var s=i.keyCode;if((t.keyboardNavigation||t.enableKeyboardNavigation)&&null!=t.selectedItem){var r=t.selectedItem.element;if(t.incrementalSearch&&!(s>=33&&40>=s)){var n=-1;t._searchString||(t._searchString=""),(8==s||46==s)&&t._searchString.length>=1&&(t._searchString=t._searchString.substr(0,t._searchString.length-1));var a=String.fromCharCode(s),o=!isNaN(parseInt(a)),l=!1;if(s>=65&&97>=s||o||8==s||32==s||46==s){i.shiftKey||(a=a.toLocaleLowerCase()),8!=s&&32!=s&&46!=s&&(t._searchString.length>0&&t._searchString.substr(0,1)==a||(t._searchString+=a)),32==s&&(t._searchString+=" "),t._searchTime=new Date;var d=t.selectedItem;if(d){for(var h=d.id,c=-1,u=0;u<t.items.length;u++)if(t.items[u].id==h){c=u+1;break}var p=t._getMatches(t._searchString,c);if(0==p.length||p.length>0&&p[0].id==h)var p=t._getMatches(t._searchString)}else var p=t._getMatches(t._searchString);if(p.length>0){var d=t.selectedItem;t.selectedItem&&t.selectedItem.id!=p[0].id&&(t.clearSelection(),t.selectItem(p[0].element)),t._lastSearchString=t._searchString}}if(void 0!=t._searchTimer&&clearTimeout(t._searchTimer),(27==s||13==s)&&(t._searchString="",t._lastSearchString=""),t._searchTimer=setTimeout(function(){t._searchString="",t._lastSearchString=""},500),n>=0)return;if(l)return!1}switch(s){case 32:if(t.checkboxes){t.fromKey=!0;var f=e(t.selectedItem.checkBoxElement).jqxCheckBox("checked");return t.checkItem(t.selectedItem.element,!f,"tree"),t.hasThreeStates&&t.checkItems(t.selectedItem,t.selectedItem),!1}return!0;case 33:for(var m=t._getItemsOnPage(),g=t.selectedItem,u=0;m>u;u++)g=t._prevVisibleItem(g);return null!=g?(t.selectItem(g.element),t.ensureVisible(g.element)):(t.selectItem(t._firstItem().element),t.ensureVisible(t._firstItem().element)),!1;case 34:for(var m=t._getItemsOnPage(),v=t.selectedItem,u=0;m>u;u++)v=t._nextVisibleItem(v);return null!=v?(t.selectItem(v.element),t.ensureVisible(v.element)):(t.selectItem(t._lastItem().element),t.ensureVisible(t._lastItem().element)),!1;case 37:case 39:if(37==s&&!t.rtl||39==s&&t.rtl)if(t.selectedItem.hasItems&&t.selectedItem.isExpanded)t.collapseItem(r);else{var b=t._parentItem(t.selectedItem);null!=b&&(t.selectItem(b.element),t.ensureVisible(b.element))}if((39==s&&!t.rtl||37==s&&t.rtl)&&t.selectedItem.hasItems)if(t.selectedItem.isExpanded){var v=t._nextVisibleItem(t.selectedItem);null!=v&&(t.selectItem(v.element),t.ensureVisible(v.element))}else t.expandItem(r);return!1;case 13:return t.selectedItem.hasItems&&(t.selectedItem.isExpanded?t.collapseItem(r):t.expandItem(r)),!1;case 36:return t.selectItem(t._firstItem().element),t.ensureVisible(t._firstItem().element),!1;case 35:return t.selectItem(t._lastItem().element),t.ensureVisible(t._lastItem().element),!1;case 38:var g=t._prevVisibleItem(t.selectedItem);return null!=g&&(t.selectItem(g.element),t.ensureVisible(g.element)),!1;case 40:var v=t._nextVisibleItem(t.selectedItem);return null!=v&&(t.selectItem(v.element),t.ensureVisible(v.element)),!1}}})},_firstItem:function(){var t=null,s=this,r=this.host.find("ul:first"),n=e(r).find("li");
for(i=0;i<=n.length-1;i++){var a=n[i];if(t=this.itemMapping["id"+a.id].item,s._isVisible(t))return t}return null},_lastItem:function(){var t=null,s=this,r=this.host.find("ul:first"),n=e(r).find("li");for(i=n.length-1;i>=0;i--){var a=n[i];if(t=this.itemMapping["id"+a.id].item,s._isVisible(t))return t}return null},_parentItem:function(t){if(null==t||void 0==t)return null;var i=t.parentElement;if(!i)return null;var s=null;return e.each(this.items,function(){return this.element==i?(s=this,!1):void 0}),s},_nextVisibleItem:function(e){if(null==e||void 0==e)return null;for(var t=e;null!=t;)if(t=t.nextItem,this._isVisible(t)&&!t.disabled)return t;return null},_prevVisibleItem:function(e){if(null==e||void 0==e)return null;for(var t=e;null!=t;)if(t=t.prevItem,this._isVisible(t)&&!t.disabled)return t;return null},_isVisible:function(e){if(null==e||void 0==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isExpanded)return!1;for(;null!=t;){if(t=this._parentItem(t),null!=t&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isExpanded)return!1}}return!0},_getItemsOnPage:function(){var t=0,i=(this.panel.jqxPanel("getVScrollPosition"),parseInt(this.host.height())),s=0,r=this._firstItem();if(parseInt(e(r.element).height())>0)for(;i>=s;)s+=parseInt(e(r.element).outerHeight()),t++;return t},_isElementVisible:function(t){return null==t?!1:"none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility")?!0:!1},refresh:function(t){if(null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.panel){if(null!=this.width&&-1!=this.width.toString().indexOf("%")){var i=this;this.panel.jqxPanel("width","100%"),i.removeHandler(e(window),"resize.jqxtree"+i.element.id),i.addHandler(e(window),"resize.jqxtree"+i.element.id,function(){i._calculateWidth()})}else this.panel.jqxPanel("width",this.host.width());this.panel.jqxPanel("_arrange")}if(this._calculateWidth(),e.jqx.isHidden(this.host)){var i=this;this._hiddenTimer&&clearInterval(this._hiddenTimer),this._hiddenTimer=setInterval(function(){e.jqx.isHidden(i.host)||(clearInterval(i._hiddenTimer),i._calculateWidth())},100)}1!=t&&this.checkboxes&&this._updateCheckLayout(null)},resize:function(e,t){this.width=e,this.height=t,this.refresh()},loadItems:function(t){if(null!=t){var i=this;this.items=new Array;var s="<ul>";return e.map(t,function(e){return void 0==e?null:void(s+=i._parseItem(e))}),s+="</ul>"}},_parseItem:function(e){var t="";if(void 0==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);var s=!1;void 0!=e.expanded&&e.expanded&&(s=!0);var r=!1;void 0!=e.locked&&e.locked&&(r=!0);var n=!1;void 0!=e.selected&&e.selected&&(n=!0);var a=!1;void 0!=e.disabled&&e.disabled&&(a=!0);var o=!1;void 0!=e.checked&&e.checked&&(o=!0);var l=e.icon,d=e.iconsize;t+="<li",s&&(t+=' item-expanded="true" '),r&&(t+=' item-locked="true" '),a&&(t+=' item-disabled="true" '),n&&(t+=' item-selected="true" '),d&&(t+=' item-iconsize="'+e.iconsize+'" '),null!=l&&void 0!=l&&(t+=' item-icon="'+l+'" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),void 0!=e.checked&&(t+=' item-checked="'+o+'" ');var h="";return void 0!=e.id?(h=e.id,t+=' id="'+h+'" '):(h=this.createID(),t+=' id="'+h+'" '),t+=">"+i,e.items&&(t+=this.loadItems(e.items)),this._valueList||(this._valueList=new Array),this._valueList[h]=e.value,t+="</li>"},ensureVisible:function(t){if(null!=t&&void 0!=t){var i=this.panel.jqxPanel("getVScrollPosition"),s=this.panel.jqxPanel("getHScrollPosition"),r=parseInt(this.host.height()),n=e(t).position().top;(i>=n||n>=r+i)&&this.panel.jqxPanel("scrollTo",s,n-r+e(t).outerHeight())}},_syncItems:function(t){this._visibleItems=new Array;var i=this;e.each(t,function(){var t=e(this);if("none"!=t.css("display")){var s=t.outerHeight();if(t.height()>0){var r=parseInt(t.offset().top);i._visibleItems[i._visibleItems.length]={element:this,top:r,height:s,bottom:r+s}}}})},hitTest:function(t,i){var s=this,r=null,n=this.host.find(".jqx-item");if(this._syncItems(n),s._visibleItems){var a=parseInt(s.host.offset().left),o=s.host.outerWidth();e.each(s._visibleItems,function(){if(t>=a&&a+o>t&&this.top+5<i&&i<this.top+this.height){var n=e(this.element).parents("li:first");if(n.length>0&&(r=s.getItem(n[0]),null!=r))return r.height=this.height,r.top=this.top,!1}})}return r},addBefore:function(e,t,i){return this.addBeforeAfter(e,t,!0,i)},addAfter:function(e,t,i){return this.addBeforeAfter(e,t,!1,i)},addBeforeAfter:function(t,i,s,r){var n=this,a=new Array;i&&void 0!=i.treeInstance&&(i=i.element),e.isArray(t)?a=t:a[0]=t;var o="",l=this;e.each(a,function(){o+=l._parseItem(this)});var d=e(o);if(n.element.innerHTML.indexOf("UL"))var h=n.host.find("ul:first");void 0==i&&null==i?h.append(d):s?e(i).before(d):e(i).after(d);for(var c=d,u=0;u<c.length;u++){this._createItem(c[u]);var p=e(c[u]).find("li");if(p.length>0)for(var f=0;f<p.length;f++)this._createItem(p[f])}var m=function(t){l._refreshMapping(!1),l._updateItemsNavigation(),t&&l.allowDrag&&l._enableDragDrop&&l._enableDragDrop(),null!=l.selectedItem&&(e(l.selectedItem.titleElement).addClass(l.toThemeProperty("jqx-fill-state-pressed")),e(l.selectedItem.titleElement).addClass(l.toThemeProperty("jqx-tree-item-selected")))};return 0==r?(m(!0),void this._raiseEvent("4",{items:this.getItems()})):(m(!1),l._render(),this._raiseEvent("4",{items:this.getItems()}),void(l.checkboxes&&l._updateCheckLayout(null)))},addTo:function(t,i,s){var r=this,n=new Array;i&&void 0!=i.treeInstance&&(i=i.element),e.isArray(t)?n=t:n[0]=t;var a="",o=this;e.each(n,function(){a+=o._parseItem(this)});var l=e(a);if(r.element.innerHTML.indexOf("UL"))var d=r.host.find("ul:first");if(void 0==i&&null==i)d.append(l);else{i=e(i);var h=i.find("ul:first");if(0==h.length){ulElement=e("<ul></ul>"),e(i).append(ulElement),h=i.find("ul:first");var c=r.itemMapping["id"+i[0].id].item;c.subtreeElement=h[0],c.hasItems=!0,h.addClass(r.toThemeProperty("jqx-tree-dropdown")),o.rtl&&h.addClass(r.toThemeProperty("jqx-tree-dropdown-rtl")),h.append(l);var u=h.find("li:first");c.parentElement=u}else h.append(l)}for(var p=l,f=0;f<p.length;f++){this._createItem(p[f]);var m=e(p[f]).find("li");if(m.length>0)for(var g=0;g<m.length;g++)this._createItem(m[g])}var v=function(t){o._refreshMapping(!1),o._updateItemsNavigation(),t&&o.allowDrag&&o._enableDragDrop&&o._enableDragDrop(),null!=o.selectedItem&&(e(o.selectedItem.titleElement).addClass(o.toThemeProperty("jqx-fill-state-pressed")),e(o.selectedItem.titleElement).addClass(o.toThemeProperty("jqx-tree-item-selected")))};return 0==s?(v(!0),void this._raiseEvent("4",{items:this.getItems()})):(v(!1),o._render(),o.checkboxes&&o._updateCheckLayout(null),void this._raiseEvent("4",{items:this.getItems()}))},updateItem:function(t,i){var s=void 0!=t.treeInstance?t:this.getItem(t);if(!s){var r=t;t=i,i=r;var s=void 0!=t.treeInstance?t:this.getItem(t)}if(s){if("string"==typeof i&&(i={label:i}),i.value&&(s.value=i.value),i.label){s.label=i.label,e.jqx.utilities.html(e(s.titleElement),i.label);var n=e.jqx.browser.msie&&e.jqx.browser.version<8;if(n){e(document.body).append(this._measureItem),this._measureItem.html(e(s.titleElement).text());var a=this._measureItem.width();s.icon&&(a+=20),e(e(s.titleElement).find("img")).length>0&&(a+=20),e(s.titleElement).css("max-width",a+"px"),this._measureItem.remove()}}if(i.icon)if(e(s.element).children(".itemicon").length>0)e(s.element).find(".itemicon")[0].src=i.icon;else{var o=i.iconsize;o||(o=16);var l=e('<img width="'+o+'" height="'+o+'" style="float: left;" class="itemicon" src="'+i.icon+'"/>');e(s.titleElement).prepend(l),l.css("margin-right","4px"),this.rtl&&(l.css("margin-right","0px"),l.css("margin-left","4px"),l.css("float","right"))}return i.expanded&&this.expandItem(s),i.disabled&&this.disableItem(s),i.selected&&this.selectItem(s),!0}return!1},removeItem:function(t,i){if(void 0!=t&&null!=t){void 0!=t.treeInstance&&(t=t.element);var s=this,r=(t.id,-1),n=this.getItem(t);if(n&&(r=this.items.indexOf(n),-1!=r&&function a(t){var i=-1;i=this.items.indexOf(t),-1!=i&&this.items.splice(i,1);var s=e(t.element).find("li"),r=s.length,n=this,o=new Array;if(r>0){e.each(s,function(){var e=n.itemMapping["id"+this.id].item;o.push(e)});for(var l=0;l<o.length;l++)a.apply(this,[o[l]])}}.apply(this,[n])),this.host.find("#"+t.id).length>0&&e(t).remove(),0==i)return void this._raiseEvent("5");s._updateItemsNavigation(),s.allowDrag&&s._enableDragDrop?s._render(!0,!1):s._render(),null!=s.selectedItem&&s.selectedItem.element==t&&(e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-fill-state-pressed")),e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-selected")),s.selectedItem=null),this._raiseEvent("5"),s.checkboxes&&s._updateCheckLayout(null)}},clear:function(){this.items=new Array,this.itemMapping=new Array;var e=this.host.find("ul:first");e.length>0&&(e[0].innerHTML=""),this.selectedItem=null},disableItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;e.each(i.items,function(){var s=this;return s.element==t?(s.disabled=!0,e(s.titleElement).addClass(i.toThemeProperty("jqx-fill-state-disabled")),e(s.titleElement).addClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&s.checkBoxElement&&e(s.checkBoxElement).jqxCheckBox({disabled:!0}),!1):void 0})},_updateInputSelection:function(){if(this.input){if(null==this.selectedItem)this.input.val("");else{var e=this.selectItem.value;null==e&&(e=this.selectedItem.label),this.input.val(e)}if(this.checkboxes){var t=this.getCheckedItems();if(this.submitCheckedItems){for(var i="",s=0;s<t.length;s++){var r=t[s].value;null==r&&(r=t[s].label),i+=s==t.length-1?r:r+","}this.input.val(i)}}}},getCheckedItems:function(){var t=new Array,i=this;return e.each(i.items,function(){var e=this;e.checked&&t.push(e)}),t},getUncheckedItems:function(){var t=new Array,i=this;return e.each(i.items,function(){var e=this;e.checked||t.push(e)}),t},checkAll:function(){var t=this;e.each(t.items,function(){var t=this;t.disabled||(t.checked=!0,e(t.checkBoxElement).jqxCheckBox("_setState",!0))}),this._raiseEvent("6",{element:this,checked:!0})},uncheckAll:function(){var t=this;e.each(t.items,function(){var t=this;t.disabled||(t.checked=!1,e(t.checkBoxElement).jqxCheckBox("_setState",!1))}),this._raiseEvent("6",{element:this,checked:!1})},checkItem:function(t,i,s){if(null==t)return!1;void 0===i&&(i=!0),void 0!=t.treeInstance&&(t=t.element);var r=this,n=!1,a=null;e.each(r.items,function(){var s=this;return s.element!=t||s.disabled?void 0:(n=!0,s.checked=i,a=s,e(s.checkBoxElement).jqxCheckBox({checked:i}),!1)}),n&&(this._raiseEvent("6",{element:t,checked:i}),this._updateInputSelection()),void 0==s&&a&&this.hasThreeStates&&this.checkItems(a,a)},uncheckItem:function(e){this.checkItem(e,!1)},enableItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;e.each(i.items,function(){var s=this;return s.element==t?(s.disabled=!1,e(s.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-disabled")),e(s.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&s.checkBoxElement&&e(s.checkBoxElement).jqxCheckBox({disabled:!1}),!1):void 0})},enableAll:function(){var t=this;e.each(t.items,function(){var i=this;i.disabled=!1,e(i.titleElement).removeClass(t.toThemeProperty("jqx-tree-item-disabled")),e(i.titleElement).removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.checkboxes&&i.checkBoxElement&&e(i.checkBoxElement).jqxCheckBox({disabled:!1})})},lockItem:function(t){if(null==t)return!1;var i=this;e.each(i.items,function(){var e=this;return e.element==t?(e.locked=!0,!1):void 0})},unlockItem:function(t){if(null==t)return!1;var i=this;e.each(i.items,function(){var e=this;return e.element==t?(e.locked=!1,!1):void 0})},getItems:function(){return this.items},getItem:function(e){if(null==e||void 0==e)return null;if(this.itemMapping["id"+e.id]){var t=this.itemMapping["id"+e.id].item;return t}return null},isExpanded:function(e){if(null==e||void 0==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t?t.isExpanded:!1},isSelected:function(e){if(null==e||void 0==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t?t==this.selectedItem:!1},getPrevItem:function(e){var t=this.getItem(e);void 0!=e.treeInstance&&(t=e);var i=this._prevVisibleItem(t);return i},getNextItem:function(e){var t=this.getItem(e);void 0!=e.treeInstance&&(t=e);var i=this._nextVisibleItem(t);return i},getSelectedItem:function(){return this.selectedItem},val:function(e){if(0==arguments.length||"object"==typeof e)return this.selectedItem;if("string"==typeof e){var t=this.host.find("#"+e);if(t.length>0){var i=this.getItem(t[0]);this.selectItem(i)}}else{var i=this.getItem(e);this.selectItem(i)}},getActiveDescendant:function(){return this.selectedItem?this.selectedItem.element.id:""},clearSelection:function(){this.selectItem(null)},selectItem:function(t){if(!this.disabled){var i=this;if(t&&void 0!=t.treeInstance&&(t=t.element),null==t||void 0==t)return void(null!=i.selectedItem&&(e(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),e(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected")),i.selectedItem=null));if(null==this.selectedItem||this.selectedItem.element!=t){var s=null!=this.selectedItem?this.selectedItem.element:null;s&&e(s).removeAttr("aria-selected"),e.each(i.items,function(){var s=this;this.selected=!1,s.disabled||s.element==t&&(null==i.selectedItem||null!=i.selectedItem&&i.selectedItem.titleElement!=s.titleElement)&&(null!=i.selectedItem&&(e(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),e(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected"))),e(s.titleElement).addClass(i.toThemeProperty("jqx-fill-state-pressed")),e(s.titleElement).addClass(i.toThemeProperty("jqx-tree-item-selected")),i.selectedItem=s,this.selected=!0,e(s.element).attr("aria-selected","true"),e.jqx.aria(i,"aria-activedescendant",s.element.id))}),this._updateInputSelection(),this._raiseEvent("2",{element:t,prevElement:s})}}},collapseAll:function(){this.isUpdating=!0;var t=this,i=t.items,s=this.animationHideDuration;this.animationHideDuration=0,e.each(i,function(){var e=this;1==e.isExpanded&&t._collapseItem(t,e)}),setTimeout(function(){t.isUpdating=!1,t._calculateWidth()},this.animationHideDuration),this.animationHideDuration=s},expandAll:function(){var t=this;this.isUpdating=!0;var i=this.animationShowDuration;this.animationShowDuration=0,e.each(this.items,function(){var e=this;e.hasItems&&t._expandItem(t,e)}),setTimeout(function(){t.isUpdating=!1,t._calculateWidth()},this.animationShowDuration),this.animationShowDuration=i},collapseItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;return e.each(this.items,function(){var e=this;return 1==e.isExpanded&&e.element==t?(i._collapseItem(i,e),!1):void 0}),!0},expandItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;return e.each(i.items,function(){var e=this;0!=e.isExpanded||e.element!=t||e.disabled||e.locked||(i._expandItem(i,e),e.parentElement&&i.expandItem(e.parentElement))}),!0},_getClosedSubtreeOffset:function(t){var i=e(t.subtreeElement),s=-i.outerHeight(),r=-i.outerWidth();return r=0,{left:r,top:s}},_collapseItem:function(t,i){if(null==t||null==i)return!1;if(i.disabled)return!1;if(t.disabled)return!1;if(t.locked)return!1;{var s=e(i.subtreeElement),r=this._getClosedSubtreeOffset(i);r.top,r.left}$treeElement=e(i.element);var n=t.animationHideDelay;n=0,null!=s.data("timer").show&&(clearTimeout(s.data("timer").show),s.data("timer").show=null);var a=function(){if(i.isExpanded=!1,t.checkboxes){var r=s.find(".chkbox");r.stop(),r.css("opacity",1),s.find(".chkbox").animate({opacity:0},50)}var n=e(i.arrow);t._arrowStyle(n,"",i.isExpanded),s.slideUp(t.animationHideDuration,function(){i.isCollapsing=!1,t._calculateWidth();var r=e(i.arrow);t._arrowStyle(r,"",i.isExpanded),s.hide(),t._raiseEvent("1",{element:i.element})})};n>0?s.data("timer").hide=setTimeout(function(){a()},n):a()},_expandItem:function(t,i){if(null==t||null==i)return!1;if(i.isExpanded)return!1;if(i.locked)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var s=e(i.subtreeElement);null!=s.data("timer")&&null!=s.data("timer").hide&&clearTimeout(s.data("timer").hide);var r=(e(i.element),0);if(parseInt(s.css("top"))==r)return void(i.isExpanded=!0);var n=e(i.arrow);if(t._arrowStyle(n,"",i.isExpanded),t.checkboxes){var a=s.find(".chkbox");a.stop(),a.css("opacity",0),a.animate({opacity:1},t.animationShowDuration)}if(s.slideDown(t.animationShowDuration,t.easing,function(){var s=e(i.arrow);i.isExpanded=!0,t._arrowStyle(s,"",i.isExpanded),i.isExpanding=!1,t._raiseEvent("0",{element:i.element}),t._calculateWidth()}),t.checkboxes&&(t._updateCheckItemLayout(i),i.subtreeElement)){var o=e(i.subtreeElement).find("li");e.each(o,function(){var e=t.getItem(this);null!=e&&t._updateCheckItemLayout(e)})}},_calculateWidth:function(){var t=this,i=this.checkboxes?20:0,s=0;if(!this.isUpdating){if(e.each(this.items,function(){var t=e(this.element).height();if(0!=t){var r=e(this.titleElement).outerWidth()+10+i+20*(1+this.level);if(s=Math.max(s,r),this.hasItems){var n=parseInt(e(this.titleElement).css("padding-top"));isNaN(n)&&(n=0),n=2*n,n+=2;var a=(n+e(this.titleElement).height())/2-8.5;e.jqx.browser.msie&&e.jqx.browser.version<9?e(this.arrow).css("margin-top","3px"):parseInt(a)>=0&&e(this.arrow).css("margin-top",parseInt(a)+"px")}}}),this.toggleIndicatorSize>16&&(s=s+this.toggleIndicatorSize-16),t.panel)if(s>this.host.width()){var r=s-this.host.width(),n="hidden"!==t.panel.jqxPanel("vScrollBar").css("visibility")?10:0;r+=n,t.panel.jqxPanel({horizontalScrollBarMax:r})}else t.panel.jqxPanel({horizontalScrollBarMax:0});this.host.find("ul:first").width(s);var a=this.host.width()-30;a>0&&this.host.find("ul:first").css("min-width",a),t.panel&&t.panel.jqxPanel("_arrange")}},_arrowStyle:function(e,t,i){var s=this;if(e.length>0){e.removeClass();var r="";"hover"==t&&(r="-"+t);var n=i?"-expand":"-collapse",a="jqx-tree-item-arrow"+n+r;if(e.addClass(s.toThemeProperty(a)),!this.rtl){var n=i?"-down":"-right";e.addClass(s.toThemeProperty("jqx-icon-arrow"+n))}if(this.rtl){e.addClass(s.toThemeProperty(a+"-rtl"));var n=i?"-down":"-left";e.addClass(s.toThemeProperty("jqx-icon-arrow"+n))}}},_initialize:function(){var t=this;this.host.addClass(t.toThemeProperty("jqx-widget")),this.host.addClass(t.toThemeProperty("jqx-widget-content")),this.host.addClass(t.toThemeProperty("jqx-tree")),this._updateDisabledState();var i=e.jqx.browser.msie&&e.jqx.browser.version<8;e.each(this.items,function(){var s=this;$element=e(s.element);var r=null;if(t.checkboxes&&!s.hasItems&&s.checkBoxElement&&e(s.checkBoxElement).css("margin-left","0px"),i)!s.hasItems&&e(s.element).find("ul").length>0&&e(s.element).find("ul").remove();else{if(!s.hasItems){t.rtl?s.element.style.marginRight=parseInt(t.toggleIndicatorSize)+"px":s.element.style.marginLeft=parseInt(t.toggleIndicatorSize)+"px";var n=e(s.arrow);return n.length>0&&(n.remove(),s.arrow=null),!0}t.rtl?s.element.style.marginRight="0px":s.element.style.marginLeft="0px"}var n=e(s.arrow);n.length>0&&n.remove(),r=e('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),r.prependTo($element),t.rtl?r.css("float","right"):r.css("float","left"),r.css("clear","both"),r.width(t.toggleIndicatorSize),t._arrowStyle(r,"",s.isExpanded);var a=parseInt(e(this.titleElement).css("padding-top"));isNaN(a)&&(a=0),a=2*a,a+=2;var o=(a+e(this.titleElement).height())/2-8.5;e.jqx.browser.msie&&e.jqx.browser.version<9?r.css("margin-top","3px"):parseInt(o)>=0&&r.css("margin-top",parseInt(o)+"px"),$element.addClass(t.toThemeProperty("jqx-disableselect")),r.addClass(t.toThemeProperty("jqx-disableselect"));var l="click",d=t.isTouchDevice();d&&(l=e.jqx.mobile.getTouchEventName("touchend")),t.addHandler(r,l,function(){return s.isExpanded?t._collapseItem(t,s):t._expandItem(t,s),!1}),t.addHandler(r,"selectstart",function(){return!1}),t.addHandler(r,"mouseup",function(){return d?void 0:!1}),s.hasItems=e(s.element).find("li").length>0,s.arrow=r[0],s.hasItems||r.css("visibility","hidden"),$element.css("float","none")})},_getOffset:function(t){var i=e(window).scrollTop(),s=e(window).scrollLeft(),r=e.jqx.mobile.isSafariMobileBrowser(),n=e(t).offset(),a=n.top,o=n.left;return null!=r&&r?{left:o-s,top:a-i}:e(t).offset()},_renderHover:function(t,i,s){var r=this;if(!s){var n=e(i.titleElement);r.addHandler(n,"mouseenter",function(){i.disabled||!r.enableHover||r.disabled||(n.addClass(r.toThemeProperty("jqx-fill-state-hover")),n.addClass(r.toThemeProperty("jqx-tree-item-hover")))}),r.addHandler(n,"mouseleave",function(){i.disabled||!r.enableHover||r.disabled||(n.removeClass(r.toThemeProperty("jqx-fill-state-hover")),n.removeClass(r.toThemeProperty("jqx-tree-item-hover")))})}},_updateDisabledState:function(){this.disabled?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},_addInput:function(){if(null==this.input){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t),this._updateInputSelection()}},render:function(){this._updateItemsNavigation(),this._render()},_render:function(t,i){if(e.jqx.browser.msie&&e.jqx.browser.version<8){var s=this;e.each(this.items,function(){var t=e(this.element),i=t.parent(),s=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13;t.css("min-width",s);var r=parseInt(i.css("min-width"));isNaN(r)&&(r=0);var n=t.css("min-width");r<parseInt(t.css("min-width"))&&i.css("min-width",n),this.titleElement[0].style.width=null})}var s=this;e.data(s.element,"animationHideDelay",s.animationHideDelay),e.data(document.body,"treeel",this),this._initialize();var r=this.isTouchDevice();if(r&&"dblclick"==this.toggleMode&&(this.toggleMode="click"),(void 0==t||1==t)&&e.each(this.items,function(){s._updateItemEvents(s,this)}),this.allowDrag&&this._enableDragDrop&&(void 0==i||1==i)&&this._enableDragDrop(),this._addInput(),this.host.jqxPanel){if(this.host.find("#panel"+this.element.id).length>0)return this.panel.jqxPanel({touchMode:this.touchMode}),void this.panel.jqxPanel("refresh");this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"></div>');var n=this.host.find("div:first"),a="fixed";(null==this.height||"auto"==this.height)&&(a="verticalwrap"),(null==this.width||"auto"==this.width)&&(a="fixed"==a?"horizontalwrap":"wrap"),n.jqxPanel({rtl:this.rtl,theme:this.theme,width:"100%",height:"100%",touchMode:this.touchMode,sizeMode:a}),e.jqx.browser.msie&&e.jqx.browser.version<8&&n.jqxPanel("content").css("left","0px"),n.data({nestedWidget:!0}),(null==this.height||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&this.isTouchDevice()&&(this.removeHandler(n,e.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(n,e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(n,e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var o=e.data(n[0],"jqxPanel").instance;null!=o&&(this.vScrollInstance=o.vScrollInstance,this.hScrollInstance=o.hScrollInstance),this.panelInstance=o,e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0),this.host.find("ul").attr("hideFocus",!0)),n[0].className="",this.panel=n}this._raiseEvent("3",this)},focus:function(){try{this.host.focus()}catch(e){}},_updateItemEvents:function(t,i){var s=this.isTouchDevice();s&&(this.toggleMode=e.jqx.mobile.getTouchEventName("touchend"));var r=e(i.element);t.enableRoundedCorners&&r.addClass(t.toThemeProperty("jqx-rc-all"));var n=s?e.jqx.mobile.getTouchEventName("touchend"):"mousedown";t.touchMode===!0&&t.removeHandler(e(i.checkBoxElement),"mousedown"),t.removeHandler(e(i.checkBoxElement),n),t.addHandler(e(i.checkBoxElement),n,function(){return t.disabled||this.treeItem.disabled||(this.treeItem.checked=!this.treeItem.checked,t.checkItem(this.treeItem.element,this.treeItem.checked,"tree"),t.hasThreeStates&&t.checkItems(this.treeItem,this.treeItem)),!1});var a=e(i.titleElement);t.removeHandler(r);var o=this.allowDrag&&this._enableDragDrop;o?(t.removeHandler(a,"mousedown.item"),t.removeHandler(a,"click"),t.removeHandler(a,"dblclick"),t.removeHandler(a,"mouseenter"),t.removeHandler(a,"mouseleave")):t.removeHandler(a),t._renderHover(r,i,s);var l=e(i.subtreeElement);if(l.length>0){var d=i.isExpanded?"block":"none";l.css({overflow:"hidden",display:d}),l.data("timer",{})}t.addHandler(a,"selectstart",function(){return!1}),e.jqx.browser.opera&&t.addHandler(a,"mousedown.item",function(){return!1}),"click"!=t.toggleMode&&t.addHandler(a,"click",function(){t.selectItem(i.element),null!=t.panel&&t.panel.jqxPanel({focused:!0}),a.focus()}),t.addHandler(a,t.toggleMode,function(){return l.length>0&&clearTimeout(l.data("timer").hide),null!=t.panel&&t.panel.jqxPanel({focused:!0}),t.selectItem(i.element),void 0==i.isExpanding&&(i.isExpanding=!1),void 0==i.isCollapsing&&(i.isCollapsing=!1),l.length>0?(i.isExpanded?0==i.isCollapsing&&(i.isCollapsing=!0,t._collapseItem(t,i,!0)):0==i.isExpanding&&(i.isExpanding=!0,t._expandItem(t,i)),!1):void 0})},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),this._isTouchDevice=t,t},createID:function(){return e.jqx.utilities.createId()},createTree:function(t){if(null!=t){var i=this,s=e(t).find("li");this.items=new Array,this.itemMapping=new Array,e(t).addClass(i.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&e(t).addClass(i.toThemeProperty("jqx-tree-dropdown-root-rtl")),(this.rtl||e.jqx.browser.msie&&e.jqx.browser.version<8)&&(this._measureItem=e("<span style='position: relative; visibility: hidden;'></span>"),this._measureItem.addClass(this.toThemeProperty("jqx-widget")),this._measureItem.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._measureItem.addClass(this.toThemeProperty("jqx-tree-item")),this._measureItem.addClass(this.toThemeProperty("jqx-item")),e(document.body).append(this._measureItem)),e.jqx.browser.msie&&e.jqx.browser.version<8;for(var r=0;r<s.length;r++)this._createItem(s[r]);(this.rtl||e.jqx.browser.msie&&e.jqx.browser.version<8)&&this._measureItem.remove(),this._updateItemsNavigation(),this._updateCheckStates()}},_updateCheckLayout:function(t){var i=this;this.checkboxes&&e.each(this.items,function(){(this.level==t||void 0==t)&&i._updateCheckItemLayout(this)})},_updateCheckItemLayout:function(t){if(this.checkboxes&&"none"!=e(t.titleElement).css("display")){var i=e(t.checkBoxElement),s=e(t.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2;i.css("margin-top",s),this.rtl||(e.jqx.browser.msie&&e.jqx.browser.version<8?t.titleElement.css("margin-left",parseInt(this.checkSize)+25):t.hasItems&&i.css("margin-left",this.toggleIndicatorSize))}},_updateCheckStates:function(){var t=this;t.hasThreeStates?e.each(this.items,function(){t._updateCheckState(this)}):e.each(this.items,function(){null==this.checked&&t.checkItem(this.element,!1,"tree")})},_updateCheckState:function(t){if(null!=t&&void 0!=t){var i=this,s=0,r=!1,n=0,a=e(t.element).find("li");n=a.length,t.checked&&n>0&&e.each(a,function(){var e=i.itemMapping["id"+this.id].item,t=e.element.getAttribute("item-checked");(void 0==t||null==t||"true"==t||1==t)&&i.checkItem(e.element,!0,"tree")}),e.each(a,function(){var e=i.itemMapping["id"+this.id].item;0!=e.checked&&(null==e.checked&&(r=!0),s++)}),n>0&&(s==n?this.checkItem(t.element,!0,"tree"):s>0?this.checkItem(t.element,null,"tree"):this.checkItem(t.element,!1,"tree"))}},_updateItemsNavigation:function(){for(var t=this.host.find("ul:first"),i=e(t).find("li"),s=0;s<i.length;s++){var r=i[s];if(this.itemMapping["id"+r.id]){var n=this.itemMapping["id"+r.id].item;if(!n)continue;n.prevItem=null,n.nextItem=null,s>0&&this.itemMapping["id"+i[s-1].id]&&(n.prevItem=this.itemMapping["id"+i[s-1].id].item),s<i.length-1&&this.itemMapping["id"+i[s+1].id]&&(n.nextItem=this.itemMapping["id"+i[s+1].id].item)}}},_applyTheme:function(t,i){var s=this;this.host.removeClass("jqx-tree-"+t),this.host.removeClass("jqx-widget-"+t),this.host.removeClass("jqx-widget-content-"+t),this.host.addClass(s.toThemeProperty("jqx-tree")),this.host.addClass(s.toThemeProperty("jqx-widget"));var r=this.host.find("ul:first");e(r).removeClass(s.toThemeProperty("jqx-tree-dropdown-root-"+t)),e(r).addClass(s.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&(e(r).removeClass(s.toThemeProperty("jqx-tree-dropdown-root-rtl-"+t)),e(r).addClass(s.toThemeProperty("jqx-tree-dropdown-root-rtl")));for(var n=e(r).find("li"),a=0;a<n.length;a++){var o=n[a];e(o).children().each(function(){return"ul"==this.tagName||"UL"==this.tagName?(e(this).removeClass(s.toThemeProperty("jqx-tree-dropdown-"+t)),e(this).addClass(s.toThemeProperty("jqx-tree-dropdown")),s.rtl&&(e(this).removeClass(s.toThemeProperty("jqx-tree-dropdown-rtl-"+t)),e(this).addClass(s.toThemeProperty("jqx-tree-dropdown-rtl"))),!1):void 0})}e.each(this.items,function(){var r=this,n=e(r.element);n.removeClass(s.toThemeProperty("jqx-tree-item-li-"+t)),n.addClass(s.toThemeProperty("jqx-tree-item-li")),this.rtl&&(n.removeClass(s.toThemeProperty("jqx-tree-item-li-"+t)),n.addClass(s.toThemeProperty("jqx-tree-item-li"))),e(r.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-"+t)),e(r.titleElement).addClass(s.toThemeProperty("jqx-tree-item")),e(r.titleElement).removeClass("jqx-item-"+t),e(r.titleElement).addClass(s.toThemeProperty("jqx-item"));var a=e(r.arrow);a.length>0&&s._arrowStyle(a,"",r.isExpanded),r.checkBoxElement&&e(r.checkBoxElement).jqxCheckBox({theme:i}),s.enableRoundedCorners&&(n.removeClass("jqx-rc-all-"+t),n.addClass(s.toThemeProperty("jqx-rc-all")))}),this.host.jqxPanel&&this.panel.jqxPanel({theme:i})},_refreshMapping:function(t){for(var i=this.host.find("li"),s=new Array,r=new Array,n=e.data(document.body,"treeItemsStorage"),a=this,o=0;o<i.length;o++){var l=i[o],d=e(l),h=n[l.id];if(null!=h){r[r.length]=h,(void 0==t||1==t)&&this._updateItemEvents(this,h),h.level=d.parents("li").length,h.treeInstance=this;var c=null,u=null;-1!=h.titleElement[0].className.indexOf("jqx-fill-state-pressed")&&(e(h.titleElement).removeClass(a.toThemeProperty("jqx-fill-state-pressed")),e(h.titleElement).removeClass(a.toThemeProperty("jqx-tree-item-selected")));var p=d.children();p.each(function(){return"ul"==this.tagName||"UL"==this.tagName?(h.subtreeElement=this,e(this).addClass(a.toThemeProperty("jqx-tree-dropdown")),a.rtl&&e(this).addClass(a.toThemeProperty("jqx-tree-dropdown-rtl")),!1):void 0});var f=d.parents();f.each(function(){return"li"==this.tagName||"LI"==this.tagName?(u=this.id,c=this,!1):void 0}),h.parentElement=c,h.parentId=u,h.hasItems=e(h.element).find("li").length>0,null!=h&&(s[o]={element:l,item:h},s["id"+l.id]=s[o])}}this.itemMapping=s,this.items=r},_createItem:function(t){if(null!=t&&void 0!=t){var i=t.id;i||(i=this.createID());var s=t,r=e(t);s.id=i;var n=e.data(document.body,"treeItemsStorage");void 0==n&&(n=new Array);var a=this.items.length;this.items[a]=new e.jqx._jqxTree.jqxTreeItem,this.treeElements[i]=this.items[a],n[s.id]=this.items[a],e.data(document.body,"treeItemsStorage",n),a=this.items.length;var o=0,l=this,d=null;r.attr("role","treeitem"),r.children().each(function(){return"ul"==this.tagName||"UL"==this.tagName?(l.items[a-1].subtreeElement=this,e(this).addClass(l.toThemeProperty("jqx-tree-dropdown")),l.rtl&&(e(this).addClass(l.toThemeProperty("jqx-tree-dropdown-rtl")),e(this).css("clear","both")),!1):void 0}),r.parents().each(function(){return"li"==this.tagName||"LI"==this.tagName?(o=this.id,d=this,!1):void 0});var h=t.getAttribute("item-expanded");h=null==h||void 0==h||"true"!=h&&1!=h?!1:!0,s.removeAttribute("item-expanded");var c=t.getAttribute("item-locked");c=null==c||void 0==c||"true"!=c&&1!=c?!1:!0,s.removeAttribute("item-locked");var u=t.getAttribute("item-selected");u=null==u||void 0==u||"true"!=u&&1!=u?!1:!0,s.removeAttribute("item-selected");var p=t.getAttribute("item-disabled");
p=null==p||void 0==p||"true"!=p&&1!=p?!1:!0,s.removeAttribute("item-disabled");var f=t.getAttribute("item-checked");f=null==f||void 0==f||"true"!=f&&1!=f?!1:!0;var m=t.getAttribute("item-title");(null==m||void 0==m||"true"!=m&&1!=m)&&(m=!1),s.removeAttribute("item-title");var g=t.getAttribute("item-icon"),v=t.getAttribute("item-iconsize"),b=t.getAttribute("item-label"),x=t.getAttribute("item-value");s.removeAttribute("item-icon"),s.removeAttribute("item-iconsize"),s.removeAttribute("item-label"),s.removeAttribute("item-value");var w=this.items[a-1];w.id=i,void 0==w.value&&(w.value=this._valueList&&this._valueList[i]?this._valueList[i]:x),w.icon=g,w.iconsize=v,w.parentId=o,w.disabled=p,w.parentElement=d,w.element=t,w.locked=c,w.selected=u,w.checked=f,w.isExpanded=h,w.treeInstance=this,this.itemMapping[a-1]={element:s,item:w},this.itemMapping["id"+s.id]=this.itemMapping[a-1];var y=!1,_=!1;if(y=!1,this.rtl&&(e(w.element).css("float","right"),e(w.element).css("clear","both")),!y||!_)if(e(s.firstChild).length>0){if(w.icon){var v=w.iconsize;v||(v=16);var g=e('<img width="'+v+'" height="'+v+'" style="float: left;" class="itemicon" src="'+w.icon+'"/>');e(s).prepend(g),g.css("margin-right","4px"),this.rtl&&(g.css("margin-right","0px"),g.css("margin-left","4px"),g.css("float","right"))}var j=s.innerHTML.indexOf("<ul");if(-1==j&&(j=s.innerHTML.indexOf("<UL")),-1==j)w.originalTitle=s.innerHTML,s.innerHTML='<div style="display: inline-block;">'+s.innerHTML+"</div>",w.titleElement=e(e(s)[0].firstChild);else{var q=s.innerHTML.substring(0,j);q=e.trim(q),w.originalTitle=q,q=e('<div style="display: inline-block;">'+q+"</div>");var k=e(s).find("ul:first");k.remove(),s.innerHTML="",e(s).prepend(q),e(s).append(k),w.titleElement=q,this.rtl&&(q.css("float","right"),k.css("padding-right","10px"))}if(e.jqx.browser.msie&&e.jqx.browser.version<8){e(e(s)[0].firstChild).css("display","inline-block");var I=!1;0==this._measureItem.parents().length&&(e(document.body).append(this._measureItem),I=!0),this._measureItem.css("min-width","20px"),this._measureItem[0].innerHTML=e(w.titleElement).text();var T=this._measureItem.width();w.icon&&(T+=20),e(e(item.titleElement).find("img")).length>0&&(T+=20),e(e(s)[0].firstChild).css("max-width",T+"px"),I&&this._measureItem.remove()}}else w.originalTitle="Item",e(s).append(e("<span>Item</span>")),e(s.firstChild).wrap("<span/>"),w.titleElement=e(s)[0].firstChild,e.jqx.browser.msie&&e.jqx.browser.version<8&&e(s.firstChild).css("display","inline-block");var C=e(w.titleElement),S=this.toThemeProperty("jqx-rc-all");if(this.allowDrag&&C.addClass("draggable"),null==b||void 0==b?(b=w.titleElement,w.label=e.trim(C.text())):w.label=b,e(s).addClass(this.toThemeProperty("jqx-tree-item-li")),this.rtl&&e(s).addClass(this.toThemeProperty("jqx-tree-item-li-rtl")),S+=" "+this.toThemeProperty("jqx-tree-item")+" "+this.toThemeProperty("jqx-item"),this.rtl&&(S+=" "+this.toThemeProperty("jqx-tree-item-rtl")),C[0].className=C[0].className+" "+S,w.level=e(t).parents("li").length,w.hasItems=e(t).find("li").length>0,this.rtl&&w.parentElement&&!this.checkboxes,this.checkboxes){if(!this.host.jqxCheckBox)throw new Error("jqxTree: Missing reference to jqxcheckbox.js.");var D=e('<div style="position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>');if(D.width(parseInt(this.checkSize)),D.height(parseInt(this.checkSize)),e(s).prepend(D),this.rtl&&(D.css("float","right"),D.css("position","static")),D.jqxCheckBox({hasInput:!1,checked:w.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:p,theme:this.theme}),this.rtl){var P=5;w.parentElement?D.css("margin-right",P+5+"px"):D.css("margin-right",P+"px")}else C.css("margin-left",parseInt(this.checkSize)+6);w.checkBoxElement=D[0],D[0].treeItem=w;var E=C.outerHeight()/2-1-parseInt(this.checkSize)/2;D.css("margin-top",E),e.jqx.browser.msie&&e.jqx.browser.version<8?(C.css("width","1%"),C.css("margin-left",parseInt(this.checkSize)+25)):w.hasItems&&(this.rtl||D.css("margin-left",this.toggleIndicatorSize))}else e.jqx.browser.msie&&e.jqx.browser.version<8&&C.css("width","1%");p&&this.disableItem(w.element),u&&this.selectItem(w.element),e.jqx.browser.msie&&e.jqx.browser.version<8&&(e(s).css("margin","0px"),e(s).css("padding","0px"))}},destroy:function(){this.removeHandler(e(window),"resize.jqxtree"+this.element.id),this.host.removeClass(),this.isTouchDevice()&&(this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var t=this,i=this.isTouchDevice();e.each(this.items,function(){var s=this,r=e(this.element),n=i?e.jqx.mobile.getTouchEventName("touchend"):"click";t.removeHandler(e(s.checkBoxElement),n);var a=e(s.titleElement);t.removeHandler(r);var o=t.allowDrag&&t._enableDragDrop;o?(t.removeHandler(a,"mousedown.item"),t.removeHandler(a,"click"),t.removeHandler(a,"dblclick"),t.removeHandler(a,"mouseenter"),t.removeHandler(a,"mouseleave")):t.removeHandler(a),$arrowSpan=e(s.arrow),$arrowSpan.length>0&&(t.removeHandler($arrowSpan,n),t.removeHandler($arrowSpan,"selectstart"),t.removeHandler($arrowSpan,"mouseup"),i||(t.removeHandler($arrowSpan,"mouseenter"),t.removeHandler($arrowSpan,"mouseleave")),t.removeHandler(a,"selectstart")),e.jqx.browser.opera&&t.removeHandler(a,"mousedown.item"),"click"!=t.toggleMode&&t.removeHandler(a,"click"),t.removeHandler(a,t.toggleMode)}),this.panel&&(this.panel.jqxPanel("destroy"),this.panel=null),this.host.remove()},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var r=new e.Event(s);r.owner=this,r.args=args;var n=this.host.trigger(r);return n},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized){if("submitCheckedItems"==i&&t._updateInputSelection(),"disabled"==i&&t._updateDisabledState(),"theme"==i&&t._applyTheme(s,r),"keyboardNavigation"==i&&(t.enableKeyboardNavigation=r),("width"==i||"height"==i)&&(t.refresh(),t._initialize(),t._calculateWidth(),t.host.jqxPanel)){var n="fixed";(null==this.height||"auto"==this.height)&&(n="verticalwrap"),(null==this.width||"auto"==this.width)&&(n="fixed"==n?"horizontalwrap":"wrap"),t.panel.jqxPanel({sizeMode:n})}if("touchMode"==i&&(t._isTouchDevice=null,r&&(t.enableHover=!1),t._render()),("source"==i||"checkboxes"==i)&&null!=this.source){var a=[];e.each(t.items,function(){this.isExpanded&&(a[a.length]={label:this.label,level:this.level})});var o=t.loadItems(t.source);t.host.jqxPanel?t.panel.jqxPanel("setcontent",o):t.element.innerHTML=o;var l=t.disabled,d=t.host.find("ul:first");d.length>0&&(t.createTree(d[0]),t._render());var h=t,c=h.animationShowDuration;h.animationShowDuration=0,t.disabled=!1,a.length>0&&e.each(t.items,function(){for(var e=0;e<a.length;e++)if(a[e].label==this.label&&a[e].level==this.level){var t=h.getItem(this.element);h._expandItem(h,t)}}),t.disabled=l,h.animationShowDuration=c}"hasThreeStates"==i&&(t._render(),t._updateCheckStates()),"toggleIndicatorSize"==i&&(t._updateCheckLayout(),t._render())}}})}(jqxBaseFramework),function(e){e.jqx._jqxTree.jqxTreeItem=function(e,t){var i={label:null,id:e,parentId:t,parentElement:null,parentItem:null,disabled:!1,selected:!1,locked:!1,checked:!1,level:0,isExpanded:!1,hasItems:!1,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null};return i}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxExpander","",{}),e.extend(e.jqx._jqxExpander.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",expanded:!0,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",headerPosition:"top",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]};return e.extend(!0,this,t),t},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),this._cachedHTMLStructure=this.host.html(),this.render()},expand:function(){if(0==this.disabled&&0==this.expanded&&1==this._expandChecker){var t=this;switch(this._expandChecker=0,this._raiseEvent("0"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._header.addClass(this.toThemeProperty("jqx-expander-header-expanded")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded-top"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideDown(this.expandAnimationDuration,this.easing,function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&0==t._initialized&&(t.initContent(),t._initialized=!0)}):"bottom"==this.headerPosition&&(this._content.css({display:"inherit",height:0}),e.jqx.browser.msie&&e.jqx.browser.version<8&&this._content.css("display","block"),1==this._cntntEmpty?this._content.animate({height:0},this.expandAnimationDuration,this.easing,function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&0==t._initialized&&(t.initContent(),t._initialized=!0)}):this._content.animate({height:this._contentHeight},this.expandAnimationDuration,this.easing,function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&0==t._initialized&&(t.initContent(),t._initialized=!0)}));break;case"fade":this._content.fadeIn(this.expandAnimationDuration,this.easing,function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&0==t._initialized&&(t.initContent(),t._initialized=!0)});break;case"none":this._content.css("display","inherit"),this.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),this._raiseEvent("1"),this.initContent&&0==this._initialized&&(this.initContent(),this._initialized=!0)}}},collapse:function(){if(0==this.disabled&&1==this.expanded&&0==this._expandChecker){var t=this;switch(this._expandChecker=1,this._raiseEvent("2"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded")),this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideUp(this.collapseAnimationDuration,this.easing,function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}):"bottom"==this.headerPosition&&this._content.animate({height:0},this.expandAnimationDuration,function(){t._content.css("display","none"),t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")});break;case"fade":this._content.fadeOut(this.collapseAnimationDuration,this.easing,function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")});break;case"none":this._content.css("display","none"),this.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),this._raiseEvent("3")}}},setHeaderContent:function(e){this._header_text.html(e),this.invalidate()},getHeaderContent:function(){return this._header_text.html()},setContent:function(e){this._content.html(e),this._checkContent(),this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=!1,this.refresh(),e.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this.refresh(),e.jqx.aria(this,"aria-disabled",!0)},invalidate:function(){e.jqx.isHidden(this.host)||this._setSize()},refresh:function(e){1!=e&&(this._removeHandlers(),1==this.showArrow?this._arrow.css("display","inherit"):this._arrow.css("display","none"),this._setTheme(),this._setSize(),0==this.disabled&&this._toggle(),this._keyBoard())},render:function(){this.widgetID=this.element.id,this._header&&(this._header.removeClass(this.toThemeProperty("jqx-expander-header-content")),this._header.removeClass(this.toThemeProperty("jqx-expander-header")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded")),this._header.removeClass(this.toThemeProperty("jqx-widget-header")),this._header_text.removeClass(this.toThemeProperty("jqx-expander-header-content")),this._header_text.removeClass(this.toThemeProperty("jqx-expander-header")),this._header_text.removeClass(this.toThemeProperty("jqx-widget-header")),this._header_text.removeClass(this.toThemeProperty("jqx-expander-header-expanded")),this._header.attr("tabindex",null),this._content.attr("tabindex",null),this._header.css("margin-top",0),this._header[0].innerHTML=this._header_text[0].innerHTML,"bottom"==this.headerPosition&&(this._header.detach(),this.host.prepend(this._header))),this._header_temp=this.host.children("div:eq(0)"),this._header_temp.wrap("<div></div>"),this._header=this.host.children("div:eq(0)"),this._content=this.host.children("div:eq(1)"),"bottom"==this.headerPosition&&(this._header.detach(),this.host.append(this._header)),this._header_text=this._header.children("div:eq(0)");var t=this._header_text[0].className;this._header.addClass(t),this._header_text.removeClass(),this._header_text.addClass(this.rtl?this.toThemeProperty("jqx-expander-header-content-rtl"):this.toThemeProperty("jqx-expander-header-content")),this._header.append("<div></div>"),this._arrow=this._header.children("div:eq(1)"),1==this.showArrow?this._arrow.css("display","inherit"):this._arrow.css("display","none"),this.tI=-1,void 0==this._header.attr("tabindex")&&(this.tI++,this._header.attr("tabindex",this.tI)),void 0==this._content.attr("tabindex")&&(this.tI++,this._content.attr("tabindex",this.tI)),this._setTheme(),this._checkContent();var i="Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content.";try{if(0==this._header.length||0==this._content.length||this.host.children().length<2||this.host.children().length>2)throw i}catch(s){alert(s)}this._expandChecker,this._initialized,1==this.expanded?("top"==this.headerPosition?(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded-top"))),this.initContent&&(this._setSize(),this.initContent()),this._initialized=!0,this._expandChecker=0):0==this.expanded&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),"top"==this.headerPosition?(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"))):"bottom"==this.headerPosition&&(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom"))),this._initialized=!1,this._expandChecker=1,this._content.css("display","none")),this._setSize(),0==this.disabled&&this._toggle(),this._keyBoard();var r=this;e.jqx.utilities.resize(this.host,function(){r.invalidate()})},destroy:function(){this.removeHandler(e(window),"resize.expander"+this.widgetID),this.host.remove(),e(this.element).removeData("jqxExpander")},focus:function(){try{0==this.disabled&&this._header.focus()}catch(e){}},propertyChangedHandler:function(e,t,i,s){"expanded"==t?1==s&&0==i?(this.expanded=!1,this.expand()):0==s&&1==i&&(this.expanded=!0,this.collapse()):this.refresh()},_raiseEvent:function(t,i){var s=this.events[t],r=new e.Event(s);r.owner=this,r.args=i;try{var n=this.host.trigger(r)}catch(a){}return n},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){this.host.width(this.width),this.host.height(this.height),this._header.height("auto"),this._header.css("min-height",this._arrow.height());var e=this.arrowPosition;if(this.rtl)switch(e){case"left":e="right";break;case"right":e="left"}if("right"==e?(this._header_text.css({"float":"left","margin-left":"0px"}),this._arrow.css({"float":"right",position:"relative"})):"left"==e&&("auto"==this.width?(this._header_text.css({"float":"left","margin-left":"17px"}),this._arrow.css({"float":"left",position:"absolute"})):(this._header_text.css({"float":"right","margin-left":"0px"}),this._arrow.css({"float":"left",position:"relative"}))),this._arrow.css("margin-top",this._header_text.height()/2-this._arrow.height()/2),"auto"==this.height)this._content.height("auto"),this._contentHeight=this._content.height();else{this._content.height("auto");var t=Math.round(this.host.height())-Math.round(this._header.outerHeight())-1;0>t&&(t=0),this._contentHeight||(this._contentHeight=this._content.height()),t!=this._contentHeight?(this._content.height(t),this._contentHeight=Math.round(this._content.outerHeight())):this._content.height(this._contentHeight)}},_toggle:function(){var t=this;if(0==this._isTouchDevice)switch(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){t._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){t._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}else{if("none"==this.toggleMode)return;this.addHandler(this._header,e.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){t._animate()})}},_animate:function(){1==this.expanded?(this.collapse(),this._header.addClass(this.toThemeProperty("jqx-fill-state-hover")),this._header.addClass(this.toThemeProperty("jqx-expander-header-hover")),"top"==this.headerPosition?(this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-up-hover")))):(this.expand(),this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-hover")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-up-hover"))))},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID),this.removeHandler(this._header,"dblclick.expander"+this.widgetID),this.removeHandler(this._header,"mouseenter.expander"+this.widgetID),this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var e=this;this.host.addClass(this.toThemeProperty("jqx-widget")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),1==this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),0==this.disabled?(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.expanded?(this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._header.addClass(this.toThemeProperty("jqx-expander-header-expanded"))):(this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))),this._hovered=!1,e._isTouchDevice||(this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){e._hovered=!0,1==e._expandChecker&&(e._header.removeClass(e.toThemeProperty("jqx-fill-state-normal")),e._header.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._header.addClass(e.toThemeProperty("jqx-fill-state-hover")),e._header.addClass(e.toThemeProperty("jqx-expander-header-hover")),"top"==e.headerPosition?(e._arrow.addClass(e.expanded?e.toThemeProperty("jqx-icon-arrow-up-hover"):e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-top-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-down-hover"))):"bottom"==e.headerPosition&&(e.expanded&&e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-up-hover"))))}),this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){e._hovered=!1,e._header.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._header.removeClass(e.toThemeProperty("jqx-expander-header-hover")),"top"==e.headerPosition?(e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-top-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-down-hover"))):"bottom"==e.headerPosition&&(e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-up-hover"))),e._header.addClass(1==e._expandChecker?e.toThemeProperty("jqx-fill-state-normal"):e.toThemeProperty("jqx-fill-state-pressed"))}))):(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))),this.host.addClass(this.toThemeProperty("jqx-expander")),this._header.addClass(this.toThemeProperty("jqx-expander-header")),this._content.addClass(this.toThemeProperty("jqx-expander-content")),"top"==this.headerPosition?this._content.addClass(this.toThemeProperty("jqx-expander-content-bottom")):"bottom"==this.headerPosition&&this._content.addClass(this.toThemeProperty("jqx-expander-content-top")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._content.html()),1==this._cntntEmpty?(this._content.height(0),this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))):(this._content.height(this._contentHeight),this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_keyBoard:function(){var e=this;this._focus(),this.addHandler(this.host,"keydown.expander"+this.widgetID,function(t){var i=!1;if((1==e.focusedH||1==e.focusedC)&&0==e.disabled){switch(t.keyCode){case 13:case 32:"none"!=e.toggleMode&&(1==e.focusedH&&e._animate(),i=!0);break;case 38:1==t.ctrlKey&&1==e.focusedC&&e._header.focus(),i=!0;break;case 40:1==t.ctrlKey&&1==e.focusedH&&e._content.focus(),i=!0}return!0}return i&&t.preventDefault&&t.preventDefault(),!i})},_focus:function(){var t=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){t.focusedH=!0,e.jqx.aria(t._header,"aria-selected",!0),t._header.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header,"blur.expander"+this.widgetID,function(){t.focusedH=!1,e.jqx.aria(t._header,"aria-selected",!1),t._header.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header_text,"focus.expander"+this.widgetID,function(){t._header.focus()}),this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){t._header.focus()}),this.addHandler(this._content,"focus.expander"+this.widgetID,function(){t.focusedC=!0,t._content.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._content,"blur.expander"+this.widgetID,function(){t.focusedC=!1,t._content.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})}})}(jqxBaseFramework),function(){}.call(this),function(){}.call(this),function(){$.fn.acciones=function(){return $("#borrar").click(function(){return $.fn.borrar()}),$("#nuevo").click(function(){return $.fn.nuevo()}),$("#editar").click(function(){return $.fn.editar()}),"true"===$("#con_arbol").val()?($("#copiar").show(),$("#pegar").show(),$("#copiar").click(function(){return $.fn.copiar()}),$("#pegar").click(function(){return $.fn.pegar()})):($("#copiar").hide(),$("#pegar").hide()),$("#importar").click(function(){return $.fn.cerrarMenu()})},$.fn.borrar=function(){return confirm("Quiere borrar "+$.fn.getSelected().length+" elementos ?")?$.ajax({type:"POST",url:$("#controller_full_path").val()+"/borrar_seleccion",data:{ids:$.fn.getSelected()},dataType:"script",complete:function(){return $("#jqxgrid").jqxGrid("updatebounddata"),$("#jqxgrid").jqxGrid("clearselection")}}):void 0},$.fn.nuevo=function(){var e;return e=""===$("#nodo_actual").val()?"":"?nodo="+$("#nodo_actual").val(),$(location).attr("href",$("#controller_full_path").val()+"/new"+e)},$.fn.editar=function(){var e,t;return e=$.fn.getSelected(),t=$("#nodo_actual").val(),$(location).attr("href",$("#controller_full_path").val()+"/editar_multiples?items="+e+"&nodo="+t)},$.fn.copiar=function(){return $("#items_seleccionados").val($.fn.getSelected())},$.fn.pegar=function(){return $.ajax({type:"POST",url:$("#root_path").val()+"rba/mover_items",data:{controller_path:$("#controller_path").val(),nodo:$("#nodo_actual").val(),items:$("#items_seleccionados").val()},dataType:"script",complete:function(){return $("#jqxgrid").jqxGrid("updatebounddata"),$("#jqxgrid").jqxGrid("clearselection"),$("#items_seleccionados").val("")}})},$.fn.abrirFiltros=function(){return $("#filtro").foundation("reveal","open")},$.fn.editaRow=function(e){var t,i;return"/rco/registros"===$("#controller_full_path").val()?(t=$("#jqxgrid").jqxGrid("getrowdata",e).id_padre,i="/rco/asientos/"+t+"/edit"):(t=$("#jqxgrid").jqxGrid("getrowdata",e).id,i=$("#controller_full_path").val()+"/"+t+"/edit"),$(location).attr("href",i)},$.fn.getSelected=function(){var e,t;return e=$("#jqxgrid").jqxGrid("getselectedrowindexes"),t=[],$.each(e,function(i){return t.push($("#jqxgrid").jqxGrid("getrowdata",e[i]).id)}),t},$.fn.cerrarMenu=function(){return $(".has-dropdown").removeClass("hover")}}.call(this),function(){$.fn.atajos=function(){return $(document).keyup(function(e){if(e.preventDefault(),e.stopPropagation(),e.ctrlKey&&e.altKey)switch(e.keyCode){case 65:return $.fn.nuevo();case 69:return $.fn.editar();case 68:return $.fn.borrar();case 67:return $.fn.copiar();case 86:return $.fn.pegar();case 70:return $.fn.abrirFiltros()}})}}.call(this),function(){$.fn.gridPrepDatos=function(e,t,i,s){var r,n,a,o,l,d,h,c,u,p;if("index"===$("#action_name").val()){for(r=[],d=function(e){return r.push($.isArray(e)?{name:e[0],type:e[1]}:{name:e})},h=0,u=e.length;u>h;h++)o=e[h],d(o);for(n=[],c=0,p=t.length;p>c;c++)a=t[c],l=void 0!==a[2]?a[2]:a[0],n.push({text:l,datafield:a[0].toLowerCase(),width:a[1]});return $.fn.gridInit(r,n,i,s)}}}.call(this),function(){$.fn.gridInit=function(e,t,i,s){var r,n,a,o,l;return a="true"===$("#con_arbol").val()?void 0===i||""===i?"?nodo=raiz":"?nodo="+i:void 0===i||""===i?"":i,$("#cargando").css("display","block"),$("#jqxgrid").jqxGrid("destroy"),$(".panelGrid").append('<div id="jqxgrid"></div>'),l=$("#controller_full_path").val()+".json"+a,o={datatype:"json",datafields:e,id:"id",url:l},r=new $.jqx.dataAdapter(o),n={height:"100%",source:r,ready:function(){return $("#jqxgrid").jqxGrid("localizestrings",$.fn.gridLoc()),$("#gridpagerlistjqxgrid").css("width","auto"),$("#cargando").css("display","none"),$("#jqxgrid").on("groupschanged",function(){return $("#jqxgrid").jqxGrid("sortby",e[0].name,"asc")}),$("#jqxgrid").on("rowdoubleclick",function(e){var t,i;return t=e.args,i=t.rowindex,$.fn.editaRow(i)})},columnsresize:!0,columns:t,width:"100%",groupable:!0,sortable:!0,selectionmode:"multiplerowsextended",filterable:!0,pageable:!0,pagesizeoptions:["25","50","100"],pagesize:25,groupsexpandedbydefault:!0},$("#jqxgrid").jqxGrid(n),void 0!==s?$("#jqxgrid").on("bindingcomplete",function(){return $("#jqxgrid").jqxGrid("addgroup",s),$("#jqxgrid").jqxGrid("sortby",e[0].name,"asc")}):void 0}}.call(this),function(){$.fn.arbolInit=function(e){var t;return void 0===e&&(e=$("#controller_path").val()),$("#arbol_actual").val(e),t=$.getJSON($("#root_path").val()+"rba/nodos.json?modelo="+e,function(e){var t,i,s;return s={datatype:"json",datafields:[{name:"id"},{name:"padre_id"},{name:"nombre"}],id:"id",localdata:e},t=new $.jqx.dataAdapter(s),t.dataBind(),i=t.getRecordsHierarchy("id","padre_id","items",[{name:"nombre",map:"label"}]),$("#jqxTree").jqxTree({source:i,width:"100%"}),$("#jqxTree").jqxTree("expandAll")}),$("#jqxTree").on("dragEnd",function(e){var t,i;return t=e.args.id,i=e.args.value,$.ajax({type:"PATCH",url:$("#root_path").val()+"rba/nodos/"+$("#jqxTree").jqxTree("getSelectedItem").id,data:{rba_nodo:{padre_id:$("#jqxTree").jqxTree("getSelectedItem").parentElement.id},es_drop:!0},dataType:"json"}),$("#jqxgrid").jqxGrid("updatebounddata")}),$("#jqxTree").on("select",function(e){var t,i,s;return t=e.args,i=$("#jqxTree").jqxTree("getItem",t.element),s=i.label,$.fn.gridRequest(i.id),$("#nodo_actual").val(i.id)})}}.call(this),function(){var chequearBisiesto;$.fn.activarCalcular=function(){return $("input:text").focusout(function(){var e;return e=$.fn.calcular($(this).val()),"error"===e?(alert("revisar calculo"),$(this).val("=").focus()):($(this).val(e),$(this).change())})},$.fn.calcular=function(texto){var fx,rta;if(void 0!==texto&&null!==texto.match(/^[=+]/))try{fx=texto.substring(1,texto.length),rta=eval(fx)}catch(_error){rta="error"}else rta=texto;return rta},$.fn.activarFechaAutocompletado=function(){return $(":input[type=date]").focusout(function(){var e,t,i,s;return e=$(this).val().split("-"),t=parseInt(e[2]),i=parseInt(e[1]),s=parseInt(e[0]),e=$.fn.armaFechas(t,i,s),$(this).val(e)
})},$.fn.completaHoy=function(){var e,t,i,s,r;return""===$(":input[type=date]").val()?(i=new Date,e=i.getDate(),s=i.getMonth()+1,r=i.getFullYear(),t=$.fn.armaFechas(e,s,r),$(":input[type=date]").val(t)):void 0},$.fn.primerDiaDelMesActual=function(){var e,t,i,s,r;return i=new Date,e=1,s=i.getMonth()+1,r=i.getFullYear(),t=$.fn.armaFechas(e,s,r)},$.fn.ultimoDiaDelMesActual=function(){var e,t,i,s,r;return i=new Date,r=i.getFullYear(),s=i.getMonth()+1,e=-1!==[1,3,5,7,8,10,12].indexOf(s)?31:2===s?chequearBisiesto(r)?29:28:30,t=$.fn.armaFechas(e,s,r)},chequearBisiesto=function(e){return e%4===0?e%100===0&e%400!==0?!1:!0:!1},$.fn.armaFechas=function(e,t,i){var s;return e=10>e?"0"+e.toString():e.toString(),t=10>t?"0"+t.toString():t.toString(),i=100>i?(i+2e3).toString():i.toString(),s=i+"-"+t+"-"+e},$.fn.dynamicForm=function(e,t){var i,s,r,n,a,o,l;for(s=function(e){return $.isArray(e)?($("#"+e[0]).show(),$("#"+e[0]).addClass(e[1])):$("#"+e).show()},r=0,a=e.length;a>r;r++)i=e[r],s(i);for(l=[],n=0,o=t.length;o>n;n++)i=t[n],l.push(function(e){return $.isArray(e)?($("#"+e[0]).hide(),$("#"+e[0]).removeClass(e[1])):$("#"+e).hide()}(i));return l},$.fn.agregarFiltros=function(e){var t,i,s,r;for(r=[],i=0,s=e.length;s>i;i++)t=e[i],r.push(function(e){switch(e[1]){case"select":return $("#filtroRow").append('<div class="small-5 columns"> <span class="prefix">'+e[0].split("/")[1]+"</span> </div>"),$.ajax({type:"GET",url:$("#root_path").val()+e[0],data:{filtro_valor:e[2]},dataType:"script"});case"checkbox":return $("#filtroRow").append('<div class="small-5 columns"> <span class="prefix">'+e[0]+"</span> </div>"),$("#filtroRow").append('<div class="small-7 columns"> <input type="'+e[1]+'" id="'+e[0]+'" name="'+e[0]+'" tabindex="1" value="1"/> </div>');default:return $("#filtroRow").append('<div class="small-5 columns"> <span class="prefix">'+e[0]+"</span> </div>"),$("#filtroRow").append('<div class="small-7 columns"> <input type="'+e[1]+'" id="'+e[0]+'" name="'+e[0]+'" tabindex="1" value="'+e[2]+'"/> </div>')}}(t));return r}}.call(this),function(){$.fn.ocultarComunicados=function(){return $(".comunicado").delay(3e3).fadeOut()}}.call(this),function(){var e;e=function(){return $(this).foundation(),"true"===$("#esForm").val()&&($.fn.activarCalcular(),$.fn.activarFechaAutocompletado(),$.fn.completaHoy(),$("input").inputmask()),"index"===$("#action_name").val()&&($.fn.acciones(),$.fn.atajos()),"new"===$("#action_name").val()&&0!==$('input[id$="estado"]').length?$('input[id$="estado"]').prop("checked",!0).prop("tabindex",-1):void 0},$(document).ready(e),$(document).on("page:load",e)}.call(this),function(){var e;e=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){return this.click_test_action=function(e){return function(t){return e.test_active_click(t)}}(this),this.activate_action=function(e){return function(t){return e.activate_field(t)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){if(this.is_multiple){if(!this.active_field)return setTimeout(function(e){return function(){return e.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(e){return function(){return e.blur_test()}}(this),100))},e.prototype.results_option_build=function(e){var t,i,s,r,n;for(t="",n=this.results_data,s=0,r=n.length;r>s;s++)i=n[s],t+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return t},e.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=document.createElement("li"),i.className=t.join(" "),i.style.cssText=e.style,i.setAttribute("data-option-array-index",e.array_index),i.innerHTML=e.search_text,this.outerHTML(i)):""},e.prototype.result_add_group=function(e){var t;return(e.search_match||e.group_match)&&e.active_options>0?(t=document.createElement("li"),t.className="group-result",t.innerHTML=e.search_text,this.outerHTML(t)):""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.reset_single_select_options=function(){var e,t,i,s,r;for(s=this.results_data,r=[],t=0,i=s.length;i>t;t++)e=s[t],r.push(e.selected?e.selected=!1:void 0);return r},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,i,s,r,n,a,o,l,d,h,c,u;for(this.no_results_clear(),r=0,a=this.get_search_text(),e=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=this.search_contains?"":"^",i=new RegExp(s+e,"i"),d=new RegExp(e,"i"),u=this.results_data,h=0,c=u.length;c>h;h++)t=u[h],t.search_match=!1,n=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(n=this.results_data[t.group_array_index],0===n.active_options&&n.search_match&&(r+=1),n.active_options+=1),(!t.group||this.group_search)&&(t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,i),t.search_match&&!t.group&&(r+=1),t.search_match?(a.length&&(o=t.search_text.search(d),l=t.search_text.substr(0,o+a.length)+"</em>"+t.search_text.substr(o+a.length),t.search_text=l.substr(0,o)+"<em>"+l.substr(o)),null!=n&&(n.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>r&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var i,s,r,n;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(s=e.replace(/\[|\]/g,"").split(" "),s.length))for(r=0,n=s.length;n>r;r++)if(i=s[r],t.test(i))return!0},e.prototype.choices_count=function(){var e,t,i,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,s=this.form_field.options,t=0,i=s.length;i>t;t++)e=s[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(){return setTimeout(function(e){return function(){return e.results_search()}}(this),50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),window.AbstractChosen=e}.call(this),function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,s,r,n,a;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),n=e.childNodes,a=[],s=0,r=n.length;r>s;s++)i=n[s],a.push(this.add_option(i,t,e.disabled));return a},e.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,i;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(i,function(e){return t[e]||"&amp;"})):e},e}(),e.select_to_array=function(t){var i,s,r,n,a;for(s=new e,a=t.childNodes,r=0,n=a.length;n>r;r++)i=a[r],s.add_node(i);return s.parsed},window.SelectParser=e}.call(this),function(){var e,t,i={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};e=jQuery,e.fn.extend({chosen:function(i){return AbstractChosen.browser_is_supported()?this.each(function(){var s,r;s=e(this),r=s.data("chosen"),"destroy"===i&&r?r.destroy():r||s.data("chosen",new t(this,i))}):this}}),t=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var t,i;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",i),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){return this.container.bind("mousedown.chosen",function(e){return function(t){e.container_mousedown(t)}}(this)),this.container.bind("mouseup.chosen",function(e){return function(t){e.container_mouseup(t)}}(this)),this.container.bind("mouseenter.chosen",function(e){return function(t){e.mouse_enter(t)}}(this)),this.container.bind("mouseleave.chosen",function(e){return function(t){e.mouse_leave(t)}}(this)),this.search_results.bind("mouseup.chosen",function(e){return function(t){e.search_results_mouseup(t)}}(this)),this.search_results.bind("mouseover.chosen",function(e){return function(t){e.search_results_mouseover(t)}}(this)),this.search_results.bind("mouseout.chosen",function(e){return function(t){e.search_results_mouseout(t)}}(this)),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){return function(t){e.search_results_mousewheel(t)}}(this)),this.search_results.bind("touchstart.chosen",function(e){return function(t){e.search_results_touchstart(t)}}(this)),this.search_results.bind("touchmove.chosen",function(e){return function(t){e.search_results_touchmove(t)}}(this)),this.search_results.bind("touchend.chosen",function(e){return function(t){e.search_results_touchend(t)}}(this)),this.form_field_jq.bind("chosen:updated.chosen",function(e){return function(t){e.results_update_field(t)}}(this)),this.form_field_jq.bind("chosen:activate.chosen",function(e){return function(t){e.activate_field(t)}}(this)),this.form_field_jq.bind("chosen:open.chosen",function(e){return function(t){e.container_mousedown(t)}}(this)),this.form_field_jq.bind("chosen:close.chosen",function(e){return function(t){e.input_blur(t)}}(this)),this.search_field.bind("blur.chosen",function(e){return function(t){e.input_blur(t)}}(this)),this.search_field.bind("keyup.chosen",function(e){return function(t){e.keyup_checker(t)}}(this)),this.search_field.bind("keydown.chosen",function(e){return function(t){e.keydown_checker(t)}}(this)),this.search_field.bind("focus.chosen",function(e){return function(t){e.input_focus(t)}}(this)),this.search_field.bind("cut.chosen",function(e){return function(t){e.clipboard_event_checker(t)}}(this)),this.search_field.bind("paste.chosen",function(e){return function(t){e.clipboard_event_checker(t)}}(this)),this.is_multiple?this.search_choices.bind("click.chosen",function(e){return function(t){e.choices_click(t)}}(this)):this.container.bind("click.chosen",function(e){e.preventDefault()})},i.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},i.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(t){var i;return i=e(t.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(e){var t,i,s,r,n;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),n=this.search_results.scrollTop(),r=s+n,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=r)return this.search_results.scrollTop(t-s>0?t-s:0);if(n>i)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(e){return this.search_results.html(e)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},i.prototype.set_label_behavior=function(){return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}}(this)):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},i.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(t){var i,s;return i=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?i.addClass("search-choice-disabled"):(s=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),s.bind("click.chosen",function(e){return function(t){return e.choice_destroy_link_click(t)}}(this)),i.append(s)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},i.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(e){var t,i;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),i=this.results_data[t[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},i.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},i.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},i.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},i.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var t,i,s,r,n,a,o,l,d;if(this.is_multiple){for(s=0,o=0,n="position:absolute; left: -1000px; top: -1000px; display:none;",a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,d=a.length;d>l;l++)r=a[l],n+=r+":"+this.search_field.css(r)+";";return t=e("<div />",{style:n}),t.text(this.search_field.val()),e("body").append(t),o=t.width()+25,t.remove(),i=this.container.outerWidth(),o>i-10&&(o=i-10),this.search_field.css({width:o+"px"})}},i}(AbstractChosen)}.call(this),function(){var e;e=function(){return"true"===$("#esForm").val()?$.fn.initChosen():void 0},$.fn.initChosen=function(){return $("select").chosen({allow_single_deselect:!0,no_results_text:"Sin resultados",width:"100%"})},$.fn.updateChosen=function(e){return e.trigger("chosen:updated")},$(document).ready(e),$(document).on("page:load",e)}.call(this),function(e){if(void 0===e.fn.inputmask){var t=function(e){var t=document.createElement("input");e="on"+e;var i=e in t;return i||(t.setAttribute(e,"return;"),i="function"==typeof t[e]),i},i=function(t,s,r){return(t=r.aliases[t])?(t.alias&&i(t.alias,void 0,r),e.extend(!0,r,t),e.extend(!0,r,s),!0):!1},s=function(t){function i(e){function i(e,t,i,s){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=i||!1,this.isAlternator=s||!1,this.quantifier={min:1,max:1}}function s(e,i,s){var r=t.definitions[i],n=0==e.matches.length;if(s=void 0!=s?s:e.matches.length,r&&!a){for(var o=r.prevalidator,l=o?o.length:0,d=1;d<r.cardinality;d++){var h=l>=d?o[d-1]:[],c=h.validator,h=h.cardinality;e.matches.splice(s++,0,{fn:c?"string"==typeof c?RegExp(c):new function(){this.test=c}:/./,cardinality:h?h:1,optionality:e.isOptional,newBlockMarker:n,casing:r.casing,def:r.definitionSymbol||i})}e.matches.splice(s++,0,{fn:r.validator?"string"==typeof r.validator?RegExp(r.validator):new function(){this.test=r.validator}:/./,cardinality:r.cardinality,optionality:e.isOptional,newBlockMarker:n,casing:r.casing,def:r.definitionSymbol||i})}else e.matches.splice(s++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:n,casing:null,def:i}),a=!1}for(var r,n=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,a=!1,o=new i,l=[],d=[];r=n.exec(e);)switch(r=r[0],r.charAt(0)){case t.optionalmarker.end:case t.groupmarker.end:var h=l.pop();0<l.length?l[l.length-1].matches.push(h):o.matches.push(h);break;case t.optionalmarker.start:l.push(new i(!1,!0));break;case t.groupmarker.start:l.push(new i(!0));break;case t.quantifiermarker.start:h=new i(!1,!1,!0),r=r.replace(/[{}]/g,"");var c=r.split(",");if(r=isNaN(c[0])?c[0]:parseInt(c[0]),c=1==c.length?r:isNaN(c[1])?c[1]:parseInt(c[1]),("*"==c||"+"==c)&&(r="*"==c?0:1),h.quantifier={min:r,max:c},0<l.length){if(c=l[l.length-1].matches,r=c.pop(),!r.isGroup){var u=new i(!0);u.matches.push(r),r=u}c.push(r),c.push(h)}else r=o.matches.pop(),r.isGroup||(u=new i(!0),u.matches.push(r),r=u),o.matches.push(r),o.matches.push(h);break;case t.escapeChar:a=!0;break;case t.alternatormarker:break;default:0<l.length?s(l[l.length-1],r):(0<o.matches.length&&(h=o.matches[o.matches.length-1],h.isGroup&&(h.isGroup=!1,s(h,t.groupmarker.start,0),s(h,t.groupmarker.end))),s(o,r))}return 0<o.matches.length&&(h=o.matches[o.matches.length-1],h.isGroup&&(h.isGroup=!1,s(h,t.groupmarker.start,0),s(h,t.groupmarker.end)),d.push(o)),d}function s(s,r){if(t.numericInput&&!0!==t.multi){s=s.split("").reverse();for(var n=0;n<s.length;n++)s[n]==t.optionalmarker.start?s[n]=t.optionalmarker.end:s[n]==t.optionalmarker.end?s[n]=t.optionalmarker.start:s[n]==t.groupmarker.start?s[n]=t.groupmarker.end:s[n]==t.groupmarker.end&&(s[n]=t.groupmarker.start);s=s.join("")}return void 0!=s&&""!=s?((0<t.repeat||"*"==t.repeat||"+"==t.repeat)&&(s=t.groupmarker.start+s+t.groupmarker.end+t.quantifiermarker.start+("*"==t.repeat?0:"+"==t.repeat?1:t.repeat)+","+t.repeat+t.quantifiermarker.end),void 0==e.inputmask.masksCache[s]&&(e.inputmask.masksCache[s]={mask:s,maskToken:i(s),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:r}),e.extend(!0,{},e.inputmask.masksCache[s])):void 0
}var r=[];return e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)?e.each(t.mask,function(e,t){r.push(void 0!=t.mask?s(t.mask.toString(),t):s(t.toString()))}):(1==t.mask.length&&0==t.greedy&&0!=t.repeat&&(t.placeholder=""),r=void 0!=t.mask.mask?s(t.mask.mask.toString(),t.mask):s(t.mask.toString())),r},r="function"==typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():10<=new Function("/*@cc_on return @_jscript_version; @*/")(),n=navigator.userAgent,a=null!==n.match(/iphone/i),o=null!==n.match(/android.*safari.*/i),l=null!==n.match(/android.*chrome.*/i),d=null!==n.match(/android.*firefox.*/i),h=/Kindle/i.test(n)||/Silk/i.test(n)||/KFTT/i.test(n)||/KFOT/i.test(n)||/KFJWA/i.test(n)||/KFJWI/i.test(n)||/KFSOWI/i.test(n)||/KFTHWA/i.test(n)||/KFTHWI/i.test(n)||/KFAPWA/i.test(n)||/KFAPWI/i.test(n),c=t("paste")?"paste":t("input")?"input":"propertychange",u=function(t,i,s){function n(e,t,r){t=t||0;var n,a,o=[],l=0;do{if(!0===e&&i.validPositions[l]){var d=i.validPositions[l];a=d.match,n=d.locator.slice(),o.push(null==a.fn?a.def:!0===r?d.input:s.placeholder.charAt(l%s.placeholder.length))}else n=t>l?b(l,n,l-1)[0]:m(l,n,l-1),a=n.match,n=n.locator.slice(),o.push(null==a.fn?a.def:s.placeholder.charAt(l%s.placeholder.length));l++}while((void 0==X||X>l-1)&&null!=a.fn||null==a.fn&&""!=a.def||t>=l);return o.pop(),o}function u(e){var t=i;t.buffer=void 0,t.tests={},!0!==e&&(t._buffer=void 0,t.validPositions={},t.p=-1)}function p(t){var r=i,n=-1,a=r.validPositions;if(e.isFunction(s.getLastValidPosition))n=s.getLastValidPosition.call(K,r,t,s);else{void 0==t&&(t=-1);var o,r=n;for(o in a){var l=parseInt(o);(-1==t||null!=a[l].match.fn)&&(t>l&&(r=l),l>=t&&(n=l))}n=t-r>1||t>n?r:n}return n}function f(t,r,n){if(s.insertMode&&void 0!=i.validPositions[t]&&void 0==n){n=e.extend(!0,{},i.validPositions);var a,o=p();for(a=t;o>=a;a++)delete i.validPositions[a];for(i.validPositions[t]=r,r=!0,a=t;o>=a;a++){if(t=n[a],void 0!=t){var l=null==t.match.fn?a+1:I(a);r=v(l,t.match.def)?r&&!1!==j(l,t.input,!0,!0):!1}if(!r)break}if(!r)return i.validPositions=e.extend(!0,{},n),!1}else i.validPositions[t]=r;return!0}function m(e,t,i){e=b(e,t,i);var r;for(t=0;t<e.length&&(r=e[t],!s.greedy&&(!r.match||!1!==r.match.optionality&&!1!==r.match.newBlockMarker||!0===r.match.optionalQuantifier));t++);return r}function g(e){return i.validPositions[e]?i.validPositions[e].match:b(e)[0].match}function v(e,t){for(var i=!1,s=b(e),r=0;r<s.length;r++)if(s[r].match&&s[r].match.def==t){i=!0;break}return i}function b(t,r,n){function a(i,r,n,o){function c(n,o,p){if(l==t&&void 0==n.matches)return d.push({match:n,locator:o.reverse()}),!0;if(void 0!=n.matches){if(n.isGroup&&!0!==p){if(n=c(i.matches[u+1],o))return!0}else if(n.isOptional){var f=n;(n=a(n,r,o,p))&&(n=d[d.length-1].match,(n=0==e.inArray(n,f.matches))&&(h=!0),l=t)}else if(!n.isAlternator)if(n.isQuantifier&&!0!==p)for(f=n,s.greedy=s.greedy&&isFinite(f.quantifier.max),p=0<r.length&&!0!==p?r.shift():0;p<(isNaN(f.quantifier.max)?p+1:f.quantifier.max)&&t>=l;p++){var m=i.matches[e.inArray(f,i.matches)-1];if(n=c(m,[p].concat(o),!0)){if(n=d[d.length-1].match,n.optionalQuantifier=p>f.quantifier.min-1,n=0==e.inArray(n,m.matches)){if(p>f.quantifier.min-1){h=!0,l=t;break}return!0}return!0}}else if(n=a(n,r,o,p))return!0}else l++}for(var u=0<r.length?r.shift():0;u<i.matches.length;u++)if(!0!==i.matches[u].isQuantifier){var p=c(i.matches[u],[u].concat(n),o);if(p&&l==t)return p;if(l>t)break}}var o=i.maskToken,l=r?n:0;n=r||[0];var d=[],h=!1;if(void 0==r){r=t-1;for(var c;void 0==(c=i.validPositions[r])&&r>-1;)r--;if(void 0!=c&&r>-1)l=r,n=c.locator.slice();else{for(r=t-1;void 0==(c=i.tests[r])&&r>-1;)r--;void 0!=c&&r>-1&&(l=r,n=c[0].locator.slice())}}for(r=n.shift();r<o.length&&!(a(o[r],n,[r])&&l==t||l>t);r++);return(0==d.length||h)&&d.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),i.tests[t]=d}function x(){return void 0==i._buffer&&(i._buffer=n(!1,1)),i._buffer}function w(){return void 0==i.buffer&&(i.buffer=n(!0,p(),!0)),i.buffer}function y(e,t){for(var i=w().slice(),r=e;t>r;r++)i[r]!=S(r)&&i[r]!=s.skipOptionalPartCharacter&&j(r,i[r],!0,!0)}function _(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}function j(t,r,n,a){function o(t,r,n,a){var o=!1;return e.each(b(t),function(l,d){for(var h=d.match,c=r?1:0,m="",g=w(),v=h.cardinality;v>c;v--)m+=void 0==i.validPositions[t-(v-1)]?S(t-(v-1)):i.validPositions[t-(v-1)].input;if(r&&(m+=r),o=null!=h.fn?h.fn.test(m,g,t,n,s):r!=h.def&&r!=s.skipOptionalPartCharacter||""==h.def?!1:{c:h.def,pos:t},!1!==o){if(c=void 0!=o.c?o.c:r,c=c==s.skipOptionalPartCharacter&&null===h.fn?h.def:c,m=t,o.refreshFromBuffer){if(m=o.refreshFromBuffer,n=!0,!0===m?(i.validPositions={},i.tests={},y(0,w().length)):y(m.start,m.end),void 0==o.pos&&void 0==o.c)return o.pos=p(),!1;m=void 0!=o.pos?o.pos:t,d=b(m)[0]}else!0!==o&&o.pos!=t&&(m=o.pos,y(t,m),d=b(m)[0]);return l>0&&u(!0),f(m,e.extend({},d,{input:_(c,h)}),a)||(o=!1),!1}}),o}n=!0===n;var l=o(t,r,n,a);if(!n&&!1===l){var d=i.validPositions[t];if(!d||null!=d.match.fn||d.match.def!=r&&r!=s.skipOptionalPartCharacter){if((s.insertMode||void 0==i.validPositions[I(t)])&&!q(t))for(var d=t+1,h=I(t);h>=d;d++)if(l=o(d,r,n,a),!1!==l){t=d;break}}else l={caret:I(t)}}return!0===l&&(l={pos:t}),l}function q(e){return e=g(e),null!=e.fn?e.fn:!1}function k(){var e;if(X=K.prop("maxLength"),-1==X&&(X=void 0),0==s.greedy){var t;t=p(),e=i.validPositions[t];var r=void 0!=e?e.locator.slice():void 0;for(t+=1;void 0==e||null!=e.match.fn||null==e.match.fn&&""!=e.match.def;t++)e=m(t,r,t-1),r=e.locator.slice();e=t}else e=w().length;return void 0==X||X>e?e:X}function I(e){var t=k();if(e>=t)return t;for(;++e<t&&!q(e)&&(!0!==s.nojumps||s.nojumpsThreshold>e););return e}function T(e){if(0>=e)return 0;for(;0<--e&&!q(e););return e}function C(e,t,i){e._valueSet(t.join("")),void 0!=i&&z(e,i)}function S(e,t){return t=t||g(e),null==t.fn?t.def:s.placeholder.charAt(e%s.placeholder.length)}function D(t,s,r,n,a){n=void 0!=n?n.slice():E(t._valueGet()).split(""),u(),s&&t._valueSet(""),e.each(n,function(s,n){if(!0===a){var o=i.p,o=-1==o?o:T(o),l=-1==o?s:I(o);-1==e.inArray(n,x().slice(o+1,l))&&W.call(t,void 0,!0,n.charCodeAt(0),!1,r,s)}else W.call(t,void 0,!0,n.charCodeAt(0),!1,r,s),r=r||s>0&&s>i.p}),s&&C(t,w(),e(t).is(":focus")?I(p(0)):void 0)}function P(t){return e.inputmask.escapeRegex.call(this,t)}function E(e){return e.replace(RegExp("("+P(x().join(""))+")*$"),"")}function H(e){var t,s,r=w().slice(),n=p(),a={},o=void 0!=i.validPositions[n]?i.validPositions[n].locator.slice():void 0;for(t=n+1;t<r.length;t++)s=m(t,o,t-1),o=s.locator.slice(),a[t]=s;for(t=r.length-1;t>n&&(s=a[t].match,s.optionality&&r[t]==S(t,s));t--)r.pop();C(e,r)}function B(t,r){if(!t.data("_inputmask")||!0!==r&&t.hasClass("hasDatepicker"))return t[0]._valueGet();var n,a=[],o=i.validPositions;for(n in o)o[n].match&&null!=o[n].match.fn&&a.push(o[n].input);return a=(Y?a.reverse():a).join(""),o=(Y?w().reverse():w()).join(""),e.isFunction(s.onUnMask)?s.onUnMask.call(t,o,a,s):a}function A(e){return!Y||"number"!=typeof e||s.greedy&&""==s.placeholder||(e=w().length-e),e}function z(t,i,r){if(t=t.jquery&&0<t.length?t[0]:t,"number"!=typeof i)return n=e(t).data("_inputmask"),!e(t).is(":visible")&&n&&void 0!=n.caret?(i=n.caret.begin,r=n.caret.end):t.setSelectionRange?(i=t.selectionStart,r=t.selectionEnd):document.selection&&document.selection.createRange&&(t=document.selection.createRange(),i=0-t.duplicate().moveStart("character",-1e5),r=i+t.text.length),i=A(i),r=A(r),{begin:i,end:r};i=A(i),r=A(r),r="number"==typeof r?r:i;var n=e(t).data("_inputmask")||{};n.caret={begin:i,end:r},e(t).data("_inputmask",n),e(t).is(":visible")&&(t.scrollLeft=t.scrollWidth,0==s.insertMode&&i==r&&r++,t.setSelectionRange?(t.selectionStart=i,t.selectionEnd=r):t.createTextRange&&(t=t.createTextRange(),t.collapse(!0),t.moveEnd("character",r),t.moveStart("character",i),t.select()))}function M(t){if(e.isFunction(s.isComplete))return s.isComplete.call(K,t,s);if("*"!=s.repeat){var i=!1,r=T(k());if(p()==r)for(var i=!0,n=0;r>=n;n++){var a=q(n);if(a&&(void 0==t[n]||t[n]==S(n))||!a&&t[n]!=S(n)){i=!1;break}}return i}}function L(t){t=e._data(t).events,e.each(t,function(t,i){e.each(i,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var i=t.handler;t.handler=function(e){return this.readOnly||this.disabled?void e.preventDefault:i.apply(this,arguments)}}})})}function O(t){function i(t){if(void 0==e.valHooks[t]||1!=e.valHooks[t].inputmaskpatch){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},s=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(t){var s=e(t);return s.data("_inputmask")?s.data("_inputmask").opts.autoUnmask?s.inputmask("unmaskedvalue"):(t=i(t),s=(s=s.data("_inputmask").maskset._buffer)?s.join(""):"",t!=s?t:""):i(t)},set:function(t,i){var r=e(t),n=s(t,i);return r.data("_inputmask")&&r.triggerHandler("setvalue.inputmask"),n},inputmaskpatch:!0}}}var s;if(Object.getOwnPropertyDescriptor&&(s=Object.getOwnPropertyDescriptor(t,"value")),s&&s.get){if(!t._valueGet){var r=s.get,n=s.set;t._valueGet=function(){return Y?r.call(this).split("").reverse().join(""):r.call(this)},t._valueSet=function(e){n.call(this,Y?e.split("").reverse().join(""):e)},Object.defineProperty(t,"value",{get:function(){var t=e(this),i=e(this).data("_inputmask");return i?i.opts.autoUnmask?t.inputmask("unmaskedvalue"):r.call(this)!=x().join("")?r.call(this):"":r.call(this)},set:function(t){n.call(this,t),e(this).triggerHandler("setvalue.inputmask")}})}}else document.__lookupGetter__&&t.__lookupGetter__("value")?t._valueGet||(r=t.__lookupGetter__("value"),n=t.__lookupSetter__("value"),t._valueGet=function(){return Y?r.call(this).split("").reverse().join(""):r.call(this)},t._valueSet=function(e){n.call(this,Y?e.split("").reverse().join(""):e)},t.__defineGetter__("value",function(){var t=e(this),i=e(this).data("_inputmask");return i?i.opts.autoUnmask?t.inputmask("unmaskedvalue"):r.call(this)!=x().join("")?r.call(this):"":r.call(this)}),t.__defineSetter__("value",function(t){n.call(this,t),e(this).triggerHandler("setvalue.inputmask")})):(t._valueGet||(t._valueGet=function(){return Y?this.value.split("").reverse().join(""):this.value},t._valueSet=function(e){this.value=Y?e.split("").reverse().join(""):e}),i(t.type))}function N(e,t,r){if(s.numericInput||Y){switch(t){case s.keyCode.BACKSPACE:t=s.keyCode.DELETE;break;case s.keyCode.DELETE:t=s.keyCode.BACKSPACE}Y&&(e=r.end,r.end=r.begin,r.begin=e)}r.begin==r.end?t==s.keyCode.BACKSPACE?r.begin=T(r.begin):t==s.keyCode.DELETE&&r.end++:1!=r.end-r.begin||s.insertMode||t==s.keyCode.BACKSPACE&&r.begin--,e=r.begin;var n=r.end;for(t=e;n>e;e++)delete i.validPositions[e];for(e=n;e<=p();){var n=i.validPositions[e],a=i.validPositions[t];void 0!=n&&void 0==a?(v(t,n.match.def)&&!1!==j(t,n.input,!0)&&(delete i.validPositions[e],e++),t++):e++}for(t=p();t>0&&(void 0==i.validPositions[t]||null==i.validPositions[t].match.fn);)delete i.validPositions[t],t--;u(!0),t=I(-1),i.p=p()<t?t:r.begin}function F(t){Q=!1;var r=this,n=e(r),o=t.keyCode,l=z(r);o==s.keyCode.BACKSPACE||o==s.keyCode.DELETE||a&&127==o||t.ctrlKey&&88==o?(t.preventDefault(),88==o&&(G=w().join("")),N(r,o,l),C(r,w(),i.p),r._valueGet()==x().join("")&&n.trigger("cleared"),s.showTooltip&&n.prop("title",i.mask)):o==s.keyCode.END||o==s.keyCode.PAGE_DOWN?setTimeout(function(){var e=I(p());s.insertMode||e!=k()||t.shiftKey||e--,z(r,t.shiftKey?l.begin:e,e)},0):o==s.keyCode.HOME&&!t.shiftKey||o==s.keyCode.PAGE_UP?z(r,0,t.shiftKey?l.begin:0):o==s.keyCode.ESCAPE||90==o&&t.ctrlKey?(D(r,!0,!1,G.split("")),n.click()):o!=s.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=s.insertMode||t.shiftKey||(o==s.keyCode.RIGHT?setTimeout(function(){var e=z(r);z(r,e.begin)},0):o==s.keyCode.LEFT&&setTimeout(function(){var e=z(r);z(r,e.begin-1)},0)):(s.insertMode=!s.insertMode,z(r,s.insertMode||l.begin!=k()?l.begin:l.begin-1));var n=z(r),d=s.onKeyDown.call(this,t,w(),s);d&&!0===d.refreshFromBuffer&&(i.validPositions={},i.tests={},y(0,w().length),u(!0),C(r,w()),z(r,n.begin,n.end)),J=-1!=e.inArray(o,s.ignorables)}function W(t,r,n,a,o,l){if(void 0==n&&Q)return!1;Q=!0;var d=e(this);if(t=t||window.event,n=r?n:t.which||t.charCode||t.keyCode,!(!0===r||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||J))return!0;if(n){!0!==r&&46==n&&0==t.shiftKey&&","==s.radixPoint&&(n=44);var h;n=String.fromCharCode(n),r?(l=o?l:p()+1,l={begin:l,end:l}):l=z(this);var c=Y?1<l.begin-l.end||1==l.begin-l.end&&s.insertMode:1<l.end-l.begin||1==l.end-l.begin&&s.insertMode;c&&(i.undoPositions=e.extend(!0,{},i.validPositions),N(this,s.keyCode.DELETE,l),s.insertMode||(s.insertMode=!s.insertMode,f(l.begin,o),s.insertMode=!s.insertMode),c=!s.multi),i.writeOutBuffer=!0;var g=l.begin,v=j(g,n,o);if(!1!==v&&(!0!==v&&(g=void 0!=v.pos?v.pos:g,n=void 0!=v.c?v.c:n),u(!0),void 0!=v.caret?h=v.caret:(o=i.validPositions,h=void 0!=o[g+1]&&m(l+1,o[g].locator.slice(),g).match.def!=o[g+1].match.def?g+1:I(g)),i.p=h),!1!==a){var b=this;if(setTimeout(function(){s.onKeyValidation.call(b,v,s)},0),i.writeOutBuffer&&!1!==v){var x=w();C(this,x,r?void 0:s.numericInput?T(h):h),!0!==r&&setTimeout(function(){!0===M(x)&&d.trigger("complete"),Z=!0,d.trigger("input")},0)}else c&&(i.buffer=void 0,i.validPositions=i.undoPositions)}else c&&(i.buffer=void 0,i.validPositions=i.undoPositions);s.showTooltip&&d.prop("title",i.mask),t&&1!=r&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}}function R(t){var r=e(this),n=t.keyCode,a=w();(t=s.onKeyUp.call(this,t,a,s))&&!0===t.refreshFromBuffer&&(i.validPositions={},i.tests={},y(0,w().length),u(!0),C(this,w())),n==s.keyCode.TAB&&s.showMaskOnFocus&&(r.hasClass("focus.inputmask")&&0==this._valueGet().length?(u(),a=w(),C(this,a),z(this,0),G=w().join("")):(C(this,a),z(this,A(0),A(k()))))}function $(t){if(!0===Z&&"input"==t.type)return Z=!1,!0;var i=this,r=e(i);return"propertychange"==t.type&&i._valueGet().length<=k()?!0:void setTimeout(function(){var t=e.isFunction(s.onBeforePaste)?s.onBeforePaste.call(i,i._valueGet(),s):i._valueGet();D(i,!0,!1,t.split(""),!0),!0===M(w())&&r.trigger("complete"),r.click()},0)}function U(e){if(!0===Z&&"input"==e.type)return Z=!1,!0;var t=z(this),i=this._valueGet(),i=i.replace(RegExp("("+P(x().join(""))+")*"),"");t.begin>i.length&&(z(this,i.length),t=z(this)),1!=w().length-i.length||i.charAt(t.begin)==w()[t.begin]||i.charAt(t.begin+1)==w()[t.begin]||q(t.begin)||(e.keyCode=s.keyCode.BACKSPACE,F.call(this,e)),e.preventDefault()}function V(t){if(K=e(t),K.is(":input")&&"number"!=K.attr("type")){if(K.data("_inputmask",{maskset:i,opts:s,isRTL:!1}),s.showTooltip&&K.prop("title",i.mask),O(t),("rtl"==t.dir||s.rightAlign)&&K.css("text-align","right"),"rtl"==t.dir||s.numericInput){t.dir="ltr",K.removeAttr("dir");var n=K.data("_inputmask");n.isRTL=!0,K.data("_inputmask",n),Y=!0}K.unbind(".inputmask"),K.removeClass("focus.inputmask"),K.closest("form").bind("submit",function(){G!=w().join("")&&K.change()}).bind("reset",function(){setTimeout(function(){K.trigger("setvalue")},0)}),K.bind("mouseenter.inputmask",function(){!e(this).hasClass("focus.inputmask")&&s.showMaskOnHover&&this._valueGet()!=w().join("")&&C(this,w())}).bind("blur.inputmask",function(){var t=e(this);if(t.data("_inputmask")){var i=this._valueGet(),r=w();t.removeClass("focus.inputmask"),G!=w().join("")&&t.change(),s.clearMaskOnLostFocus&&""!=i&&(i==x().join("")?this._valueSet(""):H(this)),!1===M(r)&&(t.trigger("incomplete"),s.clearIncomplete&&(u(),s.clearMaskOnLostFocus?this._valueSet(""):(r=x().slice(),C(this,r))))}}).bind("focus.inputmask",function(){var t=e(this),i=this._valueGet();s.showMaskOnFocus&&!t.hasClass("focus.inputmask")&&(!s.showMaskOnHover||s.showMaskOnHover&&""==i)&&this._valueGet()!=w().join("")&&C(this,w(),I(p())),t.addClass("focus.inputmask"),G=w().join("")}).bind("mouseleave.inputmask",function(){var t=e(this);s.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||this._valueGet()==t.attr("placeholder")||(this._valueGet()==x().join("")||""==this._valueGet()?this._valueSet(""):H(this)))}).bind("click.inputmask",function(){var e=this;setTimeout(function(){var t=z(e);if(w(),t.begin==t.end){var t=Y?A(t.begin):t.begin,i=p(t),i=I(i);i>t?q(t)?z(e,t):z(e,I(t)):z(e,i)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){z(e,0,I(p()))},0)}).bind(c+".inputmask dragdrop.inputmask drop.inputmask",$).bind("setvalue.inputmask",function(){D(this,!0),G=w().join(""),this._valueGet()==x().join("")&&this._valueSet("")}).bind("complete.inputmask",s.oncomplete).bind("incomplete.inputmask",s.onincomplete).bind("cleared.inputmask",s.oncleared),K.bind("keydown.inputmask",F).bind("keypress.inputmask",W).bind("keyup.inputmask",R),(o||d||l||h)&&("input"==c&&K.unbind(c+".inputmask"),K.bind("input.inputmask",U)),r&&K.bind("input.inputmask",$),n=e.isFunction(s.onBeforeMask)?s.onBeforeMask.call(t,t._valueGet(),s):t._valueGet(),D(t,!0,!1,n.split(""),!0),G=w().join("");var a;try{a=document.activeElement}catch(f){}a===t?(K.addClass("focus.inputmask"),z(t,I(p()))):s.clearMaskOnLostFocus?w().join("")==x().join("")?t._valueSet(""):H(t):C(t,w()),L(t)}}var G,K,X,Y=!1,Q=!1,Z=!1,J=!1;if(void 0!=t)switch(t.action){case"isComplete":return K=e(t.el),i=K.data("_inputmask").maskset,s=K.data("_inputmask").opts,M(t.buffer);case"unmaskedvalue":return K=t.$input,i=K.data("_inputmask").maskset,s=K.data("_inputmask").opts,Y=t.$input.data("_inputmask").isRTL,B(t.$input,t.skipDatepickerCheck);case"mask":G=w().join(""),V(t.el);break;case"format":K=e({}),K.data("_inputmask",{maskset:i,opts:s,isRTL:s.numericInput}),s.numericInput&&(Y=!0);var et=t.value.split("");return D(K,!1,!1,Y?et.reverse():et,!0),Y?w().reverse().join(""):w().join("");case"isValid":return K=e({}),K.data("_inputmask",{maskset:i,opts:s,isRTL:s.numericInput}),s.numericInput&&(Y=!0),et=t.value.split(""),D(K,!1,!0,Y?et.reverse():et),M(w());case"getemptymask":return K=e(t.el),i=K.data("_inputmask").maskset,s=K.data("_inputmask").opts,x();case"remove":t=t.el,K=e(t),i=K.data("_inputmask").maskset,s=K.data("_inputmask").opts,t._valueSet(B(K)),K.unbind(".inputmask"),K.removeClass("focus.inputmask"),K.removeData("_inputmask"),Object.getOwnPropertyDescriptor&&(et=Object.getOwnPropertyDescriptor(t,"value")),et&&et.get?t._valueGet&&Object.defineProperty(t,"value",{get:t._valueGet,set:t._valueSet}):document.__lookupGetter__&&t.__lookupGetter__("value")&&t._valueGet&&(t.__defineGetter__("value",t._valueGet),t.__defineSetter__("value",t._valueSet));try{delete t._valueGet,delete t._valueSet}catch(tt){t._valueGet=void 0,t._valueSet=void 0}}};e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:e.noop,onKeyDown:e.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,getLastValidPosition:void 0,rightAlign:!1,radixPoint:"",definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0},masksCache:{},escapeRegex:function(e){return e.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")},format:function(t,r){var n=e.extend(!0,{},e.inputmask.defaults,r);return i(n.alias,r,n),u({action:"format",value:t},s(n),n)},isValid:function(t,r){var n=e.extend(!0,{},e.inputmask.defaults,r);return i(n.alias,r,n),u({action:"isValid",value:t},s(n),n)}},e.fn.inputmask=function(t,r,n,a,o){function l(t,i){var s,r=e(t);for(s in i){var n=r.data("inputmask-"+s.toLowerCase());void 0!=n&&(i[s]=n)}return i}n=n||u,a=a||"_inputmask";var d,h=e.extend(!0,{},e.inputmask.defaults,r);if("string"==typeof t)switch(t){case"mask":return i(h.alias,r,h),d=s(h),0==d.length?this:this.each(function(){n({action:"mask",el:this},e.extend(!0,{},e.isArray(d)&&n===u?d[0]:d),l(this,h))});case"unmaskedvalue":return t=e(this),t.data(a)?n({action:"unmaskedvalue",$input:t}):t.val();case"remove":return this.each(function(){e(this).data(a)&&n({action:"remove",el:this})});case"getemptymask":return this.data(a)?n({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data(a)?!this.data(a).opts.autoUnmask:!1;case"isComplete":return this.data(a)?n({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":if(this.data(a))return d=this.data(a).maskset,d.metadata;break;case"_detectScope":return i(h.alias,r,h),void 0==o||i(o,r,h)||-1!=e.inArray(o,"mask unmaskedvalue remove getemptymask hasMaskedValue isComplete getmetadata _detectScope".split(" "))||(h.mask=o),e.isFunction(h.mask)&&(h.mask=h.mask.call(this,h)),e.isArray(h.mask);default:return i(t,r,h)||(h.mask=t),d=s(h),void 0==d?this:this.each(function(){n({action:"mask",el:this},e.extend(!0,{},e.isArray(d)&&n===u?d[0]:d),l(this,h))})}else{if("object"==typeof t)return h=e.extend(!0,{},e.inputmask.defaults,t),i(h.alias,t,h),d=s(h),void 0==d?this:this.each(function(){n({action:"mask",el:this},e.extend(!0,{},e.isArray(d)&&n===u?d[0]:d),l(this,h))});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{var t=t.replace(RegExp("'","g"),'"'),s=e.parseJSON("{"+t+"}");e.extend(!0,s,r),h=e.extend(!0,{},e.inputmask.defaults,s),i(h.alias,s,h),h.alias=void 0,e(this).inputmask("mask",h,n)}catch(a){}})}}}}(jQuery),function(e){if(void 0!=e.fn.inputmask){var t=function(t,i,s){function r(e){var t=document.createElement("input");e="on"+e;var i=e in t;return i||(t.setAttribute(e,"return;"),i="function"==typeof t[e]),i}function n(t){if(void 0==e.valHooks[t]||1!=e.valHooks[t].inputmaskmultipatch){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},s=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(t){var s=e(t);return s.data("_inputmask-multi")?(t=s.data("_inputmask-multi"),i(t.elmasks[t.activeMasksetIndex])):i(t)},set:function(t,i){var r=e(t),n=s(t,i);return r.data("_inputmask-multi")&&r.triggerHandler("setvalue"),n},inputmaskmultipatch:!0}}}function a(t,i,r){if(t=t.jquery&&0<t.length?t[0]:t,"number"!=typeof i)return n=e(t).data("_inputmask"),!e(t).is(":visible")&&n&&void 0!=n.caret?(i=n.caret.begin,r=n.caret.end):t.setSelectionRange?(i=t.selectionStart,r=t.selectionEnd):document.selection&&document.selection.createRange&&(t=document.selection.createRange(),i=0-t.duplicate().moveStart("character",-1e5),r=i+t.text.length),i=o(i),r=o(r),{begin:i,end:r};if(i=o(i),r=o(r),r="number"==typeof r?r:i,t!=c){var n=e(t).data("_inputmask")||{};n.caret={begin:i,end:r},e(t).data("_inputmask",n)}e(t).is(":visible")&&(t.scrollLeft=t.scrollWidth,0==s.insertMode&&i==r&&r++,t.setSelectionRange?(t.selectionStart=i,t.selectionEnd=r):t.createTextRange&&(t=t.createTextRange(),t.collapse(!0),t.moveEnd("character",r),t.moveStart("character",i),t.select()))}function o(e){return!h||"number"!=typeof e||s.greedy&&""==s.placeholder||(e=c.value.length-e),e}function l(t,i){if("multiMaskScope"!=t){if(e.isFunction(s.determineActiveMasksetIndex))f=s.determineActiveMasksetIndex.call(u,t,i);else{var r=-1,n=-1,o=-1;e.each(i,function(t,i){var s,l=e(i).data("_inputmask").maskset,d=-1,h=0,c=a(i).begin;for(s in l.validPositions)l=parseInt(s),l>d&&(d=l),h++;(h>r||h==r&&n>c&&o>d||h==r&&n==c&&d>o)&&(r=h,n=c,f=t,o=d)})}var l=u.data("_inputmask-multi")||{activeMasksetIndex:0,elmasks:i};l.activeMasksetIndex=f,u.data("_inputmask-multi",l)}-1==e.inArray(t,["focus"])&&c.value!=i[f]._valueGet()&&(l=""==e(i[f]).val()?i[f]._valueGet():e(i[f]).val(),c.value=l),-1==e.inArray(t,["blur","focus"])&&e(i[f]).hasClass("focus.inputmask")&&(l=a(i[f]),a(c,l.begin,l.end))}function d(t){c=t,u=e(c),h="rtl"==c.dir||s.numericInput,f=0,p=e.map(i,function(t){var i='<input type="text" ';return u.attr("value")&&(i+='value="'+u.attr("value")+'" '),u.attr("dir")&&(i+='dir="'+u.attr("dir")+'" '),i=e(i+"/>")[0],e(i).inputmask(e.extend({},s,{mask:t.mask})),i}),u.data("_inputmask-multi",{activeMasksetIndex:0,elmasks:p}),("rtl"==c.dir||s.rightAlign)&&u.css("text-align","right"),c.dir="ltr",u.removeAttr("dir"),""!=u.attr("value")&&l("init",p),u.bind("mouseenter blur focus mouseleave click dblclick keydown keypress keypress",function(t){var i,r=a(c),n=!0;if("keydown"==t.type){if(i=t.keyCode,i==s.keyCode.DOWN&&f<p.length-1)return f++,l("multiMaskScope",p),!1;if(i==s.keyCode.UP&&f>0)return f--,l("multiMaskScope",p),!1;if(t.ctrlKey||t.shiftKey||t.altKey)return!0}else if("keypress"==t.type&&(t.ctrlKey||t.shiftKey||t.altKey))return!0;e.each(p,function(l,d){if("keydown"==t.type){if(i=t.keyCode,i==s.keyCode.BACKSPACE&&d._valueGet().length<r.begin)return;if(i==s.keyCode.TAB)n=!1;else{if(i==s.keyCode.RIGHT)return a(d,r.begin+1,r.end+1),void(n=!1);if(i==s.keyCode.LEFT)return a(d,r.begin-1,r.end-1),void(n=!1)}}return-1!=e.inArray(t.type,["click"])&&(a(d,o(r.begin),o(r.end)),r.begin!=r.end)?void(n=!1):(-1!=e.inArray(t.type,["keydown"])&&r.begin!=r.end&&a(d,r.begin,r.end),void e(d).triggerHandler(t))}),n&&setTimeout(function(){l(t.type,p)},0)}),u.bind(m+" dragdrop drop setvalue",function(t){a(c),setTimeout(function(){e.each(p,function(i,s){s._valueSet(c.value),e(s).triggerHandler(t)}),setTimeout(function(){l(t.type,p)},0)},0)}),n(c.type)}var h,c,u,p,f,m=r("paste")?"paste":r("input")?"input":"propertychange";if(s.multi=!0,void 0!=t)switch(t.action){case"isComplete":return u=e(t.el),t=u.data("_inputmask-multi"),t=t.elmasks[t.activeMasksetIndex],e(t).inputmask("isComplete");case"unmaskedvalue":return u=t.$input,t=u.data("_inputmask-multi"),t=t.elmasks[t.activeMasksetIndex],e(t).inputmask("unmaskedvalue");case"mask":d(t.el);break;case"format":return u=e({}),u.data("_inputmask",{maskset:maskset,opts:s,isRTL:s.numericInput}),s.numericInput&&(h=!0),t=t.value.split(""),checkVal(u,!1,!1,h?t.reverse():t,!0),h?getBuffer().reverse().join(""):getBuffer().join("");case"isValid":return u=e({}),u.data("_inputmask",{maskset:maskset,opts:s,isRTL:s.numericInput}),s.numericInput&&(h=!0),t=t.value.split(""),checkVal(u,!1,!0,h?t.reverse():t),isComplete(getBuffer());case"getemptymask":return u=e(t.el),maskset=u.data("_inputmask").maskset,s=u.data("_inputmask").opts,getBufferTemplate();case"remove":c=t.el,u=e(c),maskset=u.data("_inputmask").maskset,s=u.data("_inputmask").opts,c._valueSet(unmaskedvalue(u)),u.unbind(".inputmask"),u.removeClass("focus.inputmask"),u.removeData("_inputmask");var g;Object.getOwnPropertyDescriptor&&(g=Object.getOwnPropertyDescriptor(c,"value")),g&&g.get?c._valueGet&&Object.defineProperty(c,"value",{get:c._valueGet,set:c._valueSet}):document.__lookupGetter__&&c.__lookupGetter__("value")&&c._valueGet&&(c.__defineGetter__("value",c._valueGet),c.__defineSetter__("value",c._valueSet));try{delete c._valueGet,delete c._valueSet}catch(v){c._valueGet=void 0,c._valueSet=void 0}}};e.extend(e.inputmask.defaults,{multi:!1,nojumps:!1,nojumpsThreshold:0,determineActiveMasksetIndex:void 0}),e.inputmask._fn=e.fn.inputmask,e.fn.inputmask=function(i,s){return"string"==typeof i?e.inputmask._fn("_detectScope",s,void 0,void 0,i)?e.inputmask._fn.call(this,i,s,t,"_inputmask-multi"):e.inputmask._fn.call(this,i,s):"object"==typeof i?e.inputmask._fn("_detectScope",i)?e.inputmask._fn.call(this,i,s,t,"_inputmask-multi"):e.inputmask._fn.call(this,i,s):void 0==i?e.inputmask._fn.call(this,i,s):void 0}}}(jQuery),function(e){e.extend(e.inputmask.defaults.definitions,{A:{validator:"[A-Za-z]",cardinality:1,casing:"upper"},"#":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1,casing:"upper"}}),e.extend(e.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:/[fh]/,urlpre2:/(ft|ht)/,urlpre3:/(ftp|htt)/,urlpre4:/(ftp:|http|ftps)/,urlpre5:/(ftp:\/|ftps:|http:|https)/,urlpre6:/(ftp:\/\/|ftps:\/|http:\/|https:)/,urlpre7:/(ftp:\/\/|ftps:\/\/|http:\/\/|https:\/)/,urlpre8:/(ftp:\/\/|ftps:\/\/|http:\/\/|https:\/\/)/},definitions:{i:{validator:function(){return!0},cardinality:8,prevalidator:function(){for(var e=[],t=0;8>t;t++)e[t]=function(){var e=t;return{validator:function(t,i,s,r,n){if(n.regex["urlpre"+(e+1)]){var a=t;if(0<e+1-t.length&&(a=i.join("").substring(0,e+1-t.length)+""+a),t=n.regex["urlpre"+(e+1)].test(a),!r&&!t){for(s-=e,r=0;r<n.defaultPrefix.length;r++)i[s]=n.defaultPrefix[r],s++;for(r=0;r<a.length-1;r++)i[s]=a[r],s++;return{pos:s}}return t}return!1},cardinality:e}}();return e}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,i){return i-1>-1&&"."!=t[i-1]?(e=t[i-1]+e,e=i-2>-1&&"."!=t[i-2]?t[i-2]+e:"0"+e):e="00"+e,/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/.test(e)},cardinality:1}}},email:{mask:"*{1,20}[.*{1,20}][.*{1,20}][.*{1,20}]@*{1,20}.*{2,6}[.*{1,2}]",greedy:!1,onBeforePaste:function(e){return e=e.toLowerCase(),e.replace("mailto:","")},definitions:{"*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]",cardinality:1,casing:"lower"}}}})}(jQuery),function(e){e.extend(e.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),e.extend(e.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:/[0-3]/,val1:/0[1-9]|[12][0-9]|3[01]/,val2pre:function(t){return t=e.inputmask.escapeRegex.call(this,t),RegExp("((0[1-9]|[12][0-9]|3[01])"+t+"[01])")},val2:function(t){return t=e.inputmask.escapeRegex.call(this,t),RegExp("((0[1-9]|[12][0-9])"+t+"(0[1-9]|1[012]))|(30"+t+"(0[13-9]|1[012]))|(31"+t+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,i){if(isNaN(e))return!1;var s=parseInt(e.concat(t.toString().slice(e.length)));return e=parseInt(e.concat(i.toString().slice(e.length))),(isNaN(s)?!1:s>=t&&i>=s)||(isNaN(e)?!1:e>=t&&i>=e)},determinebaseyear:function(e,t,i){var s=(new Date).getFullYear();if(e>s)return e;if(s>t){for(var s=t.toString().slice(0,2),r=t.toString().slice(2,4);s+i>t;)s--;return t=s+r,e>t?e:t}return s},onKeyUp:function(t,i,s){i=e(this),t.ctrlKey&&t.keyCode==s.keyCode.RIGHT&&(t=new Date,i.val(t.getDate().toString()+(t.getMonth()+1).toString()+t.getFullYear().toString()))},definitions:{1:{validator:function(e,t,i,s,r){var n=r.regex.val1.test(e);return s||n||e.charAt(1)!=r.separator&&-1=="-./".indexOf(e.charAt(1))||!(n=r.regex.val1.test("0"+e.charAt(0)))?n:(t[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,i,s,r){isNaN(t[i+1])||(e+=t[i+1]);var n=1==e.length?r.regex.val1pre.test(e):r.regex.val1.test(e);return s||n||!(n=r.regex.val1.test("0"+e))?n:(t[i]="0",i++,{pos:i})},cardinality:1}]},2:{validator:function(e,t,i,s,r){var n=r.mask.indexOf("2")==r.mask.length-1?t.join("").substr(5,3):t.join("").substr(0,3);-1!=n.indexOf(r.placeholder[0])&&(n="01"+r.separator);var a=r.regex.val2(r.separator).test(n+e);return s||a||e.charAt(1)!=r.separator&&-1=="-./".indexOf(e.charAt(1))||!(a=r.regex.val2(r.separator).test(n+"0"+e.charAt(0)))?r.mask.indexOf("2")==r.mask.length-1&&a?t.join("").substr(4,4)+e!=r.leapday?!0:(e=parseInt(t.join("").substr(0,4),10),0===e%4?0===e%100?0===e%400?!0:!1:!0:!1):a:(t[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,i,s,r){isNaN(t[i+1])||(e+=t[i+1]);var n=r.mask.indexOf("2")==r.mask.length-1?t.join("").substr(5,3):t.join("").substr(0,3);
-1!=n.indexOf(r.placeholder[0])&&(n="01"+r.separator);var a=1==e.length?r.regex.val2pre(r.separator).test(n+e):r.regex.val2(r.separator).test(n+e);return s||a||!(a=r.regex.val2(r.separator).test(n+"0"+e))?a:(t[i]="0",i++,{pos:i})},cardinality:1}]},y:{validator:function(e,t,i,s,r){return r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear)?t.join("").substr(0,6)!=r.leapday?!0:(e=parseInt(e,10),0===e%4?0===e%100?0===e%400?!0:!1:!0:!1):!1},cardinality:4,prevalidator:[{validator:function(e,t,i,s,r){var n=r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear);if(!s&&!n){if(s=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e+"0").toString().slice(0,1),n=r.isInYearRange(s+e,r.yearrange.minyear,r.yearrange.maxyear))return t[i++]=s[0],{pos:i};if(s=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e+"0").toString().slice(0,2),n=r.isInYearRange(s+e,r.yearrange.minyear,r.yearrange.maxyear))return t[i++]=s[0],t[i++]=s[1],{pos:i}}return n},cardinality:1},{validator:function(e,t,i,s,r){var n=r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear);if(!s&&!n){if(s=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e).toString().slice(0,2),n=r.isInYearRange(e[0]+s[1]+e[1],r.yearrange.minyear,r.yearrange.maxyear))return t[i++]=s[1],{pos:i};if(s=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e).toString().slice(0,2),r.isInYearRange(s+e,r.yearrange.minyear,r.yearrange.maxyear)?t.join("").substr(0,6)!=r.leapday?n=!0:(r=parseInt(e,10),n=0===r%4?0===r%100?0===r%400?!0:!1:!0:!1):n=!1,n)return t[i-1]=s[0],t[i++]=s[1],t[i++]=e[0],{refreshFromBuffer:{start:i-3,end:i},pos:i}}return n},cardinality:2},{validator:function(e,t,i,s,r){return r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){return t=e.inputmask.escapeRegex.call(this,t),RegExp("((0[13-9]|1[012])"+t+"[0-3])|(02"+t+"[0-2])")},val2:function(t){return t=e.inputmask.escapeRegex.call(this,t),RegExp("((0[1-9]|1[012])"+t+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+t+"30)|((0[13578]|1[02])"+t+"31)")},val1pre:/[01]/,val1:/0[1-9]|1[012]/},leapday:"02/29/",onKeyUp:function(t,i,s){i=e(this),t.ctrlKey&&t.keyCode==s.keyCode.RIGHT&&(t=new Date,i.val((t.getMonth()+1).toString()+t.getDate().toString()+t.getFullYear().toString()))}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(t,i,s){i=e(this),t.ctrlKey&&t.keyCode==s.keyCode.RIGHT&&(t=new Date,i.val(t.getFullYear().toString()+(t.getMonth()+1).toString()+t.getDate().toString()))}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:/[012]/,hrs24:/2[0-4]|1[3-9]/,hrs:/[01][0-9]|2[0-4]/,ampm:/^[a|p|A|P][m|M]/},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,i,s,r){if("24"==r.hourFormat&&24==parseInt(e,10))return t[i-1]="0",t[i]="0",{refreshFromBuffer:{start:i-1,end:i},c:"0"};var n=r.regex.hrs.test(e);return s||n||e.charAt(1)!=r.timeseparator&&-1=="-.:".indexOf(e.charAt(1))||!(n=r.regex.hrs.test("0"+e.charAt(0)))?n&&"24"!==r.hourFormat&&r.regex.hrs24.test(e)?(e=parseInt(e,10),t[i+5]=24==e?"a":"p",t[i+6]="m",e-=12,10>e?(t[i]=e.toString(),t[i-1]="0"):(t[i]=e.toString().charAt(1),t[i-1]=e.toString().charAt(0)),{refreshFromBuffer:{start:i-1,end:i+6},c:t[i]}):n:(t[i-1]="0",t[i]=e.charAt(0),i++,{refreshFromBuffer:{start:i-2,end:i},pos:i,c:r.timeseparator})},cardinality:2,prevalidator:[{validator:function(e,t,i,s,r){var n=r.regex.hrspre.test(e);return s||n||!(n=r.regex.hrs.test("0"+e))?n:(t[i]="0",i++,{pos:i})},cardinality:1}]},t:{validator:function(e,t,i,s,r){return r.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",autoUnmask:!1},"hh:mm":{mask:"h:s",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}})}(jQuery),function(e){e.extend(e.inputmask.defaults.aliases,{numeric:{mask:function(e){if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.autoGroup=e.autoGroup&&""!=e.groupSeparator,e.autoGroup&&isFinite(e.integerDigits)){var t=Math.floor(e.integerDigits/e.groupSize);e.integerDigits+=0==e.integerDigits%e.groupSize?t-1:t}return t=e.prefix,t=t+"[+]"+("~{1,"+e.integerDigits+"}"),void 0!=e.digits&&(isNaN(e.digits)||0<parseInt(e.digits))&&(t=e.digitsOptional?t+("["+e.radixPoint+"~{"+e.digits+"}]"):t+(e.radixPoint+"~{"+e.digits+"}")),t+=e.suffix},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,integerDigits:"+",defaultValue:"",prefix:"",suffix:"",skipRadixDance:!1,getLastValidPosition:function(t,i,s){var r,n=-1,a=t.validPositions;for(r in a)a=parseInt(r),a>n&&(n=a);return void 0!=i&&(t=t.buffer,!1===s.skipRadixDance&&""!=s.radixPoint&&-1!=e.inArray(s.radixPoint,t)&&(n=e.inArray(s.radixPoint,t))),n},rightAlign:!0,postFormat:function(t,i,s,r){var n=!1;if(""==r.groupSeparator)return{pos:i};var a=t.slice();if(s||a.splice(i,0,"?"),a=a.join(""),r.autoGroup||s&&-1!=a.indexOf(r.groupSeparator)){var o=e.inputmask.escapeRegex.call(this,r.groupSeparator),a=a.replace(RegExp(o,"g"),""),o=a.split(r.radixPoint),a=o[0];if(a!=r.prefix+"?0")for(var n=!0,l=RegExp("([-+]?[\\d?]+)([\\d?]{"+r.groupSize+"})");l.test(a);)a=a.replace(l,"$1"+r.groupSeparator+"$2"),a=a.replace(r.groupSeparator+r.groupSeparator,r.groupSeparator);1<o.length&&(a+=r.radixPoint+o[1])}for(t.length=a.length,r=0,o=a.length;o>r;r++)t[r]=a.charAt(r);return a=e.inArray("?",t),s||t.splice(a,1),{pos:s?i:a,refreshFromBuffer:n}},onKeyDown:function(t,i,s){return e(this),s.autoGroup&&t.keyCode==s.keyCode.DELETE||t.keyCode==s.keyCode.BACKSPACE?s.postFormat(i,0,!0,s):void 0},regex:{integerPart:function(){return/[-+]?\d+/}},definitions:{"~":{validator:function(t,i,s,r,n){if(!r&&n.allowMinus&&"-"===t){var a=i.join("").match(n.regex.integerPart(n));if(0<a.length)return"+"==i[a.index]?(i.splice(a.index,1),{pos:a.index,c:"-",refreshFromBuffer:!0,caret:s}):"-"==i[a.index]?(i.splice(a.index,1),{refreshFromBuffer:!0,caret:s-1}):{pos:a.index,c:"-",caret:s+1}}return a=r?RegExp("[0-9"+e.inputmask.escapeRegex.call(this,n.groupSeparator)+"]").test(t):/[0-9]/.test(t),0==a||r||t==n.radixPoint||!0!==n.autoGroup?a:n.postFormat(i,s,"-"==t||"+"==t?!0:!1,n)},cardinality:1,prevalidator:null},"+":{validator:function(e,t,i,s,r){return t="[",!0===r.allowMinus&&(t+="-"),!0===r.allowPlus&&(t+="+"),RegExp(t+"]").test(e)},cardinality:1,prevalidator:null}},insertMode:!0,autoUnmask:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0"}})}(jQuery),function(e){e.extend(e.inputmask.defaults.aliases,{Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,t){return RegExp(t.regex).test(e.join(""))},definitions:{r:{validator:function(t,i,s,r,n){function a(e,t){this.matches=[],this.isGroup=e||!1,this.isQuantifier=t||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function o(){var e,t=new a,i=[];for(n.regexTokens=[];e=n.tokenizer.exec(n.regex);)switch(e=e[0],e.charAt(0)){case"(":i.push(new a(!0));break;case")":var s=i.pop();0<i.length?i[i.length-1].matches.push(s):t.matches.push(s);break;case"{":case"+":case"*":var r=new a(!1,!0);if(e=e.replace(/[{}]/g,""),s=e.split(","),e=isNaN(s[0])?s[0]:parseInt(s[0]),s=1==s.length?e:isNaN(s[1])?s[1]:parseInt(s[1]),r.quantifier={min:e,max:s},0<i.length){var o=i[i.length-1].matches;e=o.pop(),e.isGroup||(s=new a(!0),s.matches.push(e),e=s),o.push(e),o.push(r)}else e=t.matches.pop(),e.isGroup||(s=new a(!0),s.matches.push(e),e=s),t.matches.push(e),t.matches.push(r);break;default:0<i.length?i[i.length-1].matches.push(e):t.matches.push(e)}0<t.matches.length&&n.regexTokens.push(t)}function l(t,i){var s=!1;i&&(d+="(",h++);for(var r=0;r<t.matches.length;r++){var n=t.matches[r];if(1==n.isGroup)s=l(n,!0);else if(1==n.isQuantifier){var a=e.inArray(n,t.matches),a=t.matches[a-1],o=d;if(isNaN(n.quantifier.max)){for(;n.repeaterPart&&n.repeaterPart!=d&&n.repeaterPart.length>d.length&&!(s=l(a,!0)););(s=s||l(a,!0))&&(n.repeaterPart=d),d=o+n.quantifier.max}else{for(var u=0,p=n.quantifier.max-1;p>u&&!(s=l(a,!0));u++);d=o+"{"+n.quantifier.min+","+n.quantifier.max+"}"}}else if(void 0!=n.matches)for(a=0;a<n.length&&!(s=l(n[a],i));a++);else{if("["==n[0]){for(s=d,s+=n,u=0;h>u;u++)s+=")";s=RegExp("^("+s+")$"),s=s.test(c)}else for(a=0,o=n.length;o>a;a++)if("\\"!=n[a]){for(s=d,s+=n.substr(0,a+1),s=s.replace(/\|$/,""),u=0;h>u;u++)s+=")";if(s=RegExp("^("+s+")$"),s=s.test(c))break}d+=n}if(s)break}return i&&(d+=")",h--),s}null==n.regexTokens&&o(),r=i.slice();var d="";i=!1;var h=0;r.splice(s,0,t);var c=r.join("");for(t=0;t<n.regexTokens.length&&(a=n.regexTokens[t],!(i=l(a,a.isGroup)));t++);return i},cardinality:1}}}})}(jQuery),function(e){e.extend(e.inputmask.defaults.aliases,{phone:{url:"phone-codes/phone-codes.json",mask:function(t){t.definitions={p:{validator:function(){return!1},cardinality:1},"#":{validator:"[0-9]",cardinality:1}};var i=[];return e.ajax({url:t.url,async:!1,dataType:"json",success:function(e){i=e}}),i.splice(0,0,"+p(ppp)ppp-pppp"),i},nojumps:!0,nojumpsThreshold:1},phonebe:{url:"phone-codes/phone-be.json",mask:function(t){t.definitions={p:{validator:function(){return!1},cardinality:1},"#":{validator:"[0-9]",cardinality:1}};var i=[];return e.ajax({url:t.url,async:!1,dataType:"json",success:function(e){i=e}}),i.splice(0,0,"+32(ppp)ppp-pppp"),i},nojumps:!0,nojumpsThreshold:4}})}(jQuery),function(){$.fn.animalesDisponibles=function(e,t,i,s,r){return $.ajax({type:"POST",url:$("#root_path").val()+"rga/animales/disponibles",data:{empresa_id:e,establecimiento_id:t,origcategoria_id:i,origrodeo_id:s,origestado_id:r},dataType:"script"})},$.fn.eventoTipoCodigo=function(e){return $.ajax({type:"GET",url:$("#root_path").val()+"rga/eventos/"+e+"/tipocodigo",dataType:"script"})}}.call(this);